06:24:45 WARNING unexpected facade SSHServer received from the controller
06:24:45 INFO Adding model github-pr-c8563-lxd:test-charm-fork-path-change-0rwo on cloud localhost
06:24:45 WARNING unexpected facade SSHServer received from the controller
06:24:45 WARNING unexpected facade SSHSession received from the controller
06:24:45 WARNING unexpected facade SSHTunneler received from the controller
06:24:47 INFO Deploying ch:amd64/jammy/github-runner-image-builder-84
06:25:09 INFO Deploying local:jammy/github-runner-0
06:25:09 INFO Waiting for model:
  test-u62ls8t5/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-u62ls8t5/0 [allocating] waiting: waiting for machine
06:25:39 INFO Waiting for model:
  test-u62ls8t5/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-u62ls8t5/0 [allocating] waiting: waiting for machine
06:26:09 INFO Waiting for model:
  test-u62ls8t5/0 [allocating] waiting: agent initialising
  github-runner-image-builder-u62ls8t5/0 [allocating] waiting: agent initialising
06:26:39 INFO Waiting for model:
  test-u62ls8t5/0 [executing] maintenance: installing charm software
  github-runner-image-builder-u62ls8t5/0 [executing] maintenance: Setting up Builder.
06:27:09 INFO Waiting for model:
  test-u62ls8t5/0 [executing] maintenance: installing charm software
  github-runner-image-builder-u62ls8t5/0 [executing] maintenance: Setting up Builder.
06:27:40 INFO Waiting for model:
  test-u62ls8t5/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-u62ls8t5/0 [executing] maintenance: Setting up Builder.
06:28:10 INFO Waiting for model:
  test-u62ls8t5/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-u62ls8t5/0 [executing] maintenance: Setting up Builder.
06:28:40 INFO Waiting for model:
  test-u62ls8t5/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-u62ls8t5/0 [executing] maintenance: Setting up Builder.
06:29:10 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:29:40 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:30:11 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:30:41 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:31:12 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:31:42 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:32:13 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:32:43 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:33:14 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:33:44 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:34:14 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:34:45 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:35:15 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:35:45 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:36:16 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:36:46 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:37:16 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:37:46 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:38:16 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:38:46 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:39:16 INFO Waiting for model:
  test-u62ls8t5/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-u62ls8t5/0 [executing] active: Building image.
06:39:47 INFO Waiting for model:
  test-u62ls8t5/0 [executing] maintenance: Update image for runners
  github-runner-image-builder-u62ls8t5/0 [idle] active: 
06:40:17 INFO Waiting for model:
  test-u62ls8t5/0 [idle] active: 
06:40:24 INFO GitHub token rate limit: Rate(reset=2025-06-04 07:20:43+00:00, remaining=4632, limit=5000)
06:40:36 INFO test_path_config_change
06:40:36 INFO Waiting for model:
  test-u62ls8t5/0 [idle] active: 
06:41:06 INFO Waiting for model:
  test-u62ls8t5/0 [executing] maintenance: Reconciling runners
06:41:36 INFO Waiting for model:
  test-u62ls8t5/0 [idle] active: 
06:41:48 INFO Ensure there is a runner (this calls reconcile)
06:44:19 INFO Waiting for model:
  test-u62ls8t5/0 [executing] active: 
06:44:48 INFO Reconciling (again)
06:47:15 INFO Waiting for model:
  test-u62ls8t5/0 [executing] maintenance: Reconciling runners
06:47:45 INFO runners: ['test-u62ls8t5-0-n-52ceebf7a1cf']
06:47:46 INFO runners in github repo: [SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-3-n-0bd0d2d5f8ec"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-3-n-42ac7cb35cf0"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-3-n-4394097dd67a"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-3-n-549bc619a55f"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-3-n-5bf128eb756e"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-3-n-600ca4c86ddb"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-3-n-6d9a9629d8e6"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-3-n-a40f2f0b3eea"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-3-n-d2ab7f109354"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-3-n-fdf2396f7f68"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps7-0-n-b70a991f0b3a"), SelfHostedActionsRunner(name="test-aakvc2d4-0-n-659e432cb48b"), SelfHostedActionsRunner(name="test-b4v5tr3d-0-n-ab721fe34b13"), SelfHostedActionsRunner(name="test-b68jw5jf-0-n-5a8a61dab093"), SelfHostedActionsRunner(name="test-bhhkgrp7-0-n-9e931243322d"), SelfHostedActionsRunner(name="test-brzvonjd-0-n-f8e0ae031d7c"), SelfHostedActionsRunner(name="test-bza5htyh-0-n-880ba343bc8a"), SelfHostedActionsRunner(name="test-c5rw2v8o-0-n-f90d5dc50fb4"), SelfHostedActionsRunner(name="test-cyqnt6s6-0-n-b07597c6f3f4"), SelfHostedActionsRunner(name="test-dez7tl43-0-n-18cff9c53023"), SelfHostedActionsRunner(name="test-dez7tl43-0-n-2b6284a2d55a"), SelfHostedActionsRunner(name="test-e4omv2gf-0-n-eadc5b0af165"), SelfHostedActionsRunner(name="test-e9nd3j0u-0-n-a9ae184cba2a"), SelfHostedActionsRunner(name="test-ed9j0tlc-0-n-2597f5877cb8"), SelfHostedActionsRunner(name="test-eickz8oi-0-n-0a1ca34ca305"), SelfHostedActionsRunner(name="test-ekq85how-0-n-19c4cbf8146d"), SelfHostedActionsRunner(name="test-g8gkh746-0-n-affbfa480b72"), SelfHostedActionsRunner(name="test-gru9yb8p-0-n-32b4ccb4fd0f"), SelfHostedActionsRunner(name="test-guo9hv7v-0-n-c0469b7a2d28"), SelfHostedActionsRunner(name="test-hz37u959-0-n-ec098134a865"), SelfHostedActionsRunner(name="test-i1keug9i-0-n-a6ca8fbca879"), SelfHostedActionsRunner(name="test-ilocpiro-0-n-ad175a802f9f"), SelfHostedActionsRunner(name="test-jezmh61z-0-n-a6c8ce0553b6"), SelfHostedActionsRunner(name="test-lz2uo62r-0-n-90c2cee13f74"), SelfHostedActionsRunner(name="test-m562yfl5-0-n-4ce9ec4793be"), SelfHostedActionsRunner(name="test-m562yfl5-0-n-5330ee32d0ca"), SelfHostedActionsRunner(name="test-m562yfl5-0-n-bfb86513e2f4"), SelfHostedActionsRunner(name="test-okxk8g43-0-n-b8aee9cd7966"), SelfHostedActionsRunner(name="test-pkcdy66w-0-n-213599daa4dc"), SelfHostedActionsRunner(name="test-pps1u01r-0-n-2e4fc02eb62f"), SelfHostedActionsRunner(name="test-qtn9cafm-0-n-cdaf94f7b402"), SelfHostedActionsRunner(name="test-qxdv4qgc-0-n-cbe676ebb8f1"), SelfHostedActionsRunner(name="test-rwkhq1bc-0-n-84e177047f0e"), SelfHostedActionsRunner(name="test-s0i3imm8-0-n-e9c869e5c6bb"), SelfHostedActionsRunner(name="test-shkejwgi-0-n-8f51b2397142"), SelfHostedActionsRunner(name="test-spisgmh7-0-n-6847217d3e7a"), SelfHostedActionsRunner(name="test-u62ls8t5-0-n-52ceebf7a1cf"), SelfHostedActionsRunner(name="test-us0bno64-0-n-c2bebf3f3307"), SelfHostedActionsRunner(name="test-wqu1pj1q-0-n-f96e8361925f"), SelfHostedActionsRunner(name="test-x7haf43p-0-n-f2d6df94ef06"), SelfHostedActionsRunner(name="test-xmpem5bl-0-n-b441313f9a51"), SelfHostedActionsRunner(name="test-xr3ju8jk-0-n-57da5577036c"), SelfHostedActionsRunner(name="test-y2gx9oa7-0-n-fd0777fa4589"), SelfHostedActionsRunner(name="test-yny6yb4c-0-n-5bf45e8038a0"), SelfHostedActionsRunner(name="test-yw39uy92-0-n-cd458762f5e5"), SelfHostedActionsRunner(name="test-z11g3wm3-0-n-0679c9245d5c")]
06:47:51 INFO Model status:

Model                             Controller           Cloud/Region         Version  SLA          Timestamp
test-charm-fork-path-change-0rwo  github-pr-c8563-lxd  localhost/localhost  3.6.6    unsupported  06:47:51Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-u62ls8t5           active      1  github-runner-image-builder  latest/edge   84  no       
test-u62ls8t5                                  active      1  github-runner                               0  no       

Unit                                     Workload  Agent  Machine  Public address  Ports  Message
github-runner-image-builder-u62ls8t5/0*  active    idle   0        10.161.31.121          
test-u62ls8t5/0*                         active    idle   1        10.161.31.232          

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.161.31.121  juju-4bcc67-0  ubuntu@22.04      Running
1        started  10.161.31.232  juju-4bcc67-1  ubuntu@22.04      Running

06:47:51 INFO Juju error logs:

machine-0: 06:26:04 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 06:26:04 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-u62ls8t5-0: 06:26:04 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 06:26:07 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 06:26:07 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-test-u62ls8t5-0: 06:26:07 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-github-runner-image-builder-u62ls8t5-0: 06:26:50 ERROR unit.github-runner-image-builder-u62ls8t5/0.juju-log Pipx command failed, code: 1, out: None, err: None
unit-test-u62ls8t5-0: 06:45:07 ERROR unit.test-u62ls8t5/0.juju-log Failed to get SSH connection while removing test-u62ls8t5-0-n-dcf338cecfbb
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-u62ls8t5-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 216, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-u62ls8t5-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 144, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-u62ls8t5-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 340, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-u62ls8t5-0-n-dcf338cecfbb, key path: /home/runner-manager/.ssh/test-u62ls8t5-0-n-dcf338cecfbb.key
unit-test-u62ls8t5-0: 06:45:08 ERROR unit.test-u62ls8t5/0.juju-log Invalid pulled metrics. No runner_installed information for test-u62ls8t5-0-n-dcf338cecfbb.
unit-test-u62ls8t5-0: 06:45:08 ERROR unit.test-u62ls8t5/0.juju-log No metrics returned after deleting test-u62ls8t5-0-n-dcf338cecfbb

06:47:51 INFO Forgetting model main...