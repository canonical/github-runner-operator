{"uid":"f37b228d1d4e3dda","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1749019238009,"stop":1749019486518,"duration":248509},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1749018265807,"stop":1749018265807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1749018265807,"stop":1749018266257,"duration":450},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1749018265807,"stop":1749018265807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1749018265807,"stop":1749018265807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1749018266257,"stop":1749018266257,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1749018266257,"stop":1749019222947,"duration":956690},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1749018266258,"stop":1749018266258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1749018266258,"stop":1749018266258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1749018266258,"stop":1749018266258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1749018266258,"stop":1749018266258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1749018266258,"stop":1749018266258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1749018266258,"stop":1749018266258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1749018266258,"stop":1749018266258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1749018266258,"stop":1749018266258,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1749018266259,"stop":1749018266259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1749018266259,"stop":1749018266259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1749018266259,"stop":1749018266259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1749018266259,"stop":1749018266259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1749018266259,"stop":1749018266259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1749018266259,"stop":1749018266259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1749018266259,"stop":1749018266259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1749018266260,"stop":1749018266260,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1749018266260,"stop":1749018266260,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1749018266260,"stop":1749018266268,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1749018266268,"stop":1749018266287,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1749018266287,"stop":1749018268108,"duration":1821},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1749018268108,"stop":1749019222946,"duration":954838},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1749019222947,"stop":1749019224414,"duration":1467},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1749019224414,"stop":1749019225168,"duration":754},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1749019225169,"stop":1749019236007,"duration":10838},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1749019236007,"stop":1749019236018,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1749019236019,"stop":1749019238007,"duration":1988},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1749019238007,"stop":1749019238007,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1749019238007,"stop":1749019238007,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1749019238008,"stop":1749019238008,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"485625564f9bc065","name":"log","source":"485625564f9bc065.txt","type":"text/plain","size":10744}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1749019486519,"stop":1749019486519,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1749019486520,"stop":1749019487134,"duration":614},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1749019487136,"stop":1749019487202,"duration":66},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1749019487203,"stop":1749019496772,"duration":9569},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1749019496777,"stop":1749019497206,"duration":429},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1749019497207,"stop":1749019497207,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1749019497207,"stop":1749019497207,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1749019497207,"stop":1749019497207,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12075-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"9db630d0b02039f2","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":12,"broken":49,"skipped":0,"passed":86,"unknown":11,"total":158},"items":[{"uid":"c5a91a763bcfb718","reportUrl":"../2787//#testresult/c5a91a763bcfb718","status":"passed","time":{"start":1748977411461,"stop":1748977654185,"duration":242724}},{"uid":"870b5649efb5ea60","reportUrl":"../2780//#testresult/870b5649efb5ea60","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-dm3mysd9/0","time":{"start":1748933562686,"stop":1748933562686,"duration":0}},{"uid":"eb583b0737daf83c","reportUrl":"../2776//#testresult/eb583b0737daf83c","status":"passed","time":{"start":1748889601611,"stop":1748889875249,"duration":273638}},{"uid":"adcfdfb7762c6fcb","reportUrl":"../2774//#testresult/adcfdfb7762c6fcb","status":"unknown","time":{}},{"uid":"d79e43f1d6ea7f97","reportUrl":"../2770//#testresult/d79e43f1d6ea7f97","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-una9uxab/0 [idle] blocked: Invalid token.","time":{"start":1748802208758,"stop":1748802208758,"duration":0}},{"uid":"3ab1aab9d6d9d044","reportUrl":"../2769//#testresult/3ab1aab9d6d9d044","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-k9vfvzob/0 [idle] blocked: Invalid token.","time":{"start":1748759039997,"stop":1748759039997,"duration":0}},{"uid":"33bebc415fd95667","reportUrl":"../2768//#testresult/33bebc415fd95667","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-jvgk5zpe/0 [idle] blocked: Invalid token.","time":{"start":1748715802700,"stop":1748715802700,"duration":0}},{"uid":"285b6ff3a9883f71","reportUrl":"../2767//#testresult/285b6ff3a9883f71","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-xgowwjsx/0 [idle] blocked: Invalid token.","time":{"start":1748672691329,"stop":1748672691329,"duration":0}},{"uid":"1d6e134e2e288e56","reportUrl":"../2766//#testresult/1d6e134e2e288e56","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-df58goiy/0 [idle] blocked: Invalid token.","time":{"start":1748629474388,"stop":1748629474388,"duration":0}},{"uid":"31bf9cd65668218","reportUrl":"../2765//#testresult/31bf9cd65668218","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-ywrhzynl/0 [idle] blocked: Invalid token.","time":{"start":1748586276457,"stop":1748586276457,"duration":0}},{"uid":"b0644d9c8bcd954b","reportUrl":"../2764//#testresult/b0644d9c8bcd954b","status":"unknown","time":{}},{"uid":"a6aaa22048c4c16","reportUrl":"../2763//#testresult/a6aaa22048c4c16","status":"unknown","time":{}},{"uid":"60f0fc91162afccb","reportUrl":"../2762//#testresult/60f0fc91162afccb","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-t09gnikw/0 [idle] blocked: Invalid token.","time":{"start":1748456694947,"stop":1748456694947,"duration":0}},{"uid":"46b7e72a64cd299f","reportUrl":"../2759//#testresult/46b7e72a64cd299f","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-yubgkjp8/0 [idle] blocked: Invalid token.","time":{"start":1748413478978,"stop":1748413478978,"duration":0}},{"uid":"2522bbc7c3804136","reportUrl":"../2756//#testresult/2522bbc7c3804136","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-jv8az280/0 [idle] blocked: Invalid token.","time":{"start":1748370244430,"stop":1748370244430,"duration":0}},{"uid":"daa8514a45f60f33","reportUrl":"../2754//#testresult/daa8514a45f60f33","status":"passed","time":{"start":1748328286724,"stop":1748328758708,"duration":471984}},{"uid":"99436307ab2ed68e","reportUrl":"../2748//#testresult/99436307ab2ed68e","status":"passed","time":{"start":1748284826500,"stop":1748285163348,"duration":336848}},{"uid":"6870c18b00a2b54b","reportUrl":"../2747//#testresult/6870c18b00a2b54b","status":"passed","time":{"start":1748241723639,"stop":1748242011842,"duration":288203}},{"uid":"2fc7ef9aafce1e07","reportUrl":"../2746//#testresult/2fc7ef9aafce1e07","status":"passed","time":{"start":1748198157536,"stop":1748198368118,"duration":210582}},{"uid":"85ab72722b27bee2","reportUrl":"../2745//#testresult/85ab72722b27bee2","status":"passed","time":{"start":1748155103422,"stop":1748155328771,"duration":225349}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"f37b228d1d4e3dda.json","parameterValues":[]}