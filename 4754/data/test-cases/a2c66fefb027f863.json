{"uid":"a2c66fefb027f863","name":"test_prometheus_metrics","fullName":"tests.integration.test_prometheus_metrics#test_prometheus_metrics","historyId":"8ad402f8a81c79aa3fa21a6fb8e0f79a","time":{"start":1769020507899,"stop":1769020987106,"duration":479207},"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","descriptionHtml":"<pre><code>arrange: given a prometheus charm application.\nact: when GitHub runner is integrated.\nassert: the datasource is registered and basic metrics are available.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1769020069764,"stop":1769020069765,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju","time":{"start":1769020069765,"stop":1769020070002,"duration":237},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1769020069765,"stop":1769020069765,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1769020069765,"stop":1769020069765,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"prometheus_app","time":{"start":1769020070003,"stop":1769020100659,"duration":30656},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_app","time":{"start":1769020100659,"stop":1769020188052,"duration":87393},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"traefik_ingress","time":{"start":1769020188052,"stop":1769020189981,"duration":1929},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1769020189982,"stop":1769020190749,"duration":767},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1769020190749,"stop":1769020190749,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1769020190750,"stop":1769020190760,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1769020190760,"stop":1769020190785,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1769020190786,"stop":1769020190787,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1769020190786,"stop":1769020190786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1769020190786,"stop":1769020190786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1769020190786,"stop":1769020190786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1769020190786,"stop":1769020190786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1769020190786,"stop":1769020190786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1769020190786,"stop":1769020190786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1769020190787,"stop":1769020190788,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1769020190788,"stop":1769020190802,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1769020190802,"stop":1769020193502,"duration":2700},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1769020193502,"stop":1769020462407,"duration":268905},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1769020193502,"stop":1769020193502,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_app_cos_agent","time":{"start":1769020462407,"stop":1769020503630,"duration":41223},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_password","time":{"start":1769020503630,"stop":1769020505318,"duration":1688},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1769020505319,"stop":1769020505562,"duration":243},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1769020505562,"stop":1769020506172,"duration":610},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1769020506172,"stop":1769020507898,"duration":1726},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1769020507898,"stop":1769020507898,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1769020507898,"stop":1769020507899,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","status":"passed","steps":[],"attachments":[{"uid":"740fd5475cd29232","name":"log","source":"740fd5475cd29232.txt","type":"text/plain","size":181261}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_github_branch::finalizer","time":{"start":1769020987107,"stop":1769020987944,"duration":837},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1769020987107,"stop":1769020987107,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1769020987945,"stop":1769020987945,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1769020987946,"stop":1769020988564,"duration":618},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1769020987946,"stop":1769020987946,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::finalizer","time":{"start":1769020988566,"stop":1769020988566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1769020988566,"stop":1769020988918,"duration":352},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju::0","time":{"start":1769020988919,"stop":1769020988919,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1769020988919,"stop":1769020988919,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1769020988919,"stop":1769020988919,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1769020988919,"stop":1769020988920,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"openstack"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_prometheus_metrics"},{"name":"host","value":"github-runner"},{"name":"thread","value":"30827-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_prometheus_metrics"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c1f223cbff60f159","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":9,"broken":113,"skipped":0,"passed":168,"unknown":14,"total":304},"items":[{"uid":"a35b8e1da5bf03e4","reportUrl":"../4740//#testresult/a35b8e1da5bf03e4","status":"passed","time":{"start":1768976896931,"stop":1768977375503,"duration":478572}},{"uid":"c81b81f8ea7e6bf2","reportUrl":"../4735//#testresult/c81b81f8ea7e6bf2","status":"passed","time":{"start":1768933618271,"stop":1768934098068,"duration":479797}},{"uid":"e41b1ba09cc41575","reportUrl":"../4727//#testresult/e41b1ba09cc41575","status":"passed","time":{"start":1768890469901,"stop":1768890946451,"duration":476550}},{"uid":"73e461b6330dd64f","reportUrl":"../4719//#testresult/73e461b6330dd64f","status":"passed","time":{"start":1768847142368,"stop":1768847618641,"duration":476273}},{"uid":"9a46eeb6748f0bde","reportUrl":"../4706//#testresult/9a46eeb6748f0bde","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-xo6rz5pe/0","time":{"start":1768813372055,"stop":1768813372055,"duration":0}},{"uid":"d49696c09aa90abd","reportUrl":"../4703//#testresult/d49696c09aa90abd","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-zfv96m59/0","time":{"start":1768760322590,"stop":1768760322590,"duration":0}},{"uid":"ea1962083e56ab60","reportUrl":"../4702//#testresult/ea1962083e56ab60","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-dm065ttx/0","time":{"start":1768717138044,"stop":1768717138044,"duration":0}},{"uid":"15204efe76da4ffb","reportUrl":"../4701//#testresult/15204efe76da4ffb","status":"passed","time":{"start":1768674309423,"stop":1768674786983,"duration":477560}},{"uid":"c1abf14c4165e102","reportUrl":"../4700//#testresult/c1abf14c4165e102","status":"failed","statusDetails":"AssertionError: No data found for metric: openstack_http_requests_total\nassert 0\n +  where 0 = len([])","time":{"start":1768631161903,"stop":1768631956290,"duration":794387}},{"uid":"700d8d054288c35c","reportUrl":"../4699//#testresult/700d8d054288c35c","status":"passed","time":{"start":1768587979992,"stop":1768588457621,"duration":477629}},{"uid":"2d91d04a31e2b817","reportUrl":"../4695//#testresult/2d91d04a31e2b817","status":"passed","time":{"start":1768544802795,"stop":1768545280167,"duration":477372}},{"uid":"f6dc70d11044631","reportUrl":"../4690//#testresult/f6dc70d11044631","status":"passed","time":{"start":1768501861314,"stop":1768502340126,"duration":478812}},{"uid":"9466ed7735962125","reportUrl":"../4687//#testresult/9466ed7735962125","status":"passed","time":{"start":1768458418812,"stop":1768458897093,"duration":478281}},{"uid":"689ddd15117e012f","reportUrl":"../4684//#testresult/689ddd15117e012f","status":"unknown","time":{}},{"uid":"95836a969fbd8810","reportUrl":"../4670//#testresult/95836a969fbd8810","status":"passed","time":{"start":1768372025279,"stop":1768372504653,"duration":479374}},{"uid":"b271db13e4d5e24a","reportUrl":"../4669//#testresult/b271db13e4d5e24a","status":"passed","time":{"start":1768328817587,"stop":1768329295270,"duration":477683}},{"uid":"32d358bc8de3161b","reportUrl":"../4666//#testresult/32d358bc8de3161b","status":"passed","time":{"start":1768285672851,"stop":1768286150844,"duration":477993}},{"uid":"4e4b9db08823d468","reportUrl":"../4664//#testresult/4e4b9db08823d468","status":"passed","time":{"start":1768242428051,"stop":1768242966067,"duration":538016}},{"uid":"736b9867b28893fc","reportUrl":"../4659//#testresult/736b9867b28893fc","status":"passed","time":{"start":1768199344142,"stop":1768199823878,"duration":479736}},{"uid":"c28a8017ad2e2070","reportUrl":"../4657//#testresult/c28a8017ad2e2070","status":"passed","time":{"start":1768155948305,"stop":1768156424501,"duration":476196}}]},"tags":["asyncio","openstack"]},"source":"a2c66fefb027f863.json","parameterValues":[]}