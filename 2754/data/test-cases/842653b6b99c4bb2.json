{"uid":"842653b6b99c4bb2","name":"test_reactive_mode_scale_down","fullName":"tests.integration.test_reactive#test_reactive_mode_scale_down","historyId":"bb6817de59a8aff167470484d2d33ee6","time":{"start":1748329372906,"stop":1748330233922,"duration":861016},"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","descriptionHtml":"<pre><code>arrange: Scale down the number of virtual machines to 2 and spawn a job.\nact:\n    1. Scale down the number of virtual machines to 0 and call reconcile.\n    2. Spawn a job.\nassert:\n    1. The job fails.\n    2. The job is queued and there is a message in the queue.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1748327889357,"stop":1748327889358,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1748327889358,"stop":1748327889358,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1748327889358,"stop":1748327889358,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1748327889358,"stop":1748327890000,"duration":642},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1748327890000,"stop":1748327890001,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1748327890001,"stop":1748327890378,"duration":377},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1748327890379,"stop":1748327891227,"duration":848},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1748327890379,"stop":1748327890379,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1748327891227,"stop":1748327893486,"duration":2259},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1748327893487,"stop":1748327893487,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mongodb","time":{"start":1748327893487,"stop":1748327895599,"duration":2112},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1748327893487,"stop":1748327893487,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1748327895599,"stop":1748327895599,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1748327895599,"stop":1748327895599,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1748327895600,"stop":1748327895600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1748327895600,"stop":1748327895600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1748327895600,"stop":1748327895601,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1748327895600,"stop":1748327895600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1748327895600,"stop":1748327895600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1748327895600,"stop":1748327895600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1748327895600,"stop":1748327895600,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1748327895601,"stop":1748327895601,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1748327895601,"stop":1748327895601,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1748327895601,"stop":1748327895601,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1748327895601,"stop":1748327895601,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1748327895601,"stop":1748327895601,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1748327895602,"stop":1748327895618,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1748327895619,"stop":1748327895642,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1748327895642,"stop":1748327897473,"duration":1831},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1748327897474,"stop":1748328781932,"duration":884458},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_reactive","time":{"start":1748328781932,"stop":1748328828443,"duration":46511},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1748329313044,"stop":1748329372905,"duration":59861},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1748329313044,"stop":1748329313044,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","status":"passed","steps":[],"attachments":[{"uid":"7428deca50da83e","name":"log","source":"7428deca50da83e.txt","type":"text/plain","size":5111}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1748330233922,"stop":1748330263299,"duration":29377},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1748330263300,"stop":1748330263300,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1748330263301,"stop":1748330263715,"duration":414},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1748330263715,"stop":1748330264516,"duration":801},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1748330264521,"stop":1748330265051,"duration":530},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1748330265053,"stop":1748330265448,"duration":395},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1748330265449,"stop":1748330265449,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1748330265449,"stop":1748330265449,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1748330265449,"stop":1748330265449,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_reactive"},{"name":"host","value":"github-runner"},{"name":"thread","value":"9472-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_reactive"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"818c2bd3b097bfe","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":18,"broken":26,"skipped":3,"passed":81,"unknown":13,"total":141},"items":[{"uid":"8415693e6a85f692","reportUrl":"../2748//#testresult/8415693e6a85f692","status":"passed","time":{"start":1748285384941,"stop":1748286253921,"duration":868980}},{"uid":"de3d5e89ede519ae","reportUrl":"../2747//#testresult/de3d5e89ede519ae","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-tofnnvcp/0 [idle] maintenance: Reconciling runners","time":{"start":1748242292151,"stop":1748243851229,"duration":1559078}},{"uid":"92db04cff6540ed1","reportUrl":"../2746//#testresult/92db04cff6540ed1","status":"passed","time":{"start":1748198681887,"stop":1748199492449,"duration":810562}},{"uid":"d183f92630d8ae2c","reportUrl":"../2745//#testresult/d183f92630d8ae2c","status":"failed","statusDetails":"AssertionError","time":{"start":1748156422434,"stop":1748157233275,"duration":810841}},{"uid":"7509e9c72317c1c6","reportUrl":"../2743//#testresult/7509e9c72317c1c6","status":"passed","time":{"start":1748069170712,"stop":1748069977212,"duration":806500}},{"uid":"9e51bf7c97e718ce","reportUrl":"../2742//#testresult/9e51bf7c97e718ce","status":"passed","time":{"start":1748026042044,"stop":1748026933701,"duration":891657}},{"uid":"4f69136106d0db0e","reportUrl":"../2736//#testresult/4f69136106d0db0e","status":"passed","time":{"start":1747939874411,"stop":1747940675686,"duration":801275}},{"uid":"2b7031ecadc33c9f","reportUrl":"../2727//#testresult/2b7031ecadc33c9f","status":"passed","time":{"start":1747909430875,"stop":1747910295049,"duration":864174}},{"uid":"cbe43069c947143a","reportUrl":"../2724//#testresult/cbe43069c947143a","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-fd9ytj3w/0 [idle] blocked: Please provide image integration.\n  github-runner-image-builder-fd9ytj3w/0 [allocating] waiting: waiting for machine","time":{"start":1747810492479,"stop":1747810492479,"duration":0}},{"uid":"14109f73be5994db","reportUrl":"../2722//#testresult/14109f73be5994db","status":"passed","time":{"start":1747766790356,"stop":1747767625465,"duration":835109}},{"uid":"2688dd4a32051c65","reportUrl":"../2718//#testresult/2688dd4a32051c65","status":"passed","time":{"start":1747723856258,"stop":1747724708325,"duration":852067}},{"uid":"d7bbb54455ed3f21","reportUrl":"../2717//#testresult/d7bbb54455ed3f21","status":"passed","time":{"start":1747680652564,"stop":1747681451022,"duration":798458}},{"uid":"dadc3b2240edd0bd","reportUrl":"../2716//#testresult/dadc3b2240edd0bd","status":"passed","time":{"start":1747674349015,"stop":1747675193585,"duration":844570}},{"uid":"dfe297978e88dd50","reportUrl":"../2700//#testresult/dfe297978e88dd50","status":"failed","statusDetails":"AssertionError","time":{"start":1747075845564,"stop":1747076635357,"duration":789793}},{"uid":"8aeb01083a7a248a","reportUrl":"../2696//#testresult/8aeb01083a7a248a","status":"passed","time":{"start":1747032550468,"stop":1747033337285,"duration":786817}},{"uid":"1ad35b22d2b5d22f","reportUrl":"../2694//#testresult/1ad35b22d2b5d22f","status":"passed","time":{"start":1746991872347,"stop":1746992703940,"duration":831593}},{"uid":"f8381fa4d6dae24e","reportUrl":"../2680//#testresult/f8381fa4d6dae24e","status":"passed","time":{"start":1746773406992,"stop":1746774205509,"duration":798517}},{"uid":"588fe6b7530d653d","reportUrl":"../2674//#testresult/588fe6b7530d653d","status":"passed","time":{"start":1746730322808,"stop":1746731132273,"duration":809465}},{"uid":"d1305e661bf402cf","reportUrl":"../2666//#testresult/d1305e661bf402cf","status":"passed","time":{"start":1746687478534,"stop":1746688423774,"duration":945240}},{"uid":"dd5c5da58e6afd1f","reportUrl":"../2663//#testresult/dd5c5da58e6afd1f","status":"passed","time":{"start":1746645576231,"stop":1746646612969,"duration":1036738}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"842653b6b99c4bb2.json","parameterValues":[]}