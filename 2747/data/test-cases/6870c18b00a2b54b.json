{"uid":"6870c18b00a2b54b","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1748241723639,"stop":1748242011842,"duration":288203},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1748240738640,"stop":1748240738641,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1748240738641,"stop":1748240739087,"duration":446},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1748240738641,"stop":1748240738641,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1748240738641,"stop":1748240738641,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1748240739087,"stop":1748240739087,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1748240739087,"stop":1748240739087,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1748240739087,"stop":1748240739087,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1748240739087,"stop":1748241709700,"duration":970613},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1748240739087,"stop":1748240739087,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1748240739088,"stop":1748240739088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1748240739088,"stop":1748240739088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1748240739088,"stop":1748240739088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1748240739088,"stop":1748240739089,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1748240739088,"stop":1748240739088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1748240739088,"stop":1748240739088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1748240739088,"stop":1748240739088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1748240739088,"stop":1748240739088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1748240739088,"stop":1748240739088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1748240739089,"stop":1748240739089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1748240739089,"stop":1748240739089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1748240739089,"stop":1748240739089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1748240739089,"stop":1748240739089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1748240739089,"stop":1748240739096,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1748240739089,"stop":1748240739089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1748240739096,"stop":1748240739112,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1748240739112,"stop":1748240741383,"duration":2271},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1748240741384,"stop":1748241709700,"duration":968316},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1748241709700,"stop":1748241710062,"duration":362},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1748241710062,"stop":1748241710792,"duration":730},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1748241710792,"stop":1748241721674,"duration":10882},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1748241721674,"stop":1748241721687,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1748241721687,"stop":1748241723638,"duration":1951},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1748241723638,"stop":1748241723639,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1748241723638,"stop":1748241723638,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1748241723638,"stop":1748241723638,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"7394729508c7cc06","name":"log","source":"7394729508c7cc06.txt","type":"text/plain","size":10916}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1748242011843,"stop":1748242011843,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1748242011844,"stop":1748242012533,"duration":689},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1748242012536,"stop":1748242012600,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1748242012600,"stop":1748242015766,"duration":3166},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1748242015770,"stop":1748242016118,"duration":348},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1748242016118,"stop":1748242016118,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1748242016118,"stop":1748242016118,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1748242016118,"stop":1748242016119,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"10161-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"31e5375e9498358","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":12,"broken":39,"skipped":0,"passed":81,"unknown":8,"total":140},"items":[{"uid":"2fc7ef9aafce1e07","reportUrl":"../2746//#testresult/2fc7ef9aafce1e07","status":"passed","time":{"start":1748198157536,"stop":1748198368118,"duration":210582}},{"uid":"85ab72722b27bee2","reportUrl":"../2745//#testresult/85ab72722b27bee2","status":"passed","time":{"start":1748155103422,"stop":1748155328771,"duration":225349}},{"uid":"c9e595e5a0a326fd","reportUrl":"../2743//#testresult/c9e595e5a0a326fd","status":"passed","time":{"start":1748068629984,"stop":1748068864955,"duration":234971}},{"uid":"ed94364557439e2a","reportUrl":"../2742//#testresult/ed94364557439e2a","status":"passed","time":{"start":1748025574086,"stop":1748025800376,"duration":226290}},{"uid":"a595ab5591e419c5","reportUrl":"../2736//#testresult/a595ab5591e419c5","status":"passed","time":{"start":1747939393676,"stop":1747939649115,"duration":255439}},{"uid":"bc9a90cdb8f25cae","reportUrl":"../2727//#testresult/bc9a90cdb8f25cae","status":"passed","time":{"start":1747907479439,"stop":1747907755341,"duration":275902}},{"uid":"8d31b004be11f254","reportUrl":"../2724//#testresult/8d31b004be11f254","status":"passed","time":{"start":1747809676994,"stop":1747809924672,"duration":247678}},{"uid":"f3bfb815668623f1","reportUrl":"../2722//#testresult/f3bfb815668623f1","status":"unknown","time":{}},{"uid":"97fab5e75f90fa37","reportUrl":"../2718//#testresult/97fab5e75f90fa37","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-vilnrz1y/0 [idle] blocked: Please provide image integration.\n  github-runner-image-builder-vilnrz1y/0 [allocating] waiting: waiting for machine","time":{"start":1747722272478,"stop":1747722272478,"duration":0}},{"uid":"a71854eb305a6acd","reportUrl":"../2717//#testresult/a71854eb305a6acd","status":"passed","time":{"start":1747680064849,"stop":1747680365252,"duration":300403}},{"uid":"e6972b05c80aa852","reportUrl":"../2716//#testresult/e6972b05c80aa852","status":"passed","time":{"start":1747673860935,"stop":1747674083898,"duration":222963}},{"uid":"be8bfeefcc879d59","reportUrl":"../2700//#testresult/be8bfeefcc879d59","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflow-jobs#download-job-logs-for-a-workflow-run\", \"status\": \"404\"}","time":{"start":1747075171388,"stop":1747075651085,"duration":479697}},{"uid":"ee3cf794802eda72","reportUrl":"../2696//#testresult/ee3cf794802eda72","status":"passed","time":{"start":1747031879082,"stop":1747032091098,"duration":212016}},{"uid":"50da68c3a83a27c7","reportUrl":"../2694//#testresult/50da68c3a83a27c7","status":"passed","time":{"start":1746991150992,"stop":1746991398340,"duration":247348}},{"uid":"4b59ec051ff0e974","reportUrl":"../2680//#testresult/4b59ec051ff0e974","status":"passed","time":{"start":1746772785707,"stop":1746773020379,"duration":234672}},{"uid":"5cd3d139480b89ed","reportUrl":"../2674//#testresult/5cd3d139480b89ed","status":"passed","time":{"start":1746729649779,"stop":1746729880559,"duration":230780}},{"uid":"a67f663d01f4db77","reportUrl":"../2666//#testresult/a67f663d01f4db77","status":"passed","time":{"start":1746686545721,"stop":1746686868712,"duration":322991}},{"uid":"22b84a6d49f7cc0c","reportUrl":"../2663//#testresult/22b84a6d49f7cc0c","status":"passed","time":{"start":1746643197720,"stop":1746643415634,"duration":217914}},{"uid":"58c9c7f488ddac80","reportUrl":"../2597//#testresult/58c9c7f488ddac80","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflows#get-a-workflow\", \"status\": \"404\"}","time":{"start":1746383975546,"stop":1746385188623,"duration":1213077}},{"uid":"5d8681d86f75e8e7","reportUrl":"../2594//#testresult/5d8681d86f75e8e7","status":"failed","statusDetails":"AssertionError: In test-cctoj8hh/0 found more than one runners or no runners: []","time":{"start":1746254527278,"stop":1746255817867,"duration":1290589}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"6870c18b00a2b54b.json","parameterValues":[]}