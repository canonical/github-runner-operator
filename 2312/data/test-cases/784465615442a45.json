{"uid":"784465615442a45","name":"test_reactive_mode_scale_down","fullName":"tests.integration.test_reactive#test_reactive_mode_scale_down","historyId":"bb6817de59a8aff167470484d2d33ee6","time":{"start":1744181671513,"stop":1744182714358,"duration":1042845},"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","descriptionHtml":"<pre><code>arrange: Scale down the number of virtual machines to 2 and spawn a job.\nact:\n    1. Scale down the number of virtual machines to 0 and call reconcile.\n    2. Spawn a job.\nassert:\n    1. The job fails.\n    2. The job is queued and there is a message in the queue.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1744179893469,"stop":1744179893469,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1744179893469,"stop":1744179893958,"duration":489},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1744179893469,"stop":1744179893469,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1744179893469,"stop":1744179893469,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1744179893959,"stop":1744179893959,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1744179893959,"stop":1744179894318,"duration":359},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1744179894318,"stop":1744179895056,"duration":738},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1744179894318,"stop":1744179894318,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1744179895056,"stop":1744179897306,"duration":2250},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1744179897306,"stop":1744179897306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1744179897306,"stop":1744179897306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1744179897306,"stop":1744179897306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1744179897306,"stop":1744179897306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1744179897306,"stop":1744179897306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1744179897306,"stop":1744179897306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1744179897307,"stop":1744179897307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1744179897307,"stop":1744179897307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1744179897307,"stop":1744179897307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1744179897307,"stop":1744179897307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1744179897307,"stop":1744179897307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1744179897307,"stop":1744179897307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1744179897307,"stop":1744179897307,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1744179897308,"stop":1744179897308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1744179897308,"stop":1744179897317,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1744179897308,"stop":1744179897308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1744179897317,"stop":1744179897346,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1744179897346,"stop":1744180177539,"duration":280193},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1744180177540,"stop":1744180926899,"duration":749359},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mongodb","time":{"start":1744180926899,"stop":1744181047909,"duration":121010},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_reactive","time":{"start":1744181047909,"stop":1744181096225,"duration":48316},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1744181601761,"stop":1744181671512,"duration":69751},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1744181601761,"stop":1744181601761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","status":"passed","steps":[],"attachments":[{"uid":"3a8689bfccc337c","name":"log","source":"3a8689bfccc337c.txt","type":"text/plain","size":11256}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1744182714358,"stop":1744182752628,"duration":38270},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1744182752628,"stop":1744182752628,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1744182752629,"stop":1744182753088,"duration":459},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1744182753088,"stop":1744182754787,"duration":1699},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1744182754791,"stop":1744182755361,"duration":570},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1744182755362,"stop":1744182755716,"duration":354},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1744182755717,"stop":1744182755717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1744182755717,"stop":1744182755717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1744182755717,"stop":1744182755717,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_reactive"},{"name":"host","value":"github-runner"},{"name":"thread","value":"15740-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_reactive"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"90fcb350c3d043ea","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":11,"broken":21,"skipped":2,"passed":30,"unknown":11,"total":75},"items":[{"uid":"1b4b9ab03617d418","reportUrl":"../2310//#testresult/1b4b9ab03617d418","status":"passed","time":{"start":1744145398034,"stop":1744146422011,"duration":1023977}},{"uid":"95b95dba8bb09349","reportUrl":"../2293//#testresult/95b95dba8bb09349","status":"passed","time":{"start":1744096903728,"stop":1744097757082,"duration":853354}},{"uid":"a09c444b1aa0d993","reportUrl":"../2291//#testresult/a09c444b1aa0d993","status":"passed","time":{"start":1744053737556,"stop":1744054858978,"duration":1121422}},{"uid":"965cfd50b0f4ce53","reportUrl":"../2277//#testresult/965cfd50b0f4ce53","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:YB5ozjOuq4rD4l6TNqWh8VhiMKvma0ZU@10.227.190.123:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-h1crgx7g')","time":{"start":1743967278936,"stop":1743968094961,"duration":816025}},{"uid":"37bd75bfee79b528","reportUrl":"../2276//#testresult/37bd75bfee79b528","status":"passed","time":{"start":1743922541328,"stop":1743923437613,"duration":896285}},{"uid":"c5091e3d2beb7c53","reportUrl":"../2275//#testresult/c5091e3d2beb7c53","status":"passed","time":{"start":1743880643561,"stop":1743881700181,"duration":1056620}},{"uid":"fcd29832a994c5e","reportUrl":"../2274//#testresult/fcd29832a994c5e","status":"passed","time":{"start":1743837632930,"stop":1743838569097,"duration":936167}},{"uid":"efc2bdb02a173988","reportUrl":"../2273//#testresult/efc2bdb02a173988","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:drDJ8DOdR7W1koRzOrm4wClUk8QYPeVJ@10.164.132.122:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-x4s3wzaz')","time":{"start":1743792761359,"stop":1743793541911,"duration":780552}},{"uid":"51e67f0f8824c78b","reportUrl":"../2263//#testresult/51e67f0f8824c78b","status":"passed","time":{"start":1743753088132,"stop":1743753989153,"duration":901021}},{"uid":"af38d6f8514b07fc","reportUrl":"../2260//#testresult/af38d6f8514b07fc","status":"passed","time":{"start":1743708042598,"stop":1743708958472,"duration":915874}},{"uid":"139c1186b5efb255","reportUrl":"../2258//#testresult/139c1186b5efb255","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:0NN0jQ33KNpCBsbtq9UV5rqKV3MRutsi@10.35.51.212:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-s2s486q8')","time":{"start":1743665038198,"stop":1743666048255,"duration":1010057}},{"uid":"3a359ed96f9367dd","reportUrl":"../2257//#testresult/3a359ed96f9367dd","status":"passed","time":{"start":1743621495991,"stop":1743622541258,"duration":1045267}},{"uid":"f67d0466aab6d1bb","reportUrl":"../2254//#testresult/f67d0466aab6d1bb","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:t2OE36CEIZ0RObuc6nHvrZpaFUqN2nFe@10.218.199.25:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-q4ve3iof')","time":{"start":1743577971887,"stop":1743578946421,"duration":974534}},{"uid":"849a60653ea91e81","reportUrl":"../2252//#testresult/849a60653ea91e81","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:5AY0aysqXHkeAn7VHRZZlEBNCpEpDMQj@10.18.188.34:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-t34xdsyt')","time":{"start":1743535339110,"stop":1743536423064,"duration":1083954}},{"uid":"fcdddb3810cdc2f4","reportUrl":"../2250//#testresult/fcdddb3810cdc2f4","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:FHLeWu8nBRa6Sdst3lCNH3jtH6B0DoA8@10.132.213.155:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-a7oc0us2')","time":{"start":1743492338973,"stop":1743493254310,"duration":915337}},{"uid":"5dc86e42bb106844","reportUrl":"../2249//#testresult/5dc86e42bb106844","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:t1vkjLewvll1YzlcTm4G3QXCTaCo0FAF@10.55.236.64:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-o4lrfet1')","time":{"start":1743448490498,"stop":1743449458102,"duration":967604}},{"uid":"87fbc3f219972d3a","reportUrl":"../2245//#testresult/87fbc3f219972d3a","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:EsBKyTGPfQuJaKa0KCiXxc6oN0892sa3@10.9.127.130:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-v0flrlt2')","time":{"start":1743405684677,"stop":1743406523911,"duration":839234}},{"uid":"750c2e107a923989","reportUrl":"../2243//#testresult/750c2e107a923989","status":"passed","time":{"start":1743360644214,"stop":1743361501843,"duration":857629}},{"uid":"787221e323b56f00","reportUrl":"../2242//#testresult/787221e323b56f00","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:O2PenBZ2aDXgXWSLTZO9KjvZQMlXhYLy@10.216.101.25:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-rk2i4282')","time":{"start":1743319387631,"stop":1743320414740,"duration":1027109}},{"uid":"4fc36aacc15b0dad","reportUrl":"../2241//#testresult/4fc36aacc15b0dad","status":"passed","time":{"start":1743274303005,"stop":1743275435143,"duration":1132138}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"784465615442a45.json","parameterValues":[]}