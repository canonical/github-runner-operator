{"uid":"1f25d23c102fbcd3","name":"test_charm_issues_metrics_for_failed_repo_policy","fullName":"tests.integration.test_charm_metrics_failure#test_charm_issues_metrics_for_failed_repo_policy","historyId":"3e462e3ac295b69113097bb9edb5fd51","time":{"start":1762714226987,"stop":1762714661507,"duration":434520},"description":"\n    arrange: A properly integrated charm with a runner registered on the fork repo.\n    act: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\n    assert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n        The Reconciliation metric has the post job status set to failure.\n    ","descriptionHtml":"<pre><code>arrange: A properly integrated charm with a runner registered on the fork repo.\nact: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\nassert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n    The Reconciliation metric has the post job status set to failure.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"pytestconfig","time":{"start":1762712772122,"stop":1762712772122,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1762712772122,"stop":1762712772122,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1762712772123,"stop":1762712772406,"duration":283},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1762712772123,"stop":1762712772123,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1762712772406,"stop":1762712772406,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1762712772406,"stop":1762712772986,"duration":580},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1762712772986,"stop":1762712783663,"duration":10677},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1762712783664,"stop":1762712784839,"duration":1175},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1762712784840,"stop":1762712784840,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1762712784840,"stop":1762712784840,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1762712784840,"stop":1762712785319,"duration":479},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1762712784840,"stop":1762714070996,"duration":1286156},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1762712785319,"stop":1762712785319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1762712785319,"stop":1762712785332,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1762712785319,"stop":1762712785319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1762712785332,"stop":1762712785332,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1762712785332,"stop":1762712785332,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1762712785332,"stop":1762712785332,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1762712785332,"stop":1762712785332,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1762712785332,"stop":1762712785332,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1762712785332,"stop":1762712785332,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1762712785333,"stop":1762712785333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1762712785333,"stop":1762712785333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1762712785333,"stop":1762712785333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1762712785333,"stop":1762712785333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1762712785333,"stop":1762712785333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1762712785333,"stop":1762712785333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1762712785333,"stop":1762712785333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1762712785333,"stop":1762712785340,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1762712785333,"stop":1762712785333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1762712785333,"stop":1762712785333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1762712785340,"stop":1762712785352,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1762712785352,"stop":1762712786821,"duration":1469},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1762712786821,"stop":1762714070996,"duration":1284175},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric","time":{"start":1762714070996,"stop":1762714070996,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1762714070996,"stop":1762714070996,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1762714070996,"stop":1762714226986,"duration":155990},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1762714226986,"stop":1762714226987,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A properly integrated charm with a runner registered on the fork repo.\n    act: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\n    assert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n        The Reconciliation metric has the post job status set to failure.\n    ","status":"passed","steps":[],"attachments":[{"uid":"1db0557e87eccbc7","name":"log","source":"1db0557e87eccbc7.txt","type":"text/plain","size":14040}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1762714661508,"stop":1762714661508,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app::finalizer","time":{"start":1762714661508,"stop":1762714661508,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric::finalizer","time":{"start":1762715246522,"stop":1762715246522,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1762715246523,"stop":1762715246635,"duration":112},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1762715246523,"stop":1762715246523,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1762715246635,"stop":1762715246727,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1762715246730,"stop":1762715248742,"duration":2012},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1762715248743,"stop":1762715249008,"duration":265},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1762715249009,"stop":1762715249009,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1762715249009,"stop":1762715249009,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1762715249009,"stop":1762715249010,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_metrics_failure"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12204-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_metrics_failure"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"898246876eb87849","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":30,"broken":137,"skipped":0,"passed":173,"unknown":14,"total":354},"items":[{"uid":"d98e2e1971f73e77","reportUrl":"../3847//#testresult/d98e2e1971f73e77","status":"passed","time":{"start":1762670885202,"stop":1762671319329,"duration":434127}},{"uid":"28700cd76e8e178e","reportUrl":"../3846//#testresult/28700cd76e8e178e","status":"passed","time":{"start":1762627663546,"stop":1762628099174,"duration":435628}},{"uid":"fe7b9f458a7a8464","reportUrl":"../3845//#testresult/fe7b9f458a7a8464","status":"passed","time":{"start":1762584489912,"stop":1762584924330,"duration":434418}},{"uid":"e24947e7e0d77d21","reportUrl":"../3844//#testresult/e24947e7e0d77d21","status":"passed","time":{"start":1762541364242,"stop":1762541800079,"duration":435837}},{"uid":"c8750ff903c76c59","reportUrl":"../3842//#testresult/c8750ff903c76c59","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-jr918ude/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-jr918ude/0 [allocating] waiting: waiting for machine","time":{"start":1762496877928,"stop":1762496877928,"duration":0}},{"uid":"fff5cadf854e7736","reportUrl":"../3841//#testresult/fff5cadf854e7736","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-fsb3proi/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-fsb3proi/0 [allocating] waiting: waiting for machine","time":{"start":1762453667893,"stop":1762453667893,"duration":0}},{"uid":"a0ddce3fdd4dac1f","reportUrl":"../3837//#testresult/a0ddce3fdd4dac1f","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-ldyhluai/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-ldyhluai/0 [allocating] waiting: waiting for machine","time":{"start":1762410448879,"stop":1762410448879,"duration":0}},{"uid":"1576164c5a8b1f5b","reportUrl":"../3836//#testresult/1576164c5a8b1f5b","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-u3yyeajg/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-u3yyeajg/0 [allocating] waiting: waiting for machine","time":{"start":1762367231349,"stop":1762367231349,"duration":0}},{"uid":"6b0432762130b13f","reportUrl":"../3833//#testresult/6b0432762130b13f","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-m07294b2/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-m07294b2/0 [allocating] waiting: waiting for machine","time":{"start":1762324015025,"stop":1762324015025,"duration":0}},{"uid":"1e4d5be8b232e44e","reportUrl":"../3832//#testresult/1e4d5be8b232e44e","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-qf51wljo/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-qf51wljo/0 [allocating] waiting: waiting for machine","time":{"start":1762281622232,"stop":1762281622232,"duration":0}},{"uid":"797bba87224aa4bb","reportUrl":"../3830//#testresult/797bba87224aa4bb","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-onuvhrh0/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-onuvhrh0/0 [allocating] waiting: waiting for machine","time":{"start":1762237624638,"stop":1762237624638,"duration":0}},{"uid":"9a91565f466b2c7c","reportUrl":"../3829//#testresult/9a91565f466b2c7c","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-c1xogzhj/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-c1xogzhj/0 [allocating] waiting: waiting for machine","time":{"start":1762194424469,"stop":1762194424469,"duration":0}},{"uid":"aba6b6517cd9231d","reportUrl":"../3827//#testresult/aba6b6517cd9231d","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-trr4e2i6/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-trr4e2i6/0 [allocating] waiting: waiting for machine","time":{"start":1762151220797,"stop":1762151220797,"duration":0}},{"uid":"40fe01b71ff7fc50","reportUrl":"../3826//#testresult/40fe01b71ff7fc50","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-ln3ewf4b/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-ln3ewf4b/0 [allocating] waiting: waiting for machine","time":{"start":1762107902567,"stop":1762107902567,"duration":0}},{"uid":"d992bfe96b0de49a","reportUrl":"../3825//#testresult/d992bfe96b0de49a","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-qbq8smms/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-qbq8smms/0 [allocating] waiting: waiting for machine","time":{"start":1762064722813,"stop":1762064722813,"duration":0}},{"uid":"3a6221af4af4e1f4","reportUrl":"../3823//#testresult/3a6221af4af4e1f4","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-epbv3uqc/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-epbv3uqc/0 [allocating] waiting: waiting for machine","time":{"start":1762021532514,"stop":1762021532514,"duration":0}},{"uid":"d55c65a78a6582be","reportUrl":"../3822//#testresult/d55c65a78a6582be","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-e4votdkr/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-e4votdkr/0 [allocating] waiting: waiting for machine","time":{"start":1761978430175,"stop":1761978430175,"duration":0}},{"uid":"96b3b78e6c55fb8b","reportUrl":"../3821//#testresult/96b3b78e6c55fb8b","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-dkowcinm/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-dkowcinm/0 [allocating] waiting: waiting for machine","time":{"start":1761935181746,"stop":1761935181746,"duration":0}},{"uid":"6872435191ea70a","reportUrl":"../3819//#testresult/6872435191ea70a","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-v8eo34a9/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-v8eo34a9/0 [allocating] waiting: waiting for machine","time":{"start":1761892278576,"stop":1761892278576,"duration":0}},{"uid":"491b879cd1d3e260","reportUrl":"../3814//#testresult/491b879cd1d3e260","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-v101gver/0 [allocating] waiting: waiting for machine\n  github-runner-image-builder-v101gver/0 [allocating] waiting: waiting for machine","time":{"start":1761849080666,"stop":1761849080666,"duration":0}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"1f25d23c102fbcd3.json","parameterValues":[]}