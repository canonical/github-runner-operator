{"uid":"584b929f37859eca","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1736404198939,"stop":1736405219570,"duration":1020631},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1736403808386,"stop":1736403808386,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1736403808386,"stop":1736403808387,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1736403808387,"stop":1736403808387,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1736403808387,"stop":1736403808817,"duration":430},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1736403808818,"stop":1736403808818,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1736403808818,"stop":1736404185692,"duration":376874},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_type","time":{"start":1736403808818,"stop":1736403808818,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_device","time":{"start":1736403808818,"stop":1736403808819,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1736403808819,"stop":1736403808819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1736403808819,"stop":1736403808891,"duration":72},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1736403808891,"stop":1736403808891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1736403808891,"stop":1736403808891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1736403808891,"stop":1736403808891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app","time":{"start":1736403808891,"stop":1736403808891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1736403808891,"stop":1736403808891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1736403808892,"stop":1736404054860,"duration":245968},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1736403808892,"stop":1736403808892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1736403808892,"stop":1736403808892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1736403808892,"stop":1736403808892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1736403808892,"stop":1736403808892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1736403808892,"stop":1736403808892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1736403808892,"stop":1736403808892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1736403808892,"stop":1736403808892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1736404054860,"stop":1736404185692,"duration":130832},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1736404185693,"stop":1736404186083,"duration":390},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1736404186084,"stop":1736404186682,"duration":598},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1736404186682,"stop":1736404197388,"duration":10706},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1736404197388,"stop":1736404197400,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1736404197400,"stop":1736404198915,"duration":1515},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1736404198915,"stop":1736404198915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1736404198916,"stop":1736404198916,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1736404198916,"stop":1736404198938,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1736404198916,"stop":1736404198938,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"aeacbb6b7d978866","name":"log","source":"aeacbb6b7d978866.txt","type":"text/plain","size":18279}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1736405219570,"stop":1736405219571,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1736405219571,"stop":1736405220368,"duration":797},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1736405220368,"stop":1736405220660,"duration":292},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1736405220665,"stop":1736405220983,"duration":318},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1736405220984,"stop":1736405220984,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1736405220984,"stop":1736405220984,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1736405220984,"stop":1736405220984,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"16287-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"2a3ffff7c31a6494","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":6,"broken":12,"skipped":0,"passed":9,"unknown":4,"total":31},"items":[{"uid":"cf8283c2a10efa13","reportUrl":"../1713//#testresult/cf8283c2a10efa13","status":"unknown","time":{}},{"uid":"88d3bac829e010e3","reportUrl":"../1708//#testresult/88d3bac829e010e3","status":"failed","statusDetails":"AssertionError: In test-o8u2sdb8/0 found more than one runners or no runners: []","time":{"start":1736292944513,"stop":1736293072948,"duration":128435}},{"uid":"fa9e7b7de7f859f9","reportUrl":"../1698//#testresult/fa9e7b7de7f859f9","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-nh5zbmo0/0 [idle] blocked: Invalid token.","time":{"start":1735842219819,"stop":1735842219819,"duration":0}},{"uid":"3ddcd4f37245fbb5","reportUrl":"../1697//#testresult/3ddcd4f37245fbb5","status":"unknown","time":{}},{"uid":"e6552f6e74ff6359","reportUrl":"../1696//#testresult/e6552f6e74ff6359","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-xxnks10z/0 [idle] blocked: Invalid token.","time":{"start":1735760513307,"stop":1735760513307,"duration":0}},{"uid":"4268fb84d7653eea","reportUrl":"../1695//#testresult/4268fb84d7653eea","status":"failed","statusDetails":"AssertionError: In test-e01j8qwd/0 found more than one runners or no runners: []","time":{"start":1735720119932,"stop":1735720243444,"duration":123512}},{"uid":"8a0c56b1307c8aec","reportUrl":"../1694//#testresult/8a0c56b1307c8aec","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-q5cqie9e/0 [idle] blocked: Invalid token.","time":{"start":1735675405959,"stop":1735675405959,"duration":0}},{"uid":"3221dc20c16a57d","reportUrl":"../1693//#testresult/3221dc20c16a57d","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-e76ywvy7/0 [idle] blocked: Invalid token.","time":{"start":1735636894325,"stop":1735636894325,"duration":0}},{"uid":"3a173eb7eba8f6b1","reportUrl":"../1692//#testresult/3a173eb7eba8f6b1","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-edb18djm/0 [idle] blocked: Invalid token.","time":{"start":1735583011410,"stop":1735583011410,"duration":0}},{"uid":"fad3836b0d30e626","reportUrl":"../1691//#testresult/fad3836b0d30e626","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-lcaj6t25/0","time":{"start":1735539837404,"stop":1735539837404,"duration":0}},{"uid":"b11f58490e73a5d7","reportUrl":"../1690//#testresult/b11f58490e73a5d7","status":"passed","time":{"start":1735497005606,"stop":1735497338793,"duration":333187}},{"uid":"6dc632db8097ebfd","reportUrl":"../1689//#testresult/6dc632db8097ebfd","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-ur32fecu/0 [idle] blocked: Invalid token.","time":{"start":1735454188048,"stop":1735454188048,"duration":0}},{"uid":"d75c498536254cce","reportUrl":"../1688//#testresult/d75c498536254cce","status":"failed","statusDetails":"AssertionError: No addresses to connect to for OpenStack server test-b5j47po7-0-085818f616c2","time":{"start":1735410584890,"stop":1735411054595,"duration":469705}},{"uid":"270c958c444a1090","reportUrl":"../1687//#testresult/270c958c444a1090","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-bh2zt71z/0 [idle] blocked: Invalid token.","time":{"start":1735366982709,"stop":1735366982709,"duration":0}},{"uid":"d83ff9b8bd3f6bf2","reportUrl":"../1686//#testresult/d83ff9b8bd3f6bf2","status":"passed","time":{"start":1735324193889,"stop":1735324772681,"duration":578792}},{"uid":"41026855cc08f51c","reportUrl":"../1685//#testresult/41026855cc08f51c","status":"failed","statusDetails":"AssertionError: No addresses to connect to for OpenStack server test-obohasxy-0-cf821583cac1","time":{"start":1735280987382,"stop":1735281740456,"duration":753074}},{"uid":"202062d8a414c3a0","reportUrl":"../1684//#testresult/202062d8a414c3a0","status":"passed","time":{"start":1735237774077,"stop":1735238092085,"duration":318008}},{"uid":"41c979da8abf36a4","reportUrl":"../1683//#testresult/41c979da8abf36a4","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-aborqa6t/0 [idle] blocked: Invalid token.","time":{"start":1735194237657,"stop":1735194237657,"duration":0}},{"uid":"9d3627b58421004d","reportUrl":"../1682//#testresult/9d3627b58421004d","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-lka0cg3v/0 [idle] blocked: Invalid token.","time":{"start":1735151003055,"stop":1735151003055,"duration":0}},{"uid":"ffc0902393f35db7","reportUrl":"../1681//#testresult/ffc0902393f35db7","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-wor8fazg/0 [idle] blocked: Invalid token.","time":{"start":1735107921799,"stop":1735107921799,"duration":0}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"584b929f37859eca.json","parameterValues":[]}