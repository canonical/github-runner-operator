{"uid":"961ee333ba3a7f7a","name":"test_ssh_debug","fullName":"tests.integration.test_debug_ssh#test_ssh_debug","historyId":"4f16d0ceae44b92b8c4e82e7e2774aa1","time":{"start":1757919292228,"stop":1757919795145,"duration":502917},"description":"\n    arrange: given an integrated GitHub-Runner charm and tmate-ssh-server charm.\n    act: when canonical/action-tmate is triggered.\n    assert: the ssh connection info from action-log and tmate-ssh-server matches.\n    ","descriptionHtml":"<pre><code>arrange: given an integrated GitHub-Runner charm and tmate-ssh-server charm.\nact: when canonical/action-tmate is triggered.\nassert: the ssh connection info from action-log and tmate-ssh-server matches.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1757917543796,"stop":1757917543796,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1757917543797,"stop":1757917543797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1757917543797,"stop":1757917543797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1757917543797,"stop":1757917544380,"duration":583},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1757917544380,"stop":1757917544389,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1757917544380,"stop":1757917544380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1757917544380,"stop":1757917544380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1757917544380,"stop":1757917544380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1757917544389,"stop":1757917544389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1757917544389,"stop":1757917544389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1757917544389,"stop":1757917544389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1757917544389,"stop":1757917544389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1757917544389,"stop":1757917544390,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1757917544389,"stop":1757917544389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1757917544389,"stop":1757917544389,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1757917544390,"stop":1757917544390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1757917544390,"stop":1757917544390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1757917544390,"stop":1757917544390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1757917544390,"stop":1757917544391,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1757917544390,"stop":1757917544390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1757917544390,"stop":1757917544390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1757917544390,"stop":1757917544390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1757917544390,"stop":1757917544390,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1757917544391,"stop":1757917544399,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1757917544391,"stop":1757917544391,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1757917544391,"stop":1757917544391,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1757917544399,"stop":1757917544421,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1757917544421,"stop":1757917547570,"duration":3149},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1757917547571,"stop":1757919179810,"duration":1632239},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_no_wait_tmate","time":{"start":1757919179811,"stop":1757919179818,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1757919179818,"stop":1757919180204,"duration":386},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1757919180204,"stop":1757919180808,"duration":604},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1757919180808,"stop":1757919182601,"duration":1793},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmate_ssh_server_app","time":{"start":1757919182602,"stop":1757919292197,"duration":109595},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmate_ssh_server_unit_ip","time":{"start":1757919292198,"stop":1757919292227,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1757919292227,"stop":1757919292227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1757919292228,"stop":1757919292228,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: given an integrated GitHub-Runner charm and tmate-ssh-server charm.\n    act: when canonical/action-tmate is triggered.\n    assert: the ssh connection info from action-log and tmate-ssh-server matches.\n    ","status":"passed","steps":[],"attachments":[{"uid":"f031869a621f7857","name":"log","source":"f031869a621f7857.txt","type":"text/plain","size":42446}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1757919795146,"stop":1757919795146,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1757919795147,"stop":1757919795581,"duration":434},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1757919795582,"stop":1757919795583,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1757919795583,"stop":1757919795719,"duration":136},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1757919795720,"stop":1757919796610,"duration":890},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1757919796616,"stop":1757919799721,"duration":3105},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1757919799722,"stop":1757919799722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1757919799722,"stop":1757919799722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1757919799722,"stop":1757919799722,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_debug_ssh"},{"name":"host","value":"github-runner"},{"name":"thread","value":"15425-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_debug_ssh"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"bea9c4e099e47590","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":33,"broken":44,"skipped":0,"passed":163,"unknown":17,"total":257},"items":[{"uid":"628b72b6d99c30a5","reportUrl":"../3588//#testresult/628b72b6d99c30a5","status":"passed","time":{"start":1757875281028,"stop":1757875863791,"duration":582763}},{"uid":"96f77255320f472f","reportUrl":"../3587//#testresult/96f77255320f472f","status":"passed","time":{"start":1757834179454,"stop":1757834682589,"duration":503135}},{"uid":"239da3b47bd7c87a","reportUrl":"../3586//#testresult/239da3b47bd7c87a","status":"passed","time":{"start":1757789305876,"stop":1757789809662,"duration":503786}},{"uid":"df7ccbe1a97aea5b","reportUrl":"../3584//#testresult/df7ccbe1a97aea5b","status":"passed","time":{"start":1757745821406,"stop":1757746448954,"duration":627548}},{"uid":"6495ac788e3904c1","reportUrl":"../3581//#testresult/6495ac788e3904c1","status":"passed","time":{"start":1757702702165,"stop":1757703212977,"duration":510812}},{"uid":"4ddc41cff4d58fb0","reportUrl":"../3578//#testresult/4ddc41cff4d58fb0","status":"passed","time":{"start":1757659694242,"stop":1757660202085,"duration":507843}},{"uid":"891be13b04dc1d60","reportUrl":"../3572//#testresult/891be13b04dc1d60","status":"passed","time":{"start":1757616380309,"stop":1757616895147,"duration":514838}},{"uid":"20ba2da8a1bca22e","reportUrl":"../3569//#testresult/20ba2da8a1bca22e","status":"passed","time":{"start":1757573286298,"stop":1757573792778,"duration":506480}},{"uid":"47de8de4a396e780","reportUrl":"../3567//#testresult/47de8de4a396e780","status":"passed","time":{"start":1757532391351,"stop":1757532951557,"duration":560206}},{"uid":"c88f9eb164b22529","reportUrl":"../3565//#testresult/c88f9eb164b22529","status":"failed","statusDetails":"AssertionError: Tmate ssh server IP not found in action logs.\nassert '10.161.80.56' in \"\\ufeff2025-09-10T06:52:47.3536363Z Current runner version: '2.328.0'\\n2025-09-10T06:52:47.3547744Z Runner name: 'test-yvpry5gt-0-n-ad837e8166d8'\\n2025-09-10T06:52:47.3549300Z Runner group name: 'Default'\\n2025-09-10T06:52:47.3550734Z Machine name: 'github-runner'\\n2025-09-10T06:52:47.3559139Z ##[group]GITHUB_TOKEN Permissions\\n2025-09-10T06:52:47.3564343Z Actions: write\\n2025-09-10T06:52:47.3565511Z Attestations: write\\n2025-09-10T06:52:47.3566422Z Checks: write\\n2025-09-10T06:52:47.3567617Z Contents: write\\n2025-09-10T06:52:47.3568512Z Deployments: write\\n2025-09-10T06:52:47.3569447Z Discussions: write\\n2025-09-10T06:52:47.3570527Z Issues: write\\n2025-09-10T06:52:47.3571371Z Metadata: read\\n2025-09-10T06:52:47.3572267Z Models: read\\n2025-09-10T06:52:47.3573651Z Packages: write\\n2025-09-10T06:52:47.3574603Z Pages: write\\n2025-09-10T06:52:47.3575466Z PullRequests: write\\n2025-09-10T06:52:47.3576556Z RepositoryProjects: write\\n2025-09-10T06:52:47.3577550Z SecurityEvents: write\\n2025-09-10T06:52:47.3578543Z Statuses: write\\n2025-09-10T06:52:47.3579928Z ##[endgroup]\\n2025-09-10T06:52:47.3585508Z Secret source: Actions\\n2025-09-10T06:52:47.3587493Z Prepare workflow directory\\n2025-09...n...\\n2025-09-10T06:53:16.2925606Z openssh-client is already the newest version (1:9.6p1-3ubuntu13.14).\\n2025-09-10T06:53:16.2927253Z openssh-client set to manually installed.\\n2025-09-10T06:53:16.2931238Z xz-utils is already the newest version (5.6.1+really5.4.5-1ubuntu0.2).\\n2025-09-10T06:53:16.2935063Z 0 upgraded, 0 newly installed, 0 to remove and 16 not upgraded.\\n2025-09-10T06:53:16.3368842Z Reading package lists...\\n2025-09-10T06:53:16.7529674Z Building dependency tree...\\n2025-09-10T06:53:16.7542798Z Reading state information...\\n2025-09-10T06:53:17.4308443Z tmate is already the newest version (2.4.0-2build3).\\n2025-09-10T06:53:17.4309777Z 0 upgraded, 0 newly installed, 0 to remove and 16 not upgraded.\\n2025-09-10T06:53:17.4599108Z Failed to enable unit: Unit file tmate-proxy.service does not exist.\\n2025-09-10T06:53:17.4628709Z tmate-proxy not enabled\\n2025-09-10T06:53:18.3774817Z /home/ubuntu/.ssh/id_rsa already exists.\\n2025-09-10T06:53:18.3819911Z Overwrite (y/n)? ::debug::Generated SSH-Key successfully\\n2025-09-10T06:53:18.9045126Z ##[error]Error: Invalid value for 'tmate-server-host(TMATE_SERVER_HOST)': ''\\n2025-09-10T06:53:19.0794836Z Cleaning up orphan processes\\n\"","time":{"start":1757486971237,"stop":1757487236545,"duration":265308}},{"uid":"36b12746aadc082","reportUrl":"../3564//#testresult/36b12746aadc082","status":"passed","time":{"start":1757443503849,"stop":1757444012844,"duration":508995}},{"uid":"73b7aeb9f3be42ab","reportUrl":"../3559//#testresult/73b7aeb9f3be42ab","status":"passed","time":{"start":1757402267906,"stop":1757402770989,"duration":503083}},{"uid":"c0cd67a9ddcebb78","reportUrl":"../3557//#testresult/c0cd67a9ddcebb78","status":"passed","time":{"start":1757357451919,"stop":1757357961350,"duration":509431}},{"uid":"71145a27315d13a7","reportUrl":"../3553//#testresult/71145a27315d13a7","status":"passed","time":{"start":1757318316197,"stop":1757318817308,"duration":501111}},{"uid":"556d5da23da6d485","reportUrl":"../3550//#testresult/556d5da23da6d485","status":"passed","time":{"start":1757270779389,"stop":1757271283013,"duration":503624}},{"uid":"e4f19296be50ef69","reportUrl":"../3549//#testresult/e4f19296be50ef69","status":"unknown","time":{}},{"uid":"23008b7cf5de8680","reportUrl":"../3547//#testresult/23008b7cf5de8680","status":"passed","time":{"start":1757141750828,"stop":1757142256320,"duration":505492}},{"uid":"b5ebb33210c3da8c","reportUrl":"../3546//#testresult/b5ebb33210c3da8c","status":"passed","time":{"start":1757098225826,"stop":1757098732621,"duration":506795}},{"uid":"f15b4013ddcce8cb","reportUrl":"../3536//#testresult/f15b4013ddcce8cb","status":"passed","time":{"start":1756968349832,"stop":1756968854139,"duration":504307}},{"uid":"65cd12377f0895d9","reportUrl":"../3522//#testresult/65cd12377f0895d9","status":"passed","time":{"start":1756796278279,"stop":1756796785321,"duration":507042}}]},"tags":["asyncio","openstack"]},"source":"961ee333ba3a7f7a.json","parameterValues":[]}