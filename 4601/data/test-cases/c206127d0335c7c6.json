{"uid":"c206127d0335c7c6","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1766946161938,"stop":1766946441375,"duration":279437},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1766945930543,"stop":1766945930908,"duration":365},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1766945930543,"stop":1766945930543,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1766945930543,"stop":1766945930543,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1766945930543,"stop":1766945930543,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1766945930908,"stop":1766945930908,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1766945930908,"stop":1766945930914,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1766945930914,"stop":1766946148320,"duration":217406},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1766945930914,"stop":1766945930914,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1766945930914,"stop":1766945930914,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1766945930914,"stop":1766945930914,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1766945930915,"stop":1766945930915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1766945930915,"stop":1766945930915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1766945930915,"stop":1766945930915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1766945930915,"stop":1766945930915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1766945930915,"stop":1766945930915,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1766945930915,"stop":1766945930927,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1766945930927,"stop":1766945933510,"duration":2583},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1766945933510,"stop":1766946148320,"duration":214810},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1766945933510,"stop":1766945933510,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1766946148320,"stop":1766946148585,"duration":265},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1766946148586,"stop":1766946149130,"duration":544},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1766946149130,"stop":1766946159794,"duration":10664},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1766946159794,"stop":1766946159804,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1766946159804,"stop":1766946161937,"duration":2133},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1766946161937,"stop":1766946161937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1766946161937,"stop":1766946161937,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"59b5c413ccf204e4","name":"log","source":"59b5c413ccf204e4.txt","type":"text/plain","size":7671}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1766946441376,"stop":1766946441376,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1766946441376,"stop":1766946441637,"duration":261},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1766946441638,"stop":1766946441638,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1766946441638,"stop":1766946441638,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1766946441639,"stop":1766946442178,"duration":539},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1766946442179,"stop":1766946442482,"duration":303},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1766946442482,"stop":1766946442482,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1766946442482,"stop":1766946442482,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1766946442482,"stop":1766946442483,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"11314-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"79ba56dbca2ccde8","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":37,"broken":141,"skipped":0,"passed":233,"unknown":18,"total":429},"items":[{"uid":"e9990885ce133662","reportUrl":"../4600//#testresult/e9990885ce133662","status":"passed","time":{"start":1766902953138,"stop":1766903234086,"duration":280948}},{"uid":"269aebc61e9466e6","reportUrl":"../4599//#testresult/269aebc61e9466e6","status":"passed","time":{"start":1766859755032,"stop":1766860068700,"duration":313668}},{"uid":"4c429a993141dd40","reportUrl":"../4598//#testresult/4c429a993141dd40","status":"passed","time":{"start":1766816529929,"stop":1766816811348,"duration":281419}},{"uid":"a788254a92d664d8","reportUrl":"../4597//#testresult/a788254a92d664d8","status":"passed","time":{"start":1766773353033,"stop":1766773633611,"duration":280578}},{"uid":"d44feae8c9d8a30e","reportUrl":"../4594//#testresult/d44feae8c9d8a30e","status":"passed","time":{"start":1766686940118,"stop":1766687220792,"duration":280674}},{"uid":"9602a259915ace5e","reportUrl":"../4592//#testresult/9602a259915ace5e","status":"passed","time":{"start":1766643794554,"stop":1766644307202,"duration":512648}},{"uid":"df447d8f6b84d06b","reportUrl":"../4591//#testresult/df447d8f6b84d06b","status":"passed","time":{"start":1766600551578,"stop":1766600831288,"duration":279710}},{"uid":"16e5851b3005df01","reportUrl":"../4585//#testresult/16e5851b3005df01","status":"passed","time":{"start":1766557403720,"stop":1766557683387,"duration":279667}},{"uid":"6d95bbb8d12038af","reportUrl":"../4581//#testresult/6d95bbb8d12038af","status":"passed","time":{"start":1766514175809,"stop":1766514491227,"duration":315418}},{"uid":"94517d0724af1a86","reportUrl":"../4500//#testresult/94517d0724af1a86","status":"passed","time":{"start":1766470990435,"stop":1766471270693,"duration":280258}},{"uid":"f2962b9be2d91df8","reportUrl":"../4484//#testresult/f2962b9be2d91df8","status":"passed","time":{"start":1766427737939,"stop":1766428051023,"duration":313084}},{"uid":"611c5523a16975bb","reportUrl":"../4475//#testresult/611c5523a16975bb","status":"passed","time":{"start":1766384688912,"stop":1766384971084,"duration":282172}},{"uid":"9db0f010fbdfae7d","reportUrl":"../4474//#testresult/9db0f010fbdfae7d","status":"passed","time":{"start":1766341361948,"stop":1766341643571,"duration":281623}},{"uid":"f7dd5acad99d9926","reportUrl":"../4472//#testresult/f7dd5acad99d9926","status":"passed","time":{"start":1766298145790,"stop":1766298424063,"duration":278273}},{"uid":"24d3dbe173324a77","reportUrl":"../4471//#testresult/24d3dbe173324a77","status":"passed","time":{"start":1766254900290,"stop":1766255248734,"duration":348444}},{"uid":"2f1c9af2d6dd29f7","reportUrl":"../4463//#testresult/2f1c9af2d6dd29f7","status":"passed","time":{"start":1766211741839,"stop":1766212022164,"duration":280325}},{"uid":"8c55fc45e770879e","reportUrl":"../4462//#testresult/8c55fc45e770879e","status":"passed","time":{"start":1766168535177,"stop":1766168817613,"duration":282436}},{"uid":"4ca859b95f5f3613","reportUrl":"../4458//#testresult/4ca859b95f5f3613","status":"failed","statusDetails":"AssertionError: Failed to create workflow","time":{"start":1766125562647,"stop":1766126053859,"duration":491212}},{"uid":"cb7ef5ec21cdfa30","reportUrl":"../4445//#testresult/cb7ef5ec21cdfa30","status":"passed","time":{"start":1766082172804,"stop":1766082454146,"duration":281342}},{"uid":"a75f42ccf1a47b5","reportUrl":"../4435//#testresult/a75f42ccf1a47b5","status":"broken","statusDetails":"openstack.exceptions.HttpException: HttpException: 500: Server Error for url: https://nova.ps7.canonical.com:8774/v2.1/servers/detail, Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'KeyError'>","time":{"start":1766039003598,"stop":1766039476915,"duration":473317}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"c206127d0335c7c6.json","parameterValues":[]}