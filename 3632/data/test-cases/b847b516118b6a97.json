{"uid":"b847b516118b6a97","name":"test_prometheus_metrics","fullName":"tests.integration.test_prometheus_metrics#test_prometheus_metrics","historyId":"8ad402f8a81c79aa3fa21a6fb8e0f79a","time":{"start":1758395786336,"stop":1758396285372,"duration":499036},"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","descriptionHtml":"<pre><code>arrange: given a prometheus charm application.\nact: when GitHub runner is integrated.\nassert: the datasource is registered and basic metrics are available.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"k8s_juju","time":{"start":1758394714923,"stop":1758394715270,"duration":347},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758394714923,"stop":1758394714923,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1758394714923,"stop":1758394714923,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1758394714923,"stop":1758394714923,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"prometheus_app","time":{"start":1758394715270,"stop":1758394745150,"duration":29880},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_app","time":{"start":1758394745151,"stop":1758394834283,"duration":89132},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"traefik_ingress","time":{"start":1758394834283,"stop":1758394836719,"duration":2436},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1758394836719,"stop":1758394837576,"duration":857},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1758394837577,"stop":1758394837577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1758394837577,"stop":1758394837577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1758394837577,"stop":1758394837588,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1758394837577,"stop":1758394837577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1758394837588,"stop":1758394837617,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1758394837618,"stop":1758394837618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1758394837618,"stop":1758394837618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1758394837618,"stop":1758394837618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1758394837618,"stop":1758394837618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1758394837618,"stop":1758394837618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1758394837618,"stop":1758394837618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1758394837620,"stop":1758394837620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1758394837620,"stop":1758394837620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1758394837620,"stop":1758394837620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1758394837620,"stop":1758394837620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1758394837620,"stop":1758394837620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1758394837620,"stop":1758394837620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1758394837620,"stop":1758394837620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1758394837620,"stop":1758394837620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1758394837623,"stop":1758394837623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1758394837623,"stop":1758394837623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1758394837623,"stop":1758394837633,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1758394837623,"stop":1758394837623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1758394837634,"stop":1758394837676,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1758394837676,"stop":1758394839383,"duration":1707},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1758394839383,"stop":1758395773393,"duration":934010},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_app_cos_agent","time":{"start":1758395773393,"stop":1758395781072,"duration":7679},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_password","time":{"start":1758395781073,"stop":1758395783692,"duration":2619},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1758395783692,"stop":1758395784093,"duration":401},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1758395784093,"stop":1758395784714,"duration":621},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1758395784714,"stop":1758395786332,"duration":1618},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1758395786332,"stop":1758395786335,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1758395786332,"stop":1758395786332,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","status":"passed","steps":[],"attachments":[{"uid":"537f708f0540916a","name":"log","source":"537f708f0540916a.txt","type":"text/plain","size":68901}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1758396285373,"stop":1758396285373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1758396285374,"stop":1758396285887,"duration":513},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1758396285888,"stop":1758396285889,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1758396285889,"stop":1758396286367,"duration":478},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1758396286368,"stop":1758396286500,"duration":132},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::finalizer","time":{"start":1758396286505,"stop":1758396286505,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1758396286506,"stop":1758396287144,"duration":638},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju::0","time":{"start":1758396287146,"stop":1758396287146,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1758396287147,"stop":1758396287147,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1758396287147,"stop":1758396287147,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1758396287147,"stop":1758396287147,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"openstack"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_prometheus_metrics"},{"name":"host","value":"github-runner"},{"name":"thread","value":"26902-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_prometheus_metrics"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"71800bdd925f89ad","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":19,"skipped":0,"passed":70,"unknown":4,"total":93},"items":[{"uid":"6d58bcd1abd14928","reportUrl":"../3631//#testresult/6d58bcd1abd14928","status":"passed","time":{"start":1758353220222,"stop":1758353708161,"duration":487939}},{"uid":"9abad2c03e080f34","reportUrl":"../3630//#testresult/9abad2c03e080f34","status":"passed","time":{"start":1758307908214,"stop":1758308394288,"duration":486074}},{"uid":"6a77f14f154d380a","reportUrl":"../3629//#testresult/6a77f14f154d380a","status":"passed","time":{"start":1758266520119,"stop":1758267071368,"duration":551249}},{"uid":"ac50f620a518b067","reportUrl":"../3625//#testresult/ac50f620a518b067","status":"passed","time":{"start":1758178124955,"stop":1758178670017,"duration":545062}},{"uid":"7a05c8a7fc1a9e92","reportUrl":"../3624//#testresult/7a05c8a7fc1a9e92","status":"passed","time":{"start":1758137598661,"stop":1758138082507,"duration":483846}},{"uid":"4bd450bf77fe6d7","reportUrl":"../3603//#testresult/4bd450bf77fe6d7","status":"passed","time":{"start":1758094229640,"stop":1758094719131,"duration":489491}},{"uid":"53e495c896911cf0","reportUrl":"../3598//#testresult/53e495c896911cf0","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-uoaerpxt/0","time":{"start":1758047973942,"stop":1758047973942,"duration":0}},{"uid":"1c0715dea8eff45e","reportUrl":"../3594//#testresult/1c0715dea8eff45e","status":"passed","time":{"start":1757920960578,"stop":1757921513859,"duration":553281}},{"uid":"4a08b08a09ceaa44","reportUrl":"../3588//#testresult/4a08b08a09ceaa44","status":"passed","time":{"start":1757875561758,"stop":1757876046463,"duration":484705}},{"uid":"37f2bc99e3ac4f66","reportUrl":"../3587//#testresult/37f2bc99e3ac4f66","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-gmow5cjv/0 [idle] waiting: Waiting for image over integration.\n  github-runner-image-builder-gmow5cjv/0 [executing] active: Building image.","time":{"start":1757831366804,"stop":1757831366804,"duration":0}},{"uid":"7ab4bd3d70606800","reportUrl":"../3586//#testresult/7ab4bd3d70606800","status":"passed","time":{"start":1757789649469,"stop":1757790140756,"duration":491287}},{"uid":"97e39139a65de730","reportUrl":"../3584//#testresult/97e39139a65de730","status":"passed","time":{"start":1757748292720,"stop":1757748739603,"duration":446883}},{"uid":"9199378205429259","reportUrl":"../3581//#testresult/9199378205429259","status":"passed","time":{"start":1757702925758,"stop":1757703492799,"duration":567041}},{"uid":"c56d4a19516e15e4","reportUrl":"../3578//#testresult/c56d4a19516e15e4","status":"passed","time":{"start":1757659707176,"stop":1757660197764,"duration":490588}},{"uid":"5632c96d48b51b5a","reportUrl":"../3572//#testresult/5632c96d48b51b5a","status":"passed","time":{"start":1757618778808,"stop":1757619331140,"duration":552332}},{"uid":"7254c03e5900de7b","reportUrl":"../3569//#testresult/7254c03e5900de7b","status":"passed","time":{"start":1757573370355,"stop":1757573907310,"duration":536955}},{"uid":"1f892d1d57738609","reportUrl":"../3567//#testresult/1f892d1d57738609","status":"passed","time":{"start":1757534777383,"stop":1757535328317,"duration":550934}},{"uid":"921e77cd0f97d815","reportUrl":"../3565//#testresult/921e77cd0f97d815","status":"passed","time":{"start":1757487039813,"stop":1757487680458,"duration":640645}},{"uid":"490518f4cf8da7eb","reportUrl":"../3564//#testresult/490518f4cf8da7eb","status":"passed","time":{"start":1757443851839,"stop":1757444342969,"duration":491130}},{"uid":"d615530e1492c19a","reportUrl":"../3559//#testresult/d615530e1492c19a","status":"passed","time":{"start":1757400339490,"stop":1757400812721,"duration":473231}}]},"tags":["asyncio","openstack"]},"source":"b847b516118b6a97.json","parameterValues":[]}