{"uid":"c26e7c8f23ab3881","name":"test_charm_issues_metrics_for_failed_repo_policy","fullName":"tests.integration.test_charm_metrics_failure#test_charm_issues_metrics_for_failed_repo_policy","historyId":"3e462e3ac295b69113097bb9edb5fd51","time":{"start":1765996011990,"stop":1765996450487,"duration":438497},"description":"\n    arrange: A properly integrated charm with a runner registered on the fork repo.\n    act: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\n    assert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n        The Reconciliation metric has the post job status set to failure.\n    ","descriptionHtml":"<pre><code>arrange: A properly integrated charm with a runner registered on the fork repo.\nact: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\nassert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n    The Reconciliation metric has the post job status set to failure.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"github_client","time":{"start":1765995626155,"stop":1765995626423,"duration":268},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1765995626155,"stop":1765995626155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1765995626155,"stop":1765995626155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1765995626155,"stop":1765995626155,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1765995626423,"stop":1765995626986,"duration":563},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1765995626987,"stop":1765995637643,"duration":10656},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1765995637643,"stop":1765995638919,"duration":1276},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1765995638919,"stop":1765995638919,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1765995638919,"stop":1765995856193,"duration":217274},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1765995638919,"stop":1765995638919,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1765995638919,"stop":1765995639373,"duration":454},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1765995639373,"stop":1765995639381,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1765995639381,"stop":1765995639381,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1765995639381,"stop":1765995639381,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1765995639381,"stop":1765995639381,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1765995639381,"stop":1765995639381,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1765995639381,"stop":1765995639381,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1765995639381,"stop":1765995639381,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1765995639381,"stop":1765995639381,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1765995639381,"stop":1765995639394,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1765995639394,"stop":1765995642964,"duration":3570},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1765995642964,"stop":1765995642964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1765995642964,"stop":1765995856193,"duration":213229},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1765995856193,"stop":1765995856193,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1765995856193,"stop":1765996011989,"duration":155796},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric","time":{"start":1765995856193,"stop":1765995856193,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1765996011989,"stop":1765996011989,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A properly integrated charm with a runner registered on the fork repo.\n    act: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\n    assert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n        The Reconciliation metric has the post job status set to failure.\n    ","status":"passed","steps":[],"attachments":[{"uid":"e10a461acc26b1e6","name":"log","source":"e10a461acc26b1e6.txt","type":"text/plain","size":7356}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1765996450488,"stop":1765996450488,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app::finalizer","time":{"start":1765996450488,"stop":1765996450488,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric::finalizer","time":{"start":1765997036818,"stop":1765997036818,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1765997036818,"stop":1765997036819,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1765997036819,"stop":1765997036819,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1765997036819,"stop":1765997036975,"duration":156},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1765997036977,"stop":1765997037271,"duration":294},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1765997037272,"stop":1765997038123,"duration":851},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1765997038124,"stop":1765997038124,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1765997038124,"stop":1765997038124,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1765997038124,"stop":1765997038124,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_metrics_failure"},{"name":"host","value":"github-runner"},{"name":"thread","value":"10011-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_metrics_failure"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"22ab8adcea769af6","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":39,"broken":141,"skipped":0,"passed":210,"unknown":16,"total":406},"items":[{"uid":"27a1d117260eab73","reportUrl":"../4370//#testresult/27a1d117260eab73","status":"passed","time":{"start":1765937971680,"stop":1765938413465,"duration":441785}},{"uid":"7d39800d8ce1831a","reportUrl":"../4344//#testresult/7d39800d8ce1831a","status":"failed","statusDetails":"AssertionError: Timeout waiting for runner to be ready","time":{"start":1765852749728,"stop":1765853613493,"duration":863765}},{"uid":"12a4ff0a35e6e96d","reportUrl":"../4332//#testresult/12a4ff0a35e6e96d","status":"passed","time":{"start":1765607091540,"stop":1765607527651,"duration":436111}},{"uid":"63b6dc009862a20","reportUrl":"../4330//#testresult/63b6dc009862a20","status":"passed","time":{"start":1765563950815,"stop":1765564387342,"duration":436527}},{"uid":"b97394cd6042632c","reportUrl":"../4312//#testresult/b97394cd6042632c","status":"passed","time":{"start":1765520782900,"stop":1765521222128,"duration":439228}},{"uid":"ccf7590a47b41800","reportUrl":"../4297//#testresult/ccf7590a47b41800","status":"passed","time":{"start":1765477465117,"stop":1765478243387,"duration":778270}},{"uid":"6aa71e21e9eaee0a","reportUrl":"../4292//#testresult/6aa71e21e9eaee0a","status":"passed","time":{"start":1765434415075,"stop":1765434856202,"duration":441127}},{"uid":"b9bfe923a0f5c9b4","reportUrl":"../4277//#testresult/b9bfe923a0f5c9b4","status":"passed","time":{"start":1765391144985,"stop":1765391583062,"duration":438077}},{"uid":"7460d8fb14550a4c","reportUrl":"../4270//#testresult/7460d8fb14550a4c","status":"passed","time":{"start":1765304701606,"stop":1765305141227,"duration":439621}},{"uid":"32c03ccc097d2e75","reportUrl":"../4264//#testresult/32c03ccc097d2e75","status":"passed","time":{"start":1765261529297,"stop":1765261966013,"duration":436716}},{"uid":"6acc0f17c524668e","reportUrl":"../4256//#testresult/6acc0f17c524668e","status":"passed","time":{"start":1765241072941,"stop":1765241509298,"duration":436357}},{"uid":"85f9d39a3b8373a9","reportUrl":"../4253//#testresult/85f9d39a3b8373a9","status":"passed","time":{"start":1765175152016,"stop":1765175588430,"duration":436414}},{"uid":"6cc107b2d81cb0ca","reportUrl":"../4251//#testresult/6cc107b2d81cb0ca","status":"passed","time":{"start":1765131904388,"stop":1765132338636,"duration":434248}},{"uid":"c316bd438e31997b","reportUrl":"../4250//#testresult/c316bd438e31997b","status":"passed","time":{"start":1765088680974,"stop":1765089116787,"duration":435813}},{"uid":"77879541289e6d6a","reportUrl":"../4249//#testresult/77879541289e6d6a","status":"passed","time":{"start":1765045458873,"stop":1765045900398,"duration":441525}},{"uid":"12452ed6fc9c35","reportUrl":"../4235//#testresult/12452ed6fc9c35","status":"passed","time":{"start":1765002228716,"stop":1765002700059,"duration":471343}},{"uid":"82cff68732f1fa5","reportUrl":"../4232//#testresult/82cff68732f1fa5","status":"passed","time":{"start":1764959035431,"stop":1764959473176,"duration":437745}},{"uid":"b1db190ffae9109b","reportUrl":"../4218//#testresult/b1db190ffae9109b","status":"passed","time":{"start":1764915917914,"stop":1764916353101,"duration":435187}},{"uid":"3c3683448664addf","reportUrl":"../4217//#testresult/3c3683448664addf","status":"unknown","time":{}},{"uid":"a70e75f6a208c043","reportUrl":"../4204//#testresult/a70e75f6a208c043","status":"failed","statusDetails":"AssertionError: Please specify the --openstack-network-name command line option\nassert ''","time":{"start":1764829193528,"stop":1764829193528,"duration":0}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"c26e7c8f23ab3881.json","parameterValues":[]}