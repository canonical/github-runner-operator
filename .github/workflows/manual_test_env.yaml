name: Manual test env

on:
  pull_request:

jobs:
  manual-test-env:
    name: manual-test-env
    runs-on: ["self-hosted", "stg-private-endpoint"]
    steps:
      - run: sudo apt update -yq
      - run: sudo apt install pipx -yq
      - run: pipx ensurepath
      - run: pipx install tox
      - uses: actions/checkout@v4
      - name: Tmate debugging session (self-hosted)
        uses: canonical/action-tmate@main
        timeout-minutes: 300
