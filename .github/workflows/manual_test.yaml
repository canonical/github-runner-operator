name: Manual test

on:
  # push:
  pull_request:
  workflow_dispatch:

jobs:
  network-speed-test-stg:
    name: Network speed test AMD64
    runs-on: [self-hosted, stg-private-endpoint, X64]
    steps:
      - name: Librespeed test
        run: |
          wget https://github.com/librespeed/speedtest-cli/releases/download/v1.0.10/librespeed-cli_1.0.10_linux_amd64.tar.gz
          tar -xvzf librespeed-cli_1.0.10_linux_amd64.tar.gz
          ./librespeed-cli
  network-speed-test-edge:
    name: Network speed test AMD64
    runs-on: [self-hosted, edge, X64]
    steps:
      - name: Librespeed test
        run: |
          wget https://github.com/librespeed/speedtest-cli/releases/download/v1.0.10/librespeed-cli_1.0.10_linux_amd64.tar.gz
          tar -xvzf librespeed-cli_1.0.10_linux_amd64.tar.gz
          ./librespeed-cli