name: End to end tests

on: 
  pull_request:
  workflow_call:
  workflow_dispatch:

jobs:
  e2e-test:
    name: basic end to end test
    runs-on: [self-hosted, linux, x64, e2e-runner]
    steps:
      - name: Echo hello world
        run: echo "hello world"
  e2e-respawn-test:
    name: respawning runner end to end test
    runs-on: [self-hosted, linux, x64, e2e-runner]
    strategy:
      matrix:
        runner: [1, 2]
    steps:
      - name: Echo hello world
        run: echo "hello world"
 