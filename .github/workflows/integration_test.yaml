name: Integration test

on:
  pull_request:

jobs:
  integration-test:
    uses: canonical/operator-workflows/.github/workflows/integration_test.yaml@main
    secrets: inherit
    with:
      juju-channel: 3.1/stable
      provider: lxd
      extra-arguments: --path ${{secrets.E2E_TESTING_REPO}} \
        --token-one ${{secrets.E2E_TESTING_TOKEN}} \
        --token-two ${{secrets.E2E_TESTING_TOKEN_ALT}}
