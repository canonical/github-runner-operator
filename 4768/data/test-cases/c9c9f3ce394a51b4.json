{"uid":"c9c9f3ce394a51b4","name":"test_reactive_mode_scale_down","fullName":"tests.integration.test_reactive#test_reactive_mode_scale_down","historyId":"bb6817de59a8aff167470484d2d33ee6","time":{"start":1769151174062,"stop":1769152427428,"duration":1253366},"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","descriptionHtml":"<pre><code>arrange: Scale down the number of virtual machines to 2 and spawn a job.\nact:\n    1. Scale down the number of virtual machines to 0 and call reconcile.\n    2. Spawn a job.\nassert:\n    1. The job fails.\n    2. The job is queued and there is a message in the queue.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1769149222540,"stop":1769149222540,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1769149222540,"stop":1769149222931,"duration":391},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1769149222540,"stop":1769149222540,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1769149222540,"stop":1769149222540,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1769149222931,"stop":1769149223894,"duration":963},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1769149222931,"stop":1769149222931,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1769149223894,"stop":1769149224547,"duration":653},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1769149224548,"stop":1769149226184,"duration":1636},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1769149226185,"stop":1769149226185,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1769149226185,"stop":1769149226191,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1769149226191,"stop":1769149226191,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mongodb","time":{"start":1769149226191,"stop":1769149228593,"duration":2402},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1769149228593,"stop":1769149228593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1769149228593,"stop":1769149228593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1769149228593,"stop":1769149228604,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1769149228593,"stop":1769149228593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1769149228593,"stop":1769149228593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1769149228593,"stop":1769149228593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1769149228593,"stop":1769149228593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1769149228604,"stop":1769149233765,"duration":5161},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1769149233765,"stop":1769149477321,"duration":243556},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1769149233765,"stop":1769149233765,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_reactive","time":{"start":1769149477321,"stop":1769149546387,"duration":69066},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1769151017669,"stop":1769151017669,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1769151017669,"stop":1769151174062,"duration":156393},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","status":"passed","steps":[],"attachments":[{"uid":"35f077cd6aeb2cf3","name":"log","source":"35f077cd6aeb2cf3.txt","type":"text/plain","size":9448}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1769152427428,"stop":1769152565652,"duration":138224},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1769152565653,"stop":1769152565653,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1769152565653,"stop":1769152565653,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1769152565653,"stop":1769152565653,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1769152565654,"stop":1769152566171,"duration":517},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1769152566172,"stop":1769152567080,"duration":908},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1769152567081,"stop":1769152567379,"duration":298},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1769152567379,"stop":1769152567380,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1769152567380,"stop":1769152567380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1769152567380,"stop":1769152567380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_reactive"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12656-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_reactive"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"48cd692ea768c86d","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":45,"broken":144,"skipped":56,"passed":210,"unknown":24,"total":479},"items":[{"uid":"6cbf53f040c445ad","reportUrl":"../4766//#testresult/6cbf53f040c445ad","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1769107584038,"stop":1769107584038,"duration":0}},{"uid":"fd98980836408c7","reportUrl":"../4759//#testresult/fd98980836408c7","status":"failed","statusDetails":"AssertionError: Expected 1 job to be created","time":{"start":1769064613017,"stop":1769064771396,"duration":158379}},{"uid":"ec6df6205691476f","reportUrl":"../4754//#testresult/ec6df6205691476f","status":"failed","statusDetails":"AssertionError: Expected 1 job to be created","time":{"start":1769022127994,"stop":1769022297371,"duration":169377}},{"uid":"12cf90bc36c27e4a","reportUrl":"../4740//#testresult/12cf90bc36c27e4a","status":"passed","time":{"start":1768978410984,"stop":1768979571474,"duration":1160490}},{"uid":"8f60613cf7272b7f","reportUrl":"../4735//#testresult/8f60613cf7272b7f","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1768935217330,"stop":1768935217330,"duration":0}},{"uid":"3bfb7ba459d80b1d","reportUrl":"../4727//#testresult/3bfb7ba459d80b1d","status":"failed","statusDetails":"AssertionError: Queue test-del49oih expected: 0, received: 1","time":{"start":1768892013853,"stop":1768893081693,"duration":1067840}},{"uid":"9c096d18aed9615c","reportUrl":"../4719//#testresult/9c096d18aed9615c","status":"passed","time":{"start":1768848649985,"stop":1768849829290,"duration":1179305}},{"uid":"d3060fdd21aa082","reportUrl":"../4706//#testresult/d3060fdd21aa082","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-pozm1ivh/0","time":{"start":1768813495094,"stop":1768813495094,"duration":0}},{"uid":"9037ad9e0cad8882","reportUrl":"../4703//#testresult/9037ad9e0cad8882","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-fb2zw4pa/0","time":{"start":1768760508549,"stop":1768760508549,"duration":0}},{"uid":"8363032977584ee0","reportUrl":"../4702//#testresult/8363032977584ee0","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-mgc5ar68/0","time":{"start":1768717294533,"stop":1768717294533,"duration":0}},{"uid":"dac6ad58e37c76b1","reportUrl":"../4701//#testresult/dac6ad58e37c76b1","status":"failed","statusDetails":"AssertionError: Expected 1 job to be created","time":{"start":1768675810135,"stop":1768675968707,"duration":158572}},{"uid":"84f56eca3c67bc7a","reportUrl":"../4700//#testresult/84f56eca3c67bc7a","status":"passed","time":{"start":1768632671825,"stop":1768633881509,"duration":1209684}},{"uid":"52cefcdbe190d3a3","reportUrl":"../4699//#testresult/52cefcdbe190d3a3","status":"passed","time":{"start":1768589422919,"stop":1768590623716,"duration":1200797}},{"uid":"a41b574b59e5cbf7","reportUrl":"../4695//#testresult/a41b574b59e5cbf7","status":"passed","time":{"start":1768546255262,"stop":1768547423635,"duration":1168373}},{"uid":"4c1551e3a1305fe","reportUrl":"../4690//#testresult/4c1551e3a1305fe","status":"failed","statusDetails":"AssertionError: Expected 1 job to be created","time":{"start":1768503217690,"stop":1768504370379,"duration":1152689}},{"uid":"b286ad62beefca93","reportUrl":"../4687//#testresult/b286ad62beefca93","status":"failed","statusDetails":"AssertionError: Queue test-e1ll0hy9 expected: 0, received: 1","time":{"start":1768459870176,"stop":1768460948018,"duration":1077842}},{"uid":"d807a3045147aab4","reportUrl":"../4684//#testresult/d807a3045147aab4","status":"failed","statusDetails":"AssertionError: Queue test-wcogbw3m expected: 0, received: 1","time":{"start":1768416858997,"stop":1768417919074,"duration":1060077}},{"uid":"7e2f904da3a52283","reportUrl":"../4670//#testresult/7e2f904da3a52283","status":"failed","statusDetails":"AssertionError: Queue test-mvotp65e expected: 0, received: 1","time":{"start":1768373477020,"stop":1768374486467,"duration":1009447}},{"uid":"5f66758c5154cb9","reportUrl":"../4669//#testresult/5f66758c5154cb9","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1768329154722,"stop":1768329154722,"duration":0}},{"uid":"977e303884aad188","reportUrl":"../4666//#testresult/977e303884aad188","status":"failed","statusDetails":"AssertionError: Queue test-onfwcfq1 expected: 0, received: 1","time":{"start":1768287055951,"stop":1768288063255,"duration":1007304}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"c9c9f3ce394a51b4.json","parameterValues":[]}