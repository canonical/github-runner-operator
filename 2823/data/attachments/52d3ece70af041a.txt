06:49:08 INFO Waiting for model:
  test-t2gclfxq/0 [executing] maintenance: Reconciling runners
06:49:38 INFO Waiting for model:
  test-t2gclfxq/0 [idle] active:
06:52:07 INFO Waiting for model:
  test-t2gclfxq/0 [executing] active: 
06:52:38 INFO Wait for condition not met, sleeping 30
06:53:21 INFO [TEST SETUP] Run command pkill -9 run.sh on test-t2gclfxq-0-n-d9591ac029f3
06:53:21 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.25', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:af:f1:f7'}]])
06:53:22 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-t2gclfxq-0-n-d9591ac029f3.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.25 pkill -9 run.sh'
06:53:23 INFO Run command 'pkill -9 run.sh' in runner with result 0: 'None' 'Warning: Permanently added '10.145.193.25' (ED25519) to the list of known hosts.
'
06:53:26 INFO Runner test-t2gclfxq-0-n-d9591ac029f3 status: online
06:53:26 INFO Runner still marked as online, waiting for it to be marked offline
06:54:55 INFO Waiting for model:
  test-t2gclfxq/0 [executing] active: 
06:55:23 INFO File content of /var/log/github-runner-metrics.log: {"timestamp": 1749451747.497825, "event": "reconciliation", "flavor": "test-t2gclfxq", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 24.381212949752808}
{"timestamp": 1749451773.8347576, "event": "reconciliation", "flavor": "test-t2gclfxq", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 25.098084926605225}
{"timestamp": 1749451913.262671, "event": "reconciliation", "flavor": "test-t2gclfxq", "crashed_runners": 0, "idle_runners": 1, "active_runners": 0, "expected_runners": 1, "duration": 113.2451822757721}
{"timestamp": 1749451927.0981786, "event": "reconciliation", "flavor": "test-t2gclfxq", "crashed_runners": 0, "idle_runners": 1, "active_runners": 0, "expected_runners": 1, "duration": 12.58526611328125}
{"timestamp": 1749451940.044156, "event": "reconciliation", "flavor": "test-t2gclfxq", "crashed_runners": 0, "idle_runners": 1, "active_runners": 0, "expected_runners": 1, "duration": 11.71544861793518}
{"timestamp": 1749451878.0, "event": "runner_installed", "flavor": "test-t2gclfxq", "duration": 67.0}
{"timestamp": 1749451961.0, "event": "runner_start", "flavor": "test-t2gclfxq", "workflow": "Workflow Dispatch Crash Tests", "repo": "canonical/github-runner-operator", "github_event": "workflow_dispatch", "idle": 83.0, "queue_duration": 1.0}
{"timestamp": 1749452003.0, "event": "runner_stop", "flavor": "test-t2gclfxq", "workflow": "Workflow Dispatch Crash Tests", "repo": "canonical/github-runner-operator", "github_event": "workflow_dispatch", "status": "abnormal", "status_info": {"code": 137}, "job_duration": 42.0, "job_conclusion": "cancelled"}
{"timestamp": 1749452094.5273914, "event": "reconciliation", "flavor": "test-t2gclfxq", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 24.813817024230957}
{"timestamp": 1749452106.9803343, "event": "reconciliation", "flavor": "test-t2gclfxq", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 11.202476263046265}
06:55:25 INFO Model status:

Model                            Controller           Cloud/Region         Version  SLA          Timestamp
test-charm-metrics-failure-paw5  github-pr-c3380-lxd  localhost/localhost  3.6.6    unsupported  06:55:25Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-t2gclfxq           active      1  github-runner-image-builder  latest/edge   85  no       
test-t2gclfxq                                  active      1  github-runner                               0  yes      

Unit                                     Workload  Agent  Machine  Public address  Ports     Message
github-runner-image-builder-t2gclfxq/0*  active    idle   0        10.183.172.138            
test-t2gclfxq/0*                         active    idle   1        10.183.172.194  8080/tcp  

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.183.172.138  juju-36085c-0  ubuntu@22.04      Running
1        started  10.183.172.194  juju-36085c-1  ubuntu@22.04      Running

06:55:25 INFO Juju error logs:

machine-0: 06:27:03 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 06:27:03 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-t2gclfxq-0: 06:27:03 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-github-runner-image-builder-t2gclfxq-0: 06:27:42 ERROR unit.github-runner-image-builder-t2gclfxq/0.juju-log Pipx command failed, code: 1, out: None, err: None
machine-1: 06:28:06 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 06:28:06 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-test-t2gclfxq-0: 06:28:06 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-test-t2gclfxq-0: 06:47:47 ERROR unit.test-t2gclfxq/0.juju-log Failed to get SSH connection while removing test-t2gclfxq-0-n-c5114cf0c9b6
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 216, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 144, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 340, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-t2gclfxq-0-n-c5114cf0c9b6, key path: /home/runner-manager/.ssh/test-t2gclfxq-0-n-c5114cf0c9b6.key
unit-test-t2gclfxq-0: 06:47:54 ERROR unit.test-t2gclfxq/0.juju-log Invalid pulled metrics. No runner_installed information for test-t2gclfxq-0-n-c5114cf0c9b6.
unit-test-t2gclfxq-0: 06:47:54 ERROR unit.test-t2gclfxq/0.juju-log No metrics returned after deleting test-t2gclfxq-0-n-c5114cf0c9b6
unit-test-t2gclfxq-0: 06:48:04 ERROR unit.test-t2gclfxq/0.juju-log Failed to get SSH connection while removing test-t2gclfxq-0-n-c5114cf0c9b6
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 216, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 144, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 340, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-t2gclfxq-0-n-c5114cf0c9b6, key path: /home/runner-manager/.ssh/test-t2gclfxq-0-n-c5114cf0c9b6.key
unit-test-t2gclfxq-0: 06:48:05 ERROR unit.test-t2gclfxq/0.juju-log Invalid pulled metrics. No runner_installed information for test-t2gclfxq-0-n-c5114cf0c9b6.
unit-test-t2gclfxq-0: 06:48:05 ERROR unit.test-t2gclfxq/0.juju-log No metrics returned after deleting test-t2gclfxq-0-n-c5114cf0c9b6
unit-test-t2gclfxq-0: 06:48:16 ERROR unit.test-t2gclfxq/0.juju-log Failed to get SSH connection while removing test-t2gclfxq-0-n-c5114cf0c9b6
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 216, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 144, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 340, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-t2gclfxq-0-n-c5114cf0c9b6, key path: /home/runner-manager/.ssh/test-t2gclfxq-0-n-c5114cf0c9b6.key
unit-test-t2gclfxq-0: 06:48:17 ERROR unit.test-t2gclfxq/0.juju-log Invalid pulled metrics. No runner_installed information for test-t2gclfxq-0-n-c5114cf0c9b6.
unit-test-t2gclfxq-0: 06:48:17 ERROR unit.test-t2gclfxq/0.juju-log No metrics returned after deleting test-t2gclfxq-0-n-c5114cf0c9b6
unit-test-t2gclfxq-0: 06:48:50 ERROR unit.test-t2gclfxq/0.juju-log Failed to get SSH connection while removing test-t2gclfxq-0-n-c5114cf0c9b6
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 216, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 144, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 340, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-t2gclfxq-0-n-c5114cf0c9b6, key path: /home/runner-manager/.ssh/test-t2gclfxq-0-n-c5114cf0c9b6.key
unit-test-t2gclfxq-0: 06:48:52 ERROR unit.test-t2gclfxq/0.juju-log Invalid pulled metrics. No runner_installed information for test-t2gclfxq-0-n-c5114cf0c9b6.
unit-test-t2gclfxq-0: 06:48:52 ERROR unit.test-t2gclfxq/0.juju-log No metrics returned after deleting test-t2gclfxq-0-n-c5114cf0c9b6
unit-test-t2gclfxq-0: 06:49:02 ERROR unit.test-t2gclfxq/0.juju-log Failed to get SSH connection while removing test-t2gclfxq-0-n-c5114cf0c9b6
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 216, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 144, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 340, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-t2gclfxq-0-n-c5114cf0c9b6, key path: /home/runner-manager/.ssh/test-t2gclfxq-0-n-c5114cf0c9b6.key
unit-test-t2gclfxq-0: 06:49:04 ERROR unit.test-t2gclfxq/0.juju-log Invalid pulled metrics. No runner_installed information for test-t2gclfxq-0-n-c5114cf0c9b6.
unit-test-t2gclfxq-0: 06:49:04 ERROR unit.test-t2gclfxq/0.juju-log No metrics returned after deleting test-t2gclfxq-0-n-c5114cf0c9b6
unit-test-t2gclfxq-0: 06:49:15 ERROR unit.test-t2gclfxq/0.juju-log Failed to get SSH connection while removing test-t2gclfxq-0-n-c5114cf0c9b6
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 216, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 144, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 340, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-t2gclfxq-0-n-c5114cf0c9b6, key path: /home/runner-manager/.ssh/test-t2gclfxq-0-n-c5114cf0c9b6.key
unit-test-t2gclfxq-0: 06:49:18 ERROR unit.test-t2gclfxq/0.juju-log Invalid pulled metrics. No runner_installed information for test-t2gclfxq-0-n-c5114cf0c9b6.
unit-test-t2gclfxq-0: 06:49:18 ERROR unit.test-t2gclfxq/0.juju-log No metrics returned after deleting test-t2gclfxq-0-n-c5114cf0c9b6
unit-test-t2gclfxq-0: 06:49:29 ERROR unit.test-t2gclfxq/0.juju-log Failed to get SSH connection while removing test-t2gclfxq-0-n-c5114cf0c9b6
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 216, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 144, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-t2gclfxq-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 340, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-t2gclfxq-0-n-c5114cf0c9b6, key path: /home/runner-manager/.ssh/test-t2gclfxq-0-n-c5114cf0c9b6.key
unit-test-t2gclfxq-0: 06:49:30 ERROR unit.test-t2gclfxq/0.juju-log Invalid pulled metrics. No runner_installed information for test-t2gclfxq-0-n-c5114cf0c9b6.
unit-test-t2gclfxq-0: 06:49:30 ERROR unit.test-t2gclfxq/0.juju-log No metrics returned after deleting test-t2gclfxq-0-n-c5114cf0c9b6

06:55:25 INFO Forgetting model main...