18:25:03 WARNING unexpected facade SSHServer received from the controller
18:25:03 INFO Adding model github-pr-b51b1-lxd:test-charm-fork-path-change-sucu on cloud localhost
18:25:04 WARNING unexpected facade SSHServer received from the controller
18:25:04 WARNING unexpected facade SSHSession received from the controller
18:25:04 WARNING unexpected facade SSHTunneler received from the controller
18:25:05 INFO Deploying ch:amd64/jammy/github-runner-image-builder-68
18:25:38 INFO Deploying local:jammy/github-runner-0
18:25:38 INFO Waiting for model:
  test-xagn6dut/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-xagn6dut/0 [allocating] waiting: waiting for machine
18:26:09 INFO Waiting for model:
  test-xagn6dut/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-xagn6dut/0 [allocating] waiting: waiting for machine
18:26:39 INFO Waiting for model:
  test-xagn6dut/0 [allocating] waiting: agent initialising
  github-runner-image-builder-xagn6dut/0 [executing] maintenance: Setting up Builder.
18:27:09 INFO Waiting for model:
  test-xagn6dut/0 [executing] maintenance: installing charm software
  github-runner-image-builder-xagn6dut/0 [executing] maintenance: Setting up Builder.
18:27:39 INFO Waiting for model:
  test-xagn6dut/0 [executing] blocked: Please provide image integration.
  github-runner-image-builder-xagn6dut/0 [executing] maintenance: Setting up Builder.
18:28:09 INFO Waiting for model:
  test-xagn6dut/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-xagn6dut/0 [executing] maintenance: Setting up Builder.
18:28:39 INFO Waiting for model:
  test-xagn6dut/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-xagn6dut/0 [executing] maintenance: Setting up Builder.
18:29:10 INFO Waiting for model:
  test-xagn6dut/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-xagn6dut/0 [executing] maintenance: Setting up Builder.
18:29:40 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:30:11 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:30:41 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:31:11 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:31:41 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:32:12 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:32:42 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:33:12 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:33:42 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:34:13 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:34:43 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:35:13 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:35:43 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:36:13 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:36:43 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:37:14 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:37:44 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:38:15 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:38:45 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:39:15 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:39:45 INFO Waiting for model:
  test-xagn6dut/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-xagn6dut/0 [executing] active: Building image.
18:40:16 INFO Waiting for model:
  test-xagn6dut/0 [executing] maintenance: Update image for runners
  github-runner-image-builder-xagn6dut/0 [idle] active: 
18:40:46 INFO Waiting for model:
  test-xagn6dut/0 [executing] maintenance: Reconciling runners
18:41:06 INFO GitHub token rate limit: Rate(reset=2025-05-02 19:20:03+00:00, remaining=4965, limit=5000)
18:41:18 INFO test_path_config_change
18:41:18 INFO Waiting for model:
  test-xagn6dut/0 [idle] active: 
18:41:49 INFO Waiting for model:
  test-xagn6dut/0 [executing] maintenance: Reconciling runners
18:42:19 INFO Waiting for model:
  test-xagn6dut/0 [executing] maintenance: Reconciling runners
18:42:49 INFO Waiting for model:
  test-xagn6dut/0 [idle] active: 
18:42:51 INFO Ensure there is a runner (this calls reconcile)
19:00:59 INFO Waiting for model:
  test-xagn6dut/0 [executing] active: 
19:01:30 INFO Waiting for model:
  test-xagn6dut/0 [executing] maintenance: Reconciling runners
19:01:48 INFO Reconciling (again)
19:05:16 INFO Waiting for model:
  test-xagn6dut/0 [executing] active: 
19:05:47 INFO Waiting for model:
  test-xagn6dut/0 [idle] active: 
19:06:00 INFO runners: ['test-xagn6dut-0-n-0727745df09c']
19:06:01 INFO runners in github repo: [SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-0de1d30192a7"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-1fc486df23fa"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-3903f1b867ba"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-5d8f49f79a43"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-5faea0379b72"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-7dcab75a1cf7"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-9e9c1b7f73a3"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-f27c4d9038c2"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-fa9d79a93fb6"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps7-0-n-bf0a45c27f20"), SelfHostedActionsRunner(name="test-bkb72dqj-0-r-4adbe52809ed"), SelfHostedActionsRunner(name="test-bsetecp7-0-n-22141d22307b"), SelfHostedActionsRunner(name="test-bw67smq3-0-n-56c59b45196f"), SelfHostedActionsRunner(name="test-c8eh502i-0-n-90d097e4fa38"), SelfHostedActionsRunner(name="test-cexmi01w-0-n-2b5a6bba872e"), SelfHostedActionsRunner(name="test-cexmi01w-0-n-8efc3bc2fdba"), SelfHostedActionsRunner(name="test-cfj2f7u5-0-n-0cb54831c6d5"), SelfHostedActionsRunner(name="test-cptop113-0-n-6fbdbc021f2e"), SelfHostedActionsRunner(name="test-e3ylv4q0-0-n-b46417a971fc"), SelfHostedActionsRunner(name="test-ebb0zvas-0-n-eee909548402"), SelfHostedActionsRunner(name="test-g4b56xpd-0-n-1495aab311a1"), SelfHostedActionsRunner(name="test-h5gb6rw4-0-n-072f603e335a"), SelfHostedActionsRunner(name="test-h5gb6rw4-0-n-92334fb80e0b"), SelfHostedActionsRunner(name="test-j50f7c08-0-n-2275d7a38f78"), SelfHostedActionsRunner(name="test-kfkzgufe-0-n-51065920f2c2"), SelfHostedActionsRunner(name="test-kfkzgufe-0-n-549eeccabae3"), SelfHostedActionsRunner(name="test-kfkzgufe-0-n-873d7b26ff4a"), SelfHostedActionsRunner(name="test-kfkzgufe-0-n-b6aae1a7bda2"), SelfHostedActionsRunner(name="test-kfkzgufe-0-n-cf95b7b535ec"), SelfHostedActionsRunner(name="test-khdnxtve-0-n-48f8d9c08ed2"), SelfHostedActionsRunner(name="test-khdnxtve-0-n-ae279119601b"), SelfHostedActionsRunner(name="test-lpicvnh5-0-n-23b261a82eac"), SelfHostedActionsRunner(name="test-lr72dys3-0-n-a0390d65b2b6"), SelfHostedActionsRunner(name="test-lr72dys3-0-n-a9d6b0f8fba4"), SelfHostedActionsRunner(name="test-n5e4ccev-0-n-efb617e628c1"), SelfHostedActionsRunner(name="test-pf3wpgdi-0-n-618c7e71040d"), SelfHostedActionsRunner(name="test-pueczimx-0-n-0361f9e5818d"), SelfHostedActionsRunner(name="test-pueczimx-0-n-88d03a25f55b"), SelfHostedActionsRunner(name="test-q9ollx03-0-n-ea96082a3b56"), SelfHostedActionsRunner(name="test-qv9u8qxn-0-n-e451f0f9c97e"), SelfHostedActionsRunner(name="test-tnwefrcb-0-n-277012406987"), SelfHostedActionsRunner(name="test-tqhj0c4a-0-n-723628efb8ad"), SelfHostedActionsRunner(name="test-tr6jzmvq-0-n-b85a88eb0c28"), SelfHostedActionsRunner(name="test-v1gm7adp-0-n-9bcb7d357211"), SelfHostedActionsRunner(name="test-xagn6dut-0-n-0727745df09c"), SelfHostedActionsRunner(name="test-xzk3zg4v-0-n-0ff82cf42962"), SelfHostedActionsRunner(name="test-xzk3zg4v-0-n-ed589d30f1b0"), SelfHostedActionsRunner(name="test-y9pm8ljv-0-n-c08d31f65d5d"), SelfHostedActionsRunner(name="test-yfkpjbr7-0-n-fbd77fc1d6b0"), SelfHostedActionsRunner(name="test-ykd423p5-0-n-b32b075bb4df"), SelfHostedActionsRunner(name="test-z5fegmpe-0-n-74aeae87baee"), SelfHostedActionsRunner(name="test-zfa3f6gk-0-n-e2754f2ffb40")]
19:06:02 INFO Model status:

Model                             Controller           Cloud/Region         Version  SLA          Timestamp
test-charm-fork-path-change-sucu  github-pr-b51b1-lxd  localhost/localhost  3.6.5    unsupported  19:06:02Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-xagn6dut           active      1  github-runner-image-builder  latest/edge   68  no       
test-xagn6dut                                  active      1  github-runner                               0  no       

Unit                                     Workload  Agent  Machine  Public address  Ports  Message
github-runner-image-builder-xagn6dut/0*  active    idle   0        10.15.107.56           
test-xagn6dut/0*                         active    idle   1        10.15.107.235          

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.15.107.56   juju-7d248b-0  ubuntu@22.04      Running
1        started  10.15.107.235  juju-7d248b-1  ubuntu@22.04      Running

19:06:03 INFO Juju error logs:

machine-0: 18:26:26 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 18:26:26 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-xagn6dut-0: 18:26:26 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 18:26:36 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 18:26:36 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-test-xagn6dut-0: 18:26:36 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-github-runner-image-builder-xagn6dut-0: 18:27:10 ERROR unit.github-runner-image-builder-xagn6dut/0.juju-log Pipx command failed, code: 1, out: None, err: None
unit-test-xagn6dut-0: 18:27:18 ERROR unit.test-xagn6dut/0.juju-log Command python3 -m pip uninstall github_runner_manager failed with code 2: b'ERROR: Exception:\nTraceback (most recent call last):\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/cli/base_command.py", line 105, in _run_wrapper\n    status = _inner_run()\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/cli/base_command.py", line 96, in _inner_run\n    return self.run(options, args)\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/commands/uninstall.py", line 106, in run\n    uninstall_pathset = req.uninstall(\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/req/req_install.py", line 723, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/req/req_uninstall.py", line 364, in remove\n    if auto_confirm or self._allowed_to_proceed(verbose):\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/req/req_uninstall.py", line 404, in _allowed_to_proceed\n    return ask("Proceed (Y/n)? ", ("y", "n", "")) != "n"\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/utils/misc.py", line 229, in ask\n    response = input(message)\nEOFError: EOF when reading a line\n'
unit-test-xagn6dut-0: 18:45:11 ERROR unit.test-xagn6dut/0.juju-log Error getting the runner health: 
unit-test-xagn6dut-0: 18:46:21 ERROR unit.test-xagn6dut/0.juju-log Error getting the runner health: 
unit-test-xagn6dut-0: 18:48:31 ERROR unit.test-xagn6dut/0.juju-log Error getting the runner health: 
unit-test-xagn6dut-0: 18:52:41 ERROR unit.test-xagn6dut/0.juju-log Error getting the runner health: 
unit-test-xagn6dut-0: 19:00:51 ERROR unit.test-xagn6dut/0.juju-log Error getting the runner health: 
unit-test-xagn6dut-0: 19:00:52 ERROR unit.test-xagn6dut/0.juju-log Failed to spawn a runner.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-xagn6dut-0/charm/venv/github_runner_manager/manager/runner_manager.py", line 336, in _spawn_runners
    return (RunnerManager._create_runner(create_runner_args_sequence[0]),)
  File "/var/lib/juju/agents/unit-test-xagn6dut-0/charm/venv/github_runner_manager/manager/runner_manager.py", line 495, in _create_runner
    RunnerManager.wait_for_runner_online(
  File "/var/lib/juju/agents/unit-test-xagn6dut-0/charm/venv/github_runner_manager/manager/runner_manager.py", line 541, in wait_for_runner_online
    raise RunnerError(f"Runner {instance_id} did not get online")
github_runner_manager.errors.RunnerError: Runner test-xagn6dut-0-n-ae5254062825 did not get online
unit-test-xagn6dut-0: 19:02:15 ERROR unit.test-xagn6dut/0.juju-log Health check failed due to unable to find keyfile for test-xagn6dut-0-n-ae5254062825
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-xagn6dut-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 460, in _check_state_and_flush
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-xagn6dut-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-xagn6dut-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-xagn6dut-0-n-ae5254062825, key path: /home/runner-manager/.ssh/test-xagn6dut-0-n-ae5254062825.key

19:06:03 INFO Forgetting model main...