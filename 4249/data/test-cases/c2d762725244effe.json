{"uid":"c2d762725244effe","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1765045284682,"stop":1765045564086,"duration":279404},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1765045071799,"stop":1765045071799,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1765045071799,"stop":1765045071799,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1765045071799,"stop":1765045071799,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1765045071800,"stop":1765045072162,"duration":362},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1765045072162,"stop":1765045072169,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1765045072162,"stop":1765045072162,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1765045072169,"stop":1765045072169,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1765045072169,"stop":1765045271856,"duration":199687},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1765045072169,"stop":1765045072169,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1765045072169,"stop":1765045072169,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1765045072169,"stop":1765045072169,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1765045072169,"stop":1765045072169,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1765045072169,"stop":1765045072169,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1765045072169,"stop":1765045072169,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1765045072170,"stop":1765045072181,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1765045072170,"stop":1765045072170,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1765045072181,"stop":1765045074513,"duration":2332},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1765045074513,"stop":1765045074514,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1765045074514,"stop":1765045271856,"duration":197342},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1765045271856,"stop":1765045272080,"duration":224},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1765045272080,"stop":1765045272891,"duration":811},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1765045272891,"stop":1765045283474,"duration":10583},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1765045283474,"stop":1765045283481,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1765045283481,"stop":1765045284681,"duration":1200},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1765045284681,"stop":1765045284682,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1765045284682,"stop":1765045284682,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"4c32758bb5bbc69","name":"log","source":"4c32758bb5bbc69.txt","type":"text/plain","size":7699}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1765045564086,"stop":1765045564086,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1765045564087,"stop":1765045564379,"duration":292},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1765045564380,"stop":1765045564380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1765045564380,"stop":1765045564380,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1765045564381,"stop":1765045565092,"duration":711},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1765045565094,"stop":1765045565404,"duration":310},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1765045565404,"stop":1765045565404,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1765045565404,"stop":1765045565404,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1765045565405,"stop":1765045565405,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"10517-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"fd8a2cc1dbf0cbf","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":35,"broken":140,"skipped":0,"passed":200,"unknown":18,"total":393},"items":[{"uid":"4d6b8b2527ae0007","reportUrl":"../4235//#testresult/4d6b8b2527ae0007","status":"passed","time":{"start":1765002074092,"stop":1765002354617,"duration":280525}},{"uid":"8b45ec9dd5d0461","reportUrl":"../4232//#testresult/8b45ec9dd5d0461","status":"passed","time":{"start":1764958917013,"stop":1764959201895,"duration":284882}},{"uid":"b9cbe34deba9ddb6","reportUrl":"../4218//#testresult/b9cbe34deba9ddb6","status":"passed","time":{"start":1764915774798,"stop":1764916113817,"duration":339019}},{"uid":"34a384ab718cc7a1","reportUrl":"../4217//#testresult/34a384ab718cc7a1","status":"passed","time":{"start":1764872675220,"stop":1764872962353,"duration":287133}},{"uid":"a3d99c009b9ae1a8","reportUrl":"../4204//#testresult/a3d99c009b9ae1a8","status":"failed","statusDetails":"AssertionError: Please specify the --openstack-network-name command line option\nassert ''","time":{"start":1764829193298,"stop":1764829193298,"duration":0}},{"uid":"b2384e2f5fccf02","reportUrl":"../4203//#testresult/b2384e2f5fccf02","status":"failed","statusDetails":"AssertionError: Please specify the --openstack-network-name command line option\nassert ''","time":{"start":1764785949460,"stop":1764785949460,"duration":0}},{"uid":"3b0045b2bc8c663","reportUrl":"../4184//#testresult/3b0045b2bc8c663","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-hol9e1rz/0","time":{"start":1764743825003,"stop":1764743825003,"duration":0}},{"uid":"18631daac7cc97f","reportUrl":"../4171//#testresult/18631daac7cc97f","status":"passed","time":{"start":1764699746108,"stop":1764700028359,"duration":282251}},{"uid":"aa414f6aa5405bc1","reportUrl":"../4164//#testresult/aa414f6aa5405bc1","status":"passed","time":{"start":1764657457033,"stop":1764657947090,"duration":490057}},{"uid":"88b750e0fdc242e8","reportUrl":"../4157//#testresult/88b750e0fdc242e8","status":"passed","time":{"start":1764613730974,"stop":1764614022602,"duration":291628}},{"uid":"91db132e63aaad48","reportUrl":"../4146//#testresult/91db132e63aaad48","status":"failed","statusDetails":"AssertionError: Timeout waiting for runner to be ready","time":{"start":1764574544457,"stop":1764575422321,"duration":877864}},{"uid":"283a44118f00009c","reportUrl":"../4138//#testresult/283a44118f00009c","status":"passed","time":{"start":1764527916242,"stop":1764528296777,"duration":380535}},{"uid":"27c3c0e5a812ff10","reportUrl":"../4127//#testresult/27c3c0e5a812ff10","status":"passed","time":{"start":1764484480822,"stop":1764484761628,"duration":280806}},{"uid":"c8adf08b41c0870f","reportUrl":"../4126//#testresult/c8adf08b41c0870f","status":"passed","time":{"start":1764440886961,"stop":1764441166840,"duration":279879}},{"uid":"a11f8692ce6b89d4","reportUrl":"../4125//#testresult/a11f8692ce6b89d4","status":"passed","time":{"start":1764421222977,"stop":1764421504046,"duration":281069}},{"uid":"ff17bb9e447b540d","reportUrl":"../4099//#testresult/ff17bb9e447b540d","status":"passed","time":{"start":1764268062155,"stop":1764268412585,"duration":350430}},{"uid":"c154a73a86d7baa8","reportUrl":"../4066//#testresult/c154a73a86d7baa8","status":"passed","time":{"start":1764224973662,"stop":1764225324648,"duration":350986}},{"uid":"cde6574ae2661212","reportUrl":"../4042//#testresult/cde6574ae2661212","status":"failed","statusDetails":"AssertionError: Please specify the --path command line option with repository path of <org>/<repo> or <user>/<repo> format.\nassert None","time":{"start":1764181410048,"stop":1764181410048,"duration":0}},{"uid":"91d678fa850975b1","reportUrl":"../4034//#testresult/91d678fa850975b1","status":"failed","statusDetails":"AssertionError: Please specify the --path command line option with repository path of <org>/<repo> or <user>/<repo> format.\nassert None","time":{"start":1764138290130,"stop":1764138290130,"duration":0}},{"uid":"4a746d38f86f456","reportUrl":"../4030//#testresult/4a746d38f86f456","status":"failed","statusDetails":"AssertionError: Please specify the --path command line option with repository path of <org>/<repo> or <user>/<repo> format.\nassert None","time":{"start":1764100041167,"stop":1764100041167,"duration":0}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"c2d762725244effe.json","parameterValues":[]}