{"uid":"9a3f9314d716db6b","name":"test_charm_issues_metrics_for_failed_repo_policy","fullName":"tests.integration.test_charm_metrics_failure#test_charm_issues_metrics_for_failed_repo_policy","historyId":"3e462e3ac295b69113097bb9edb5fd51","time":{"start":1747723323457,"stop":1747723630962,"duration":307505},"description":"\n    arrange: A properly integrated charm with a runner registered on the fork repo.\n    act: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\n    assert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n        The Reconciliation metric has the post job status set to failure.\n    ","descriptionHtml":"<pre><code>arrange: A properly integrated charm with a runner registered on the fork repo.\nact: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\nassert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n    The Reconciliation metric has the post job status set to failure.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1747722265372,"stop":1747722265373,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1747722265373,"stop":1747722265885,"duration":512},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1747722265373,"stop":1747722265373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1747722265373,"stop":1747722265373,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1747722265885,"stop":1747722265885,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1747722265885,"stop":1747722265886,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1747722265886,"stop":1747722266249,"duration":363},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1747722266249,"stop":1747722266249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1747722266250,"stop":1747722266942,"duration":692},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1747722266942,"stop":1747722277763,"duration":10821},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1747722277763,"stop":1747722279726,"duration":1963},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1747722279726,"stop":1747722279726,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1747722279726,"stop":1747723280385,"duration":1000659},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1747722279727,"stop":1747722279727,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1747722279727,"stop":1747722279727,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1747722279727,"stop":1747722279727,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1747722279727,"stop":1747722279727,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1747722279727,"stop":1747722279727,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1747722279728,"stop":1747722279728,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1747722279728,"stop":1747722279728,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1747722279728,"stop":1747722279728,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1747722279728,"stop":1747722279728,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1747722279728,"stop":1747722279728,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1747722279729,"stop":1747722279729,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1747722279729,"stop":1747722279729,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1747722279729,"stop":1747722279729,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1747722279729,"stop":1747722279729,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1747722279729,"stop":1747722279729,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1747722279730,"stop":1747722279740,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1747722279740,"stop":1747722279763,"duration":23},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1747722279763,"stop":1747722282139,"duration":2376},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1747722282140,"stop":1747723280385,"duration":998245},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric","time":{"start":1747723280385,"stop":1747723280385,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1747723280385,"stop":1747723280385,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1747723280385,"stop":1747723323456,"duration":43071},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1747723323456,"stop":1747723323456,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A properly integrated charm with a runner registered on the fork repo.\n    act: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\n    assert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n        The Reconciliation metric has the post job status set to failure.\n    ","status":"passed","steps":[],"attachments":[{"uid":"deed958e1cfed141","name":"log","source":"deed958e1cfed141.txt","type":"text/plain","size":10295}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1747723630964,"stop":1747723630964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1747723630965,"stop":1747723630965,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric::finalizer","time":{"start":1747723981995,"stop":1747723981995,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1747723981996,"stop":1747723982096,"duration":100},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1747723982097,"stop":1747723982359,"duration":262},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1747723982364,"stop":1747723983688,"duration":1324},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1747723983691,"stop":1747723984082,"duration":391},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1747723984083,"stop":1747723984083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1747723984083,"stop":1747723984083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1747723984083,"stop":1747723984083,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_metrics_failure"},{"name":"host","value":"github-runner"},{"name":"thread","value":"11388-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_metrics_failure"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"8f0765edbcdf6482","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":11,"broken":43,"skipped":0,"passed":69,"unknown":6,"total":129},"items":[{"uid":"99ded575717bc45d","reportUrl":"../2717//#testresult/99ded575717bc45d","status":"passed","time":{"start":1747679899650,"stop":1747680192269,"duration":292619}},{"uid":"74c937c90446dfa5","reportUrl":"../2716//#testresult/74c937c90446dfa5","status":"passed","time":{"start":1747673890423,"stop":1747674182677,"duration":292254}},{"uid":"f2a25eb41158012b","reportUrl":"../2700//#testresult/f2a25eb41158012b","status":"passed","time":{"start":1747075266126,"stop":1747075707801,"duration":441675}},{"uid":"4b6e0eecc514395a","reportUrl":"../2696//#testresult/4b6e0eecc514395a","status":"passed","time":{"start":1747032067392,"stop":1747032335550,"duration":268158}},{"uid":"b29843a5acb38150","reportUrl":"../2694//#testresult/b29843a5acb38150","status":"passed","time":{"start":1746991739867,"stop":1746992026521,"duration":286654}},{"uid":"73edf1a352fbe0bc","reportUrl":"../2680//#testresult/73edf1a352fbe0bc","status":"passed","time":{"start":1746774137741,"stop":1746774400354,"duration":262613}},{"uid":"f535f54daba554e8","reportUrl":"../2674//#testresult/f535f54daba554e8","status":"passed","time":{"start":1746729951120,"stop":1746730216412,"duration":265292}},{"uid":"d96bc0bea99bed41","reportUrl":"../2666//#testresult/d96bc0bea99bed41","status":"passed","time":{"start":1746686428840,"stop":1746686780019,"duration":351179}},{"uid":"1277c1a3affbde8c","reportUrl":"../2663//#testresult/1277c1a3affbde8c","status":"passed","time":{"start":1746643215519,"stop":1746643508637,"duration":293118}},{"uid":"db2f8df687309ca9","reportUrl":"../2597//#testresult/db2f8df687309ca9","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflows#get-a-workflow\", \"status\": \"404\"}","time":{"start":1746384117668,"stop":1746385316236,"duration":1198568}},{"uid":"ee704edea9f9212e","reportUrl":"../2594//#testresult/ee704edea9f9212e","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflows#get-a-workflow\", \"status\": \"404\"}","time":{"start":1746254831515,"stop":1746256073122,"duration":1241607}},{"uid":"780a0708b2210d77","reportUrl":"../2592//#testresult/780a0708b2210d77","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflows#get-a-workflow\", \"status\": \"404\"}","time":{"start":1746211346014,"stop":1746212731009,"duration":1384995}},{"uid":"583b5d3f8758af0e","reportUrl":"../2573//#testresult/583b5d3f8758af0e","status":"passed","time":{"start":1746168526175,"stop":1746168899343,"duration":373168}},{"uid":"4f3b7bcbfa95aaf5","reportUrl":"../2572//#testresult/4f3b7bcbfa95aaf5","status":"passed","time":{"start":1746125021629,"stop":1746125429131,"duration":407502}},{"uid":"36d5eb0f2d05f170","reportUrl":"../2571//#testresult/36d5eb0f2d05f170","status":"passed","time":{"start":1746081950362,"stop":1746082394187,"duration":443825}},{"uid":"bae83fdf60be3b94","reportUrl":"../2570//#testresult/bae83fdf60be3b94","status":"passed","time":{"start":1746046348613,"stop":1746046790888,"duration":442275}},{"uid":"e04045c3d027a2c4","reportUrl":"../2549//#testresult/e04045c3d027a2c4","status":"unknown","time":{}},{"uid":"3b9a087e7591b333","reportUrl":"../2541//#testresult/3b9a087e7591b333","status":"passed","time":{"start":1745912831775,"stop":1745913168800,"duration":337025}},{"uid":"205d7d53f3fbc9c8","reportUrl":"../2530//#testresult/205d7d53f3fbc9c8","status":"passed","time":{"start":1745866587340,"stop":1745867015268,"duration":427928}},{"uid":"fdbc721968e824ec","reportUrl":"../2516//#testresult/fdbc721968e824ec","status":"passed","time":{"start":1745822779150,"stop":1745823114257,"duration":335107}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"9a3f9314d716db6b.json","parameterValues":[]}