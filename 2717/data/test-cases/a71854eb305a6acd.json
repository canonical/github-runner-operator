{"uid":"a71854eb305a6acd","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1747680064849,"stop":1747680365252,"duration":300403},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1747679138569,"stop":1747679138570,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1747679138570,"stop":1747679138570,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1747679138570,"stop":1747679139027,"duration":457},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1747679138570,"stop":1747679138570,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1747679139028,"stop":1747679139028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1747679139028,"stop":1747679139028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1747679139028,"stop":1747679139028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1747679139028,"stop":1747680050994,"duration":911966},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1747679139028,"stop":1747679139028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1747679139028,"stop":1747679139028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1747679139029,"stop":1747679139029,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1747679139029,"stop":1747679139029,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1747679139029,"stop":1747679139029,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1747679139029,"stop":1747679139029,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1747679139029,"stop":1747679139029,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1747679139029,"stop":1747679139029,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1747679139029,"stop":1747679139029,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1747679139029,"stop":1747679139029,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1747679139030,"stop":1747679139038,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1747679139030,"stop":1747679139030,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1747679139030,"stop":1747679139030,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1747679139030,"stop":1747679139030,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1747679139030,"stop":1747679139030,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1747679139030,"stop":1747679139030,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1747679139038,"stop":1747679139054,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1747679139055,"stop":1747679140918,"duration":1863},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1747679140918,"stop":1747680050993,"duration":910075},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1747680050994,"stop":1747680051367,"duration":373},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1747680051368,"stop":1747680052137,"duration":769},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1747680052137,"stop":1747680062973,"duration":10836},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1747680062973,"stop":1747680062992,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1747680062992,"stop":1747680064846,"duration":1854},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1747680064847,"stop":1747680064847,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1747680064847,"stop":1747680064848,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1747680064847,"stop":1747680064847,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"51dd40281f891236","name":"log","source":"51dd40281f891236.txt","type":"text/plain","size":10479}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1747680365253,"stop":1747680365253,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1747680365254,"stop":1747680365735,"duration":481},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1747680365737,"stop":1747680365806,"duration":69},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1747680365807,"stop":1747680366991,"duration":1184},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1747680366996,"stop":1747680367400,"duration":404},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1747680367401,"stop":1747680367401,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1747680367401,"stop":1747680367401,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1747680367401,"stop":1747680367401,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12248-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"2f7292b59c9fc5e9","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":12,"broken":38,"skipped":0,"passed":73,"unknown":7,"total":130},"items":[{"uid":"e6972b05c80aa852","reportUrl":"../2716//#testresult/e6972b05c80aa852","status":"passed","time":{"start":1747673860935,"stop":1747674083898,"duration":222963}},{"uid":"be8bfeefcc879d59","reportUrl":"../2700//#testresult/be8bfeefcc879d59","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflow-jobs#download-job-logs-for-a-workflow-run\", \"status\": \"404\"}","time":{"start":1747075171388,"stop":1747075651085,"duration":479697}},{"uid":"ee3cf794802eda72","reportUrl":"../2696//#testresult/ee3cf794802eda72","status":"passed","time":{"start":1747031879082,"stop":1747032091098,"duration":212016}},{"uid":"50da68c3a83a27c7","reportUrl":"../2694//#testresult/50da68c3a83a27c7","status":"passed","time":{"start":1746991150992,"stop":1746991398340,"duration":247348}},{"uid":"4b59ec051ff0e974","reportUrl":"../2680//#testresult/4b59ec051ff0e974","status":"passed","time":{"start":1746772785707,"stop":1746773020379,"duration":234672}},{"uid":"5cd3d139480b89ed","reportUrl":"../2674//#testresult/5cd3d139480b89ed","status":"passed","time":{"start":1746729649779,"stop":1746729880559,"duration":230780}},{"uid":"a67f663d01f4db77","reportUrl":"../2666//#testresult/a67f663d01f4db77","status":"passed","time":{"start":1746686545721,"stop":1746686868712,"duration":322991}},{"uid":"22b84a6d49f7cc0c","reportUrl":"../2663//#testresult/22b84a6d49f7cc0c","status":"passed","time":{"start":1746643197720,"stop":1746643415634,"duration":217914}},{"uid":"58c9c7f488ddac80","reportUrl":"../2597//#testresult/58c9c7f488ddac80","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflows#get-a-workflow\", \"status\": \"404\"}","time":{"start":1746383975546,"stop":1746385188623,"duration":1213077}},{"uid":"5d8681d86f75e8e7","reportUrl":"../2594//#testresult/5d8681d86f75e8e7","status":"failed","statusDetails":"AssertionError: In test-cctoj8hh/0 found more than one runners or no runners: []","time":{"start":1746254527278,"stop":1746255817867,"duration":1290589}},{"uid":"5f7ec30a10940564","reportUrl":"../2592//#testresult/5f7ec30a10940564","status":"passed","time":{"start":1746211294797,"stop":1746211601385,"duration":306588}},{"uid":"bf1a8e17c57618c6","reportUrl":"../2573//#testresult/bf1a8e17c57618c6","status":"passed","time":{"start":1746168505241,"stop":1746168866807,"duration":361566}},{"uid":"3162c33bcec784d3","reportUrl":"../2572//#testresult/3162c33bcec784d3","status":"failed","statusDetails":"AssertionError: No addresses to connect to for OpenStack server test-tfmc12rq-0-n-c81e77b21eff","time":{"start":1746124851747,"stop":1746125275638,"duration":423891}},{"uid":"5e6e98d2c8c1fce","reportUrl":"../2571//#testresult/5e6e98d2c8c1fce","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflows#get-a-workflow\", \"status\": \"404\"}","time":{"start":1746081642437,"stop":1746082860395,"duration":1217958}},{"uid":"32a5bb4c4394d95f","reportUrl":"../2570//#testresult/32a5bb4c4394d95f","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflows#get-a-workflow\", \"status\": \"404\"}","time":{"start":1746045565007,"stop":1746046766254,"duration":1201247}},{"uid":"ecb25d0115a9d40e","reportUrl":"../2549//#testresult/ecb25d0115a9d40e","status":"passed","time":{"start":1745952315039,"stop":1745952552328,"duration":237289}},{"uid":"41a4ddd51c7a6e38","reportUrl":"../2541//#testresult/41a4ddd51c7a6e38","status":"passed","time":{"start":1745912708387,"stop":1745912997768,"duration":289381}},{"uid":"ace3d84724e1d259","reportUrl":"../2530//#testresult/ace3d84724e1d259","status":"passed","time":{"start":1745866865368,"stop":1745867155927,"duration":290559}},{"uid":"920ece6351a6b8e9","reportUrl":"../2516//#testresult/920ece6351a6b8e9","status":"passed","time":{"start":1745822690198,"stop":1745822969403,"duration":279205}},{"uid":"1e5dc60e65ccd952","reportUrl":"../2511//#testresult/1e5dc60e65ccd952","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflows#get-a-workflow\", \"status\": \"404\"}","time":{"start":1745779367018,"stop":1745779847274,"duration":480256}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"a71854eb305a6acd.json","parameterValues":[]}