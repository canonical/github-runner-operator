06:53:49 INFO IP Address to use as the fake jobmanager: 10.145.216.128
06:53:49 WARNING unexpected facade SSHServer received from the controller
06:53:49 INFO Adding model github-pr-196a7-lxd:test-jobmanager-prespawned-lq0r on cloud localhost
06:53:49 WARNING unexpected facade SSHServer received from the controller
06:53:49 WARNING unexpected facade SSHSession received from the controller
06:53:49 WARNING unexpected facade SSHTunneler received from the controller
06:53:51 INFO Deploying ch:amd64/jammy/github-runner-image-builder-100
06:54:11 INFO Deploying local:jammy/github-runner-0
06:54:12 INFO Waiting for model:
  test-me6b3t0o/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-me6b3t0o/0 [allocating] waiting: waiting for machine
06:54:42 INFO Waiting for model:
  test-me6b3t0o/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-me6b3t0o/0 [allocating] waiting: waiting for machine
06:55:12 INFO Waiting for model:
  test-me6b3t0o/0 [allocating] waiting: agent initialising
  github-runner-image-builder-me6b3t0o/0 [executing] maintenance: installing charm software
06:55:42 INFO Waiting for model:
  test-me6b3t0o/0 [executing] maintenance: installing charm software
  github-runner-image-builder-me6b3t0o/0 [executing] maintenance: Setting up Builder.
06:56:13 INFO Waiting for model:
  test-me6b3t0o/0 [executing] maintenance: installing charm software
  github-runner-image-builder-me6b3t0o/0 [executing] maintenance: Setting up Builder.
06:56:43 INFO Waiting for model:
  test-me6b3t0o/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-me6b3t0o/0 [executing] maintenance: Setting up Builder.
06:57:13 INFO Waiting for model:
  test-me6b3t0o/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-me6b3t0o/0 [executing] maintenance: Setting up Builder.
06:57:43 INFO Waiting for model:
  test-me6b3t0o/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-me6b3t0o/0 [executing] maintenance: Setting up Builder.
06:58:13 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
06:58:43 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
06:59:13 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
06:59:43 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:00:13 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:00:44 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:01:14 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:01:44 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:02:14 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:02:44 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:03:14 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:03:44 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:04:15 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:04:45 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:05:15 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:05:45 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:06:15 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:06:46 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:07:16 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:07:46 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:08:16 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:08:47 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:09:17 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:09:47 INFO Waiting for model:
  test-me6b3t0o/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-me6b3t0o/0 [executing] active: Building image.
07:10:17 INFO Waiting for model:
  test-me6b3t0o/0 [executing] maintenance: Update image for runners
  github-runner-image-builder-me6b3t0o/0 [idle] active: 
07:10:48 INFO Waiting for model:
  test-me6b3t0o/0 [idle] active: 
07:10:49 INFO Waiting for model:
  test-me6b3t0o/0 [idle] active: 
07:11:04 INFO Waiting for model:
  test-me6b3t0o/0 [idle] active: 
07:11:34 INFO Waiting for model:
  test-me6b3t0o/0 [idle] active: 
07:11:44 INFO Current reconcile ID: 58c7e636-6842-475a-a215-51495e3da4ec
07:12:45 INFO Current reconcile ID: 58c7e636-6842-475a-a215-51495e3da4ec
07:13:46 INFO Current reconcile ID: 5a90e9b5-75fc-4d8a-a478-ece7903972ea
07:13:46 INFO Waiting for runner to be registered.
07:13:53 INFO 10.73.96.38 - - [09/Aug/2025 07:13:53] "POST /v1/runners/register HTTP/1.1" 200 -
07:13:53 INFO server log: [(<Request 'http://10.145.216.128:8000/v1/runners/register' [POST]>, <Response 40 bytes [200 OK]>)] 
07:13:53 INFO handler health <RequestHandler uri='/v1/runners/1234/health' method='GET' query_string=None headers={'Authorization': 'Bearer 11e315cad2fe14d1'} data=None json=<UNDEFINED>>
07:13:53 INFO trying to prepare tunnel for builder agent
07:13:54 INFO no runner or two or more runners in unit, return False
07:13:54 INFO Wait for condition not met, sleeping 10
07:13:57 INFO 10.73.96.38 - - [09/Aug/2025 07:13:57] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:14:04 INFO trying to prepare tunnel for builder agent
07:14:06 INFO no addresses yet, return False
07:14:06 INFO Wait for condition not met, sleeping 10
07:14:16 INFO trying to prepare tunnel for builder agent
07:14:17 INFO no addresses yet, return False
07:14:17 INFO Wait for condition not met, sleeping 10
07:14:27 INFO trying to prepare tunnel for builder agent
07:14:28 INFO no addresses yet, return False
07:14:28 INFO Wait for condition not met, sleeping 10
07:14:38 INFO trying to prepare tunnel for builder agent
07:14:39 INFO no addresses yet, return False
07:14:39 INFO Wait for condition not met, sleeping 10
07:14:49 INFO trying to prepare tunnel for builder agent
07:14:50 INFO no addresses yet, return False
07:14:50 INFO Wait for condition not met, sleeping 10
07:15:00 INFO trying to prepare tunnel for builder agent
07:15:04 INFO [TEST SETUP] Run command 'echo hello' on test-me6b3t0o-0-n-9744376daa95
07:15:04 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.31', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:f6:bc:97'}]])
07:15:05 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-me6b3t0o-0-n-9744376daa95.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.31 'echo hello''
07:15:08 INFO Run command ''echo hello'' in runner with result 0: 'hello
' 'Warning: Permanently added '10.145.193.31' (ED25519) to the list of known hosts.
'
07:15:59 INFO 10.73.96.38 - - [09/Aug/2025 07:15:59] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:16:02 INFO 10.73.96.38 - - [09/Aug/2025 07:16:02] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:16:04 INFO 10.73.96.38 - - [09/Aug/2025 07:16:04] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:16:09 INFO [TEST SETUP] Run command sudo iptables -t nat -A OUTPUT -p tcp -d 10.145.216.128 --dport 8000 -j DNAT --to-destination 127.0.0.1:8000 on test-me6b3t0o-0-n-9744376daa95
07:16:09 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.31', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:f6:bc:97'}]])
07:16:10 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-me6b3t0o-0-n-9744376daa95.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.31 sudo iptables -t nat -A OUTPUT -p tcp -d 10.145.216.128 --dport 8000 -j DNAT --to-destination 127.0.0.1:8000'
07:16:11 INFO Run command 'sudo iptables -t nat -A OUTPUT -p tcp -d 10.145.216.128 --dport 8000 -j DNAT --to-destination 127.0.0.1:8000' in runner with result 0: 'None' 'None'
07:16:12 INFO [TEST SETUP] Exposing port 8000 on test-me6b3t0o-0-n-9744376daa95
07:16:12 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.31', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:f6:bc:97'}]])
07:16:13 INFO ssh tunnel command ssh -fNT -R 8000:10.145.216.128:8000 -i /home/runner-manager/.ssh/test-me6b3t0o-0-n-9744376daa95.key -o "StrictHostKeyChecking no" -o "ControlPersist yes" ubuntu@10.145.193.31 &
07:16:14 INFO ssh tunnel result 0 None None
07:16:16 INFO [TEST SETUP] Run command nc -z localhost 8000 on test-me6b3t0o-0-n-9744376daa95
07:16:16 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.31', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:f6:bc:97'}]])
07:16:17 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-me6b3t0o-0-n-9744376daa95.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.31 nc -z localhost 8000'
07:16:17 INFO 10.73.96.38 - - [09/Aug/2025 07:16:17] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:16:18 INFO Run command 'nc -z localhost 8000' in runner with result 0: 'None' 'Connection to localhost (127.0.0.1) 8000 port [tcp/*] succeeded!
'
07:16:18 INFO prepared tunnel for builder agent
07:16:18 INFO Waiting for builder-agent to contact us.
07:16:22 INFO 10.73.96.38 - - [09/Aug/2025 07:16:22] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:16:22 INFO server log after executing: [(<Request 'http://10.145.216.128:8000/v1/runners/register' [POST]>, <Response 40 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>)] 
07:16:22 INFO handler health <RequestHandler uri='/v1/runners/1234/health' method='GET' query_string=None headers={'Authorization': 'Bearer 11e315cad2fe14d1'} data=None json=<UNDEFINED>>
07:16:23 INFO [TEST SETUP] Run command 'curl http://127.0.0.1:8080/execute -X POST --header "Content-Type: application/json" --data "{\"commands\":[\"sleep 30\"]}"' on test-me6b3t0o-0-n-9744376daa95
07:16:23 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.31', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:f6:bc:97'}]])
07:16:24 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-me6b3t0o-0-n-9744376daa95.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.31 'curl http://127.0.0.1:8080/execute -X POST --header "Content-Type: application/json" --data "{\"commands\":[\"sleep 30\"]}"''
07:16:25 INFO Run command ''curl http://127.0.0.1:8080/execute -X POST --header "Content-Type: application/json" --data "{\"commands\":[\"sleep 30\"]}"'' in runner with result 0: 'Execution started' '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100    42  100    17  100    25  10739  15792 --:--:-- --:--:-- --:--:-- 42000
'
07:16:25 INFO Waiting for builder-agent to contact us.
07:16:27 INFO 10.73.96.38 - - [09/Aug/2025 07:16:27] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:16:32 INFO 10.73.96.38 - - [09/Aug/2025 07:16:32] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:16:37 INFO 10.73.96.38 - - [09/Aug/2025 07:16:37] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:16:42 INFO 10.73.96.38 - - [09/Aug/2025 07:16:42] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:16:47 INFO 10.73.96.38 - - [09/Aug/2025 07:16:47] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:16:52 INFO 10.73.96.38 - - [09/Aug/2025 07:16:52] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:16:57 INFO 10.73.96.38 - - [09/Aug/2025 07:16:57] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:16:57 INFO server log after executing: [(<Request 'http://10.145.216.128:8000/v1/runners/register' [POST]>, <Response 40 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.128:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>)] 
07:16:57 INFO First reconcile that should not delete the runner, as it is still healthy.
07:16:57 INFO Waiting for model:
  test-me6b3t0o/0 [idle] active: 
07:17:02 INFO 10.73.96.38 - - [09/Aug/2025 07:17:02] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:17:02 INFO 10.73.96.38 - - [09/Aug/2025 07:17:02] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:17:07 INFO 10.73.96.38 - - [09/Aug/2025 07:17:07] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:17:07 INFO 10.73.96.38 - - [09/Aug/2025 07:17:07] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:17:09 INFO 10.73.96.38 - - [09/Aug/2025 07:17:09] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:17:12 INFO 10.73.96.38 - - [09/Aug/2025 07:17:12] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:17:17 INFO 10.73.96.38 - - [09/Aug/2025 07:17:17] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:17:22 INFO 10.73.96.38 - - [09/Aug/2025 07:17:22] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:17:27 INFO 10.73.96.38 - - [09/Aug/2025 07:17:27] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:17:27 INFO Waiting for model:
  test-me6b3t0o/0 [idle] active: 
07:17:30 INFO Current reconcile ID: 1032c95d-4f0d-47f4-962b-c51a165ca60c
07:17:32 INFO 10.73.96.38 - - [09/Aug/2025 07:17:32] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:17:37 INFO 10.73.96.38 - - [09/Aug/2025 07:17:37] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:17:42 INFO 10.73.96.38 - - [09/Aug/2025 07:17:42] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:17:47 INFO 10.73.96.38 - - [09/Aug/2025 07:17:47] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:17:52 INFO 10.73.96.38 - - [09/Aug/2025 07:17:52] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:17:57 INFO 10.73.96.38 - - [09/Aug/2025 07:17:57] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:02 INFO 10.73.96.38 - - [09/Aug/2025 07:18:02] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:07 INFO 10.73.96.38 - - [09/Aug/2025 07:18:07] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:12 INFO 10.73.96.38 - - [09/Aug/2025 07:18:12] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:17 INFO 10.73.96.38 - - [09/Aug/2025 07:18:17] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:22 INFO 10.73.96.38 - - [09/Aug/2025 07:18:22] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:27 INFO 10.73.96.38 - - [09/Aug/2025 07:18:27] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:32 INFO Current reconcile ID: 1032c95d-4f0d-47f4-962b-c51a165ca60c
07:18:32 INFO 10.73.96.38 - - [09/Aug/2025 07:18:32] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:37 INFO 10.73.96.38 - - [09/Aug/2025 07:18:37] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:42 INFO 10.73.96.38 - - [09/Aug/2025 07:18:42] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:47 INFO 10.73.96.38 - - [09/Aug/2025 07:18:47] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:52 INFO 10.73.96.38 - - [09/Aug/2025 07:18:52] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:18:57 INFO 10.73.96.38 - - [09/Aug/2025 07:18:57] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:02 INFO 10.73.96.38 - - [09/Aug/2025 07:19:02] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:07 INFO 10.73.96.38 - - [09/Aug/2025 07:19:07] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:12 INFO 10.73.96.38 - - [09/Aug/2025 07:19:12] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:17 INFO 10.73.96.38 - - [09/Aug/2025 07:19:17] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:22 INFO 10.73.96.38 - - [09/Aug/2025 07:19:22] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:27 INFO 10.73.96.38 - - [09/Aug/2025 07:19:27] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:32 INFO 10.73.96.38 - - [09/Aug/2025 07:19:32] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:33 INFO Current reconcile ID: 1032c95d-4f0d-47f4-962b-c51a165ca60c
07:19:37 INFO 10.73.96.38 - - [09/Aug/2025 07:19:37] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:42 INFO 10.73.96.38 - - [09/Aug/2025 07:19:42] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:47 INFO 10.73.96.38 - - [09/Aug/2025 07:19:47] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:52 INFO 10.73.96.38 - - [09/Aug/2025 07:19:52] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:19:57 INFO 10.73.96.38 - - [09/Aug/2025 07:19:57] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:20:02 INFO 10.73.96.38 - - [09/Aug/2025 07:20:02] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:20:07 INFO 10.73.96.38 - - [09/Aug/2025 07:20:07] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:20:11 INFO 10.73.96.38 - - [09/Aug/2025 07:20:11] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:20:12 INFO 10.73.96.38 - - [09/Aug/2025 07:20:12] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:20:15 INFO 10.73.96.38 - - [09/Aug/2025 07:20:15] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:20:17 INFO 10.73.96.38 - - [09/Aug/2025 07:20:17] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:20:17 INFO 10.73.96.38 - - [09/Aug/2025 07:20:17] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:20:23 INFO 10.73.96.38 - - [09/Aug/2025 07:20:23] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:20:28 INFO 10.73.96.38 - - [09/Aug/2025 07:20:28] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:20:33 INFO 10.73.96.38 - - [09/Aug/2025 07:20:33] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:20:34 INFO Current reconcile ID: 4c630739-a2ff-45dc-9da9-d9583d133d2c
07:20:36 INFO 10.73.96.38 - - [09/Aug/2025 07:20:36] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:20:38 INFO 10.73.96.38 - - [09/Aug/2025 07:20:38] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:20:40 INFO 10.73.96.38 - - [09/Aug/2025 07:20:40] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:20:42 INFO check-runners: {'busy': '1', 'busy-runners': "('test-me6b3t0o-0-n-9744376daa95',)", 'offline': '0', 'online': '1', 'return-code': 0, 'runners': "('test-me6b3t0o-0-n-9744376daa95',)", 'unknown': '0'}
07:20:42 INFO handler health <RequestHandler uri='/v1/runners/1234/health' method='GET' query_string=None headers={'Authorization': 'Bearer 11e315cad2fe14d1'} data=None json=<UNDEFINED>>
07:20:42 INFO Waiting for model:
  test-me6b3t0o/0 [idle] active: 
07:20:43 INFO 10.73.96.38 - - [09/Aug/2025 07:20:43] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:20:46 INFO 10.73.96.38 - - [09/Aug/2025 07:20:46] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:20:48 INFO 10.73.96.38 - - [09/Aug/2025 07:20:48] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:20:52 INFO 10.73.96.38 - - [09/Aug/2025 07:20:52] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:21:12 INFO Waiting for model:
  test-me6b3t0o/0 [idle] active: 
07:21:15 INFO Current reconcile ID: 7d960349-e91b-4fbc-a08d-f940e9ed6318
07:22:16 INFO Current reconcile ID: 7d960349-e91b-4fbc-a08d-f940e9ed6318
07:23:17 INFO Current reconcile ID: 7d960349-e91b-4fbc-a08d-f940e9ed6318
07:24:18 INFO Current reconcile ID: 7d960349-e91b-4fbc-a08d-f940e9ed6318
07:24:59 INFO 10.73.96.38 - - [09/Aug/2025 07:24:59] "[35m[1mPOST /v1/runners/register HTTP/1.1[0m" 500 -
07:25:19 INFO Current reconcile ID: edfdc996-1ce4-4e0f-8044-a2bdb14bacca
07:25:23 INFO check-runners: {'busy': '0', 'busy-runners': '()', 'offline': '0', 'online': '0', 'return-code': 0, 'runners': '()', 'unknown': '0'}
07:25:23 INFO Waiting for model:
  test-me6b3t0o/0 [idle] active: 
07:25:54 INFO Waiting for model:
  test-me6b3t0o/0 [idle] active: 
07:25:57 INFO Current reconcile ID: df629913-7340-41ee-963d-5439b4f9d8bc
07:26:58 INFO Current reconcile ID: df629913-7340-41ee-963d-5439b4f9d8bc
07:27:59 INFO Current reconcile ID: f3d72cfb-8a97-4459-a95d-eae9ad7014c1
07:27:59 INFO Model status:

Model                            Controller           Cloud/Region         Version  SLA          Timestamp
test-jobmanager-prespawned-lq0r  github-pr-196a7-lxd  localhost/localhost  3.6.8    unsupported  07:27:59Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-me6b3t0o           active      1  github-runner-image-builder  latest/edge  100  no       
test-me6b3t0o                                  active      1  github-runner                               0  no       

Unit                                     Workload  Agent  Machine  Public address  Ports  Message
github-runner-image-builder-me6b3t0o/0*  active    idle   0        10.73.96.124           
test-me6b3t0o/0*                         active    idle   1        10.73.96.38            

Machine  State    Address       Inst id        Base          AZ  Message
0        started  10.73.96.124  juju-d485dc-0  ubuntu@22.04      Running
1        started  10.73.96.38   juju-d485dc-1  ubuntu@22.04      Running

07:28:00 INFO Juju error logs:

machine-0: 06:55:01 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 06:55:01 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-me6b3t0o-0: 06:55:01 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 06:55:08 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 06:55:08 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-test-me6b3t0o-0: 06:55:08 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-github-runner-image-builder-me6b3t0o-0: 06:55:44 ERROR unit.github-runner-image-builder-me6b3t0o/0.juju-log Pipx command failed, code: 1, out: None, err: None
unit-test-me6b3t0o-0: 06:56:22 ERROR unit.test-me6b3t0o/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-me6b3t0o-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-me6b3t0o-0/charm/./src/charm.py", line 342, in _on_config_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-me6b3t0o-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-me6b3t0o-0: 06:56:25 ERROR unit.test-me6b3t0o/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-me6b3t0o-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-me6b3t0o-0/charm/./src/charm.py", line 313, in _on_start
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-me6b3t0o-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-me6b3t0o-0: 06:57:58 ERROR unit.test-me6b3t0o/0.juju-log image:0: Missing image in image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-me6b3t0o-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-me6b3t0o-0/charm/./src/charm.py", line 477, in _on_image_relation_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-me6b3t0o-0/charm/./src/charm.py", line 514, in _check_image_ready
    raise ImageNotFoundError("No image found in the image integration")
errors.ImageNotFoundError: No image found in the image integration

07:28:00 INFO Forgetting model main...