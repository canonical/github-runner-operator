{"uid":"a3e558e67f532428","name":"test_ssh_debug","fullName":"tests.integration.test_debug_ssh#test_ssh_debug","historyId":"4f16d0ceae44b92b8c4e82e7e2774aa1","time":{"start":1756752296740,"stop":1756752872839,"duration":576099},"description":"\n    arrange: given an integrated GitHub-Runner charm and tmate-ssh-server charm.\n    act: when canonical/action-tmate is triggered.\n    assert: the ssh connection info from action-log and tmate-ssh-server matches.\n    ","descriptionHtml":"<pre><code>arrange: given an integrated GitHub-Runner charm and tmate-ssh-server charm.\nact: when canonical/action-tmate is triggered.\nassert: the ssh connection info from action-log and tmate-ssh-server matches.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1756751078972,"stop":1756751078973,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1756751078973,"stop":1756751078973,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1756751078974,"stop":1756751078974,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1756751078974,"stop":1756751079566,"duration":592},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1756751079566,"stop":1756751079566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1756751079566,"stop":1756751079566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1756751079566,"stop":1756751079575,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1756751079566,"stop":1756751079566,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1756751079576,"stop":1756751079577,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1756751079576,"stop":1756751079576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1756751079576,"stop":1756751079576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1756751079576,"stop":1756751079576,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1756751079577,"stop":1756751079577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1756751079577,"stop":1756751079577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1756751079577,"stop":1756751079577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1756751079577,"stop":1756751079577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1756751079577,"stop":1756751079577,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1756751079578,"stop":1756751079578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1756751079578,"stop":1756751079578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1756751079578,"stop":1756751079578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1756751079578,"stop":1756751079578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1756751079578,"stop":1756751079578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1756751079578,"stop":1756751079578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1756751079579,"stop":1756751079593,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1756751079579,"stop":1756751079579,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1756751079579,"stop":1756751079579,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1756751079593,"stop":1756751079618,"duration":25},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1756751079618,"stop":1756751081429,"duration":1811},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1756751081429,"stop":1756752184495,"duration":1103066},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_no_wait_tmate","time":{"start":1756752184496,"stop":1756752184504,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1756752184504,"stop":1756752184922,"duration":418},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1756752184922,"stop":1756752185766,"duration":844},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1756752185767,"stop":1756752188156,"duration":2389},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmate_ssh_server_app","time":{"start":1756752188156,"stop":1756752296710,"duration":108554},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmate_ssh_server_unit_ip","time":{"start":1756752296710,"stop":1756752296739,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1756752296739,"stop":1756752296739,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1756752296739,"stop":1756752296739,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: given an integrated GitHub-Runner charm and tmate-ssh-server charm.\n    act: when canonical/action-tmate is triggered.\n    assert: the ssh connection info from action-log and tmate-ssh-server matches.\n    ","status":"passed","steps":[],"attachments":[{"uid":"5322362f9accee6f","name":"log","source":"5322362f9accee6f.txt","type":"text/plain","size":35585}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1756752872840,"stop":1756752872840,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1756752872841,"stop":1756752873480,"duration":639},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1756752873482,"stop":1756752873482,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1756752873483,"stop":1756752873666,"duration":183},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1756752873667,"stop":1756752874553,"duration":886},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1756752874559,"stop":1756752875087,"duration":528},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1756752875088,"stop":1756752875088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1756752875088,"stop":1756752875088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1756752875088,"stop":1756752875088,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_debug_ssh"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12198-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_debug_ssh"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"facc64371a8c3eb5","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":32,"broken":44,"skipped":0,"passed":144,"unknown":16,"total":236},"items":[{"uid":"2daf478aae5258c0","reportUrl":"../3515//#testresult/2daf478aae5258c0","status":"passed","time":{"start":1756710743643,"stop":1756711255278,"duration":511635}},{"uid":"c1c32b6fc8867be2","reportUrl":"../3512//#testresult/c1c32b6fc8867be2","status":"failed","statusDetails":"AssertionError: Tmate ssh server IP not found in action logs.\nassert '10.61.207.169' in \"\\ufeff2025-08-31T18:50:52.8664108Z Current runner version: '2.328.0'\\n2025-08-31T18:50:52.8670762Z Runner name: 'test-w5m37jo3-0-n-9f83b3b8cb47'\\n2025-08-31T18:50:52.8671632Z Runner group name: 'Default'\\n2025-08-31T18:50:52.8672808Z Machine name: 'github-runner'\\n2025-08-31T18:50:52.8684740Z ##[group]GITHUB_TOKEN Permissions\\n2025-08-31T18:50:52.8688398Z Actions: write\\n2025-08-31T18:50:52.8689516Z Attestations: write\\n2025-08-31T18:50:52.8690473Z Checks: write\\n2025-08-31T18:50:52.8691214Z Contents: write\\n2025-08-31T18:50:52.8691982Z Deployments: write\\n2025-08-31T18:50:52.8692837Z Discussions: write\\n2025-08-31T18:50:52.8693436Z Issues: write\\n2025-08-31T18:50:52.8694570Z Metadata: read\\n2025-08-31T18:50:52.8695558Z Models: read\\n2025-08-31T18:50:52.8696330Z Packages: write\\n2025-08-31T18:50:52.8697116Z Pages: write\\n2025-08-31T18:50:52.8697887Z PullRequests: write\\n2025-08-31T18:50:52.8698740Z RepositoryProjects: write\\n2025-08-31T18:50:52.8699763Z SecurityEvents: write\\n2025-08-31T18:50:52.8700639Z Statuses: write\\n2025-08-31T18:50:52.8701831Z ##[endgroup]\\n2025-08-31T18:50:52.8705466Z Secret source: Actions\\n2025-08-31T18:50:52.8706446Z Prepare workflow directory\\n2025-08...ependency tree...\\n2025-08-31T18:51:04.4628860Z Reading state information...\\n2025-08-31T18:51:04.6965838Z openssh-client is already the newest version (1:9.6p1-3ubuntu13.13).\\n2025-08-31T18:51:04.6966872Z xz-utils is already the newest version (5.6.1+really5.4.5-1ubuntu0.2).\\n2025-08-31T18:51:04.6967492Z 0 upgraded, 0 newly installed, 0 to remove and 15 not upgraded.\\n2025-08-31T18:51:04.7400076Z Reading package lists...\\n2025-08-31T18:51:04.9397136Z Building dependency tree...\\n2025-08-31T18:51:04.9402475Z Reading state information...\\n2025-08-31T18:51:05.1485762Z tmate is already the newest version (2.4.0-2build3).\\n2025-08-31T18:51:05.1489811Z 0 upgraded, 0 newly installed, 0 to remove and 15 not upgraded.\\n2025-08-31T18:51:05.1645684Z Failed to enable unit: Unit file tmate-proxy.service does not exist.\\n2025-08-31T18:51:05.1666057Z tmate-proxy not enabled\\n2025-08-31T18:51:05.9061922Z /home/ubuntu/.ssh/id_rsa already exists.\\n2025-08-31T18:51:05.9095369Z Overwrite (y/n)? ::debug::Generated SSH-Key successfully\\n2025-08-31T18:51:06.4439264Z ##[error]Error: Invalid value for 'tmate-server-host(TMATE_SERVER_HOST)': ''\\n2025-08-31T18:51:06.5534550Z Cleaning up orphan processes\\n\"","time":{"start":1756666066327,"stop":1756666324349,"duration":258022}},{"uid":"d45a1cf9a00252ca","reportUrl":"../3511//#testresult/d45a1cf9a00252ca","status":"passed","time":{"start":1756622618721,"stop":1756623159827,"duration":541106}},{"uid":"dc97e3cbc90aeffb","reportUrl":"../3510//#testresult/dc97e3cbc90aeffb","status":"passed","time":{"start":1756579492835,"stop":1756579998853,"duration":506018}},{"uid":"60a7e99c8b7bd113","reportUrl":"../3509//#testresult/60a7e99c8b7bd113","status":"passed","time":{"start":1756536270404,"stop":1756536776738,"duration":506334}},{"uid":"d23825c873cbbec5","reportUrl":"../3508//#testresult/d23825c873cbbec5","status":"passed","time":{"start":1756493415892,"stop":1756493926217,"duration":510325}},{"uid":"a4bb9c7947479ee8","reportUrl":"../3504//#testresult/a4bb9c7947479ee8","status":"passed","time":{"start":1756407145833,"stop":1756407659824,"duration":513991}},{"uid":"4c72bc0ac2e9c1f1","reportUrl":"../3502//#testresult/4c72bc0ac2e9c1f1","status":"passed","time":{"start":1756363669465,"stop":1756364175758,"duration":506293}},{"uid":"d946bdc99dbfd8ac","reportUrl":"../3501//#testresult/d946bdc99dbfd8ac","status":"passed","time":{"start":1756320163924,"stop":1756320671997,"duration":508073}},{"uid":"49d3ac69538de00d","reportUrl":"../3488//#testresult/49d3ac69538de00d","status":"passed","time":{"start":1756277073070,"stop":1756277580381,"duration":507311}},{"uid":"ecbaa33edc1150c3","reportUrl":"../3480//#testresult/ecbaa33edc1150c3","status":"passed","time":{"start":1756234377033,"stop":1756234898080,"duration":521047}},{"uid":"dfb8876798590a07","reportUrl":"../3468//#testresult/dfb8876798590a07","status":"passed","time":{"start":1756190770220,"stop":1756191280607,"duration":510387}},{"uid":"5b72982d831b796f","reportUrl":"../3463//#testresult/5b72982d831b796f","status":"passed","time":{"start":1756147269741,"stop":1756147788254,"duration":518513}},{"uid":"56ea4fd1d6d1eb08","reportUrl":"../3451//#testresult/56ea4fd1d6d1eb08","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-zkshg24s/0 [idle] waiting: Waiting for image over integration.\n  github-runner-image-builder-zkshg24s/0 [executing] active: Building image.","time":{"start":1756103179731,"stop":1756103179731,"duration":0}},{"uid":"11cf61a5899f6abc","reportUrl":"../3448//#testresult/11cf61a5899f6abc","status":"passed","time":{"start":1756060889219,"stop":1756061403928,"duration":514709}},{"uid":"65072f2d4066824","reportUrl":"../3447//#testresult/65072f2d4066824","status":"passed","time":{"start":1756017835505,"stop":1756018460600,"duration":625095}},{"uid":"3f631e1bb22569d2","reportUrl":"../3446//#testresult/3f631e1bb22569d2","status":"passed","time":{"start":1755974560045,"stop":1755975078451,"duration":518406}},{"uid":"2752c0c6f9aa35f9","reportUrl":"../3445//#testresult/2752c0c6f9aa35f9","status":"passed","time":{"start":1755933006722,"stop":1755933523564,"duration":516842}},{"uid":"efe5f752fc7e4bc8","reportUrl":"../3444//#testresult/efe5f752fc7e4bc8","status":"passed","time":{"start":1755888308113,"stop":1755888826006,"duration":517893}},{"uid":"861bc9bd38ba9304","reportUrl":"../3437//#testresult/861bc9bd38ba9304","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-d10fln92/0","time":{"start":1755843904863,"stop":1755843904863,"duration":0}}]},"tags":["asyncio","openstack"]},"source":"a3e558e67f532428.json","parameterValues":[]}