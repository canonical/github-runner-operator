18:51:10 INFO IP Address to use as the fake jobmanager: 10.145.216.87
18:51:10 WARNING unexpected facade SSHServer received from the controller
18:51:10 INFO Adding model github-pr-77d1e-lxd:test-jobmanager-prespawned-4gt4 on cloud localhost
18:51:11 WARNING unexpected facade SSHServer received from the controller
18:51:11 WARNING unexpected facade SSHSession received from the controller
18:51:11 WARNING unexpected facade SSHTunneler received from the controller
18:51:12 INFO Deploying ch:amd64/jammy/github-runner-image-builder-110
18:51:30 INFO Deploying local:jammy/github-runner-0
18:51:31 INFO Waiting for model:
  test-j0pdew0n/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-j0pdew0n/0 [allocating] waiting: waiting for machine
18:52:01 INFO Waiting for model:
  test-j0pdew0n/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-j0pdew0n/0 [allocating] waiting: waiting for machine
18:52:31 INFO Waiting for model:
  test-j0pdew0n/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-j0pdew0n/0 [allocating] waiting: waiting for machine
18:53:02 INFO Waiting for model:
  test-j0pdew0n/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-j0pdew0n/0 [executing] maintenance: Setting up Builder.
18:53:32 INFO Waiting for model:
  test-j0pdew0n/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-j0pdew0n/0 [executing] maintenance: Setting up Builder.
18:54:02 INFO Waiting for model:
  test-j0pdew0n/0 [allocating] waiting: agent initialising
  github-runner-image-builder-j0pdew0n/0 [executing] maintenance: Setting up Builder.
18:54:33 INFO Waiting for model:
  test-j0pdew0n/0 [executing] maintenance: installing charm software
  github-runner-image-builder-j0pdew0n/0 [executing] maintenance: Setting up Builder.
18:55:03 INFO Waiting for model:
  test-j0pdew0n/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-j0pdew0n/0 [executing] maintenance: Setting up Builder.
18:55:33 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
18:56:03 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
18:56:34 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
18:57:04 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
18:57:34 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
18:58:05 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
18:58:35 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
18:59:06 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
18:59:36 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:00:06 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:00:36 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:01:07 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:01:37 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:02:07 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:02:37 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:03:08 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:03:38 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:04:09 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:04:39 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:05:09 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:05:39 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:06:10 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:06:40 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:07:10 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:07:41 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:08:11 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:08:41 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:09:12 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:09:42 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:10:12 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:10:43 INFO Waiting for model:
  test-j0pdew0n/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-j0pdew0n/0 [executing] active: Building image.
19:11:13 INFO Waiting for model:
  test-j0pdew0n/0 [idle] active: 
19:11:27 INFO Waiting for model:
  test-j0pdew0n/0 [idle] active: 
19:11:42 INFO Waiting for model:
  test-j0pdew0n/0 [idle] active: 
19:12:12 INFO Waiting for model:
  test-j0pdew0n/0 [idle] active: 
19:12:19 INFO Current reconcile ID: 53816590-0812-4b29-98a9-3b6ec6981da5
19:12:19 INFO Waiting for reconcile ID: 53816590-0812-4b29-98a9-3b6ec6981da5
19:13:20 INFO Current reconcile ID: 53816590-0812-4b29-98a9-3b6ec6981da5
19:13:20 INFO Current reconcile ID: 53816590-0812-4b29-98a9-3b6ec6981da5, expected reconcile ID: 53816590-0812-4b29-98a9-3b6ec6981da5
19:13:20 INFO Waiting for reconcile ID: 53816590-0812-4b29-98a9-3b6ec6981da5
19:14:22 INFO Current reconcile ID: 372d9c2d-e96f-4ca8-8822-2704e1fb1d19
19:14:22 INFO Current reconcile ID: 372d9c2d-e96f-4ca8-8822-2704e1fb1d19, expected reconcile ID: 53816590-0812-4b29-98a9-3b6ec6981da5
19:14:22 INFO Waiting for runner to be registered.
19:14:28 INFO 10.224.36.242 - - [14/Sep/2025 19:14:28] "POST /v1/runners/register HTTP/1.1" 200 -
19:14:28 INFO server log: [(<Request 'http://10.145.216.87:8000/v1/runners/register' [POST]>, <Response 40 bytes [200 OK]>)] 
19:14:28 INFO handler health <RequestHandler uri='/v1/runners/1234/health' method='GET' query_string=None headers={'Authorization': 'Bearer 8414cd11b80cf8d2'} data=None json=<UNDEFINED>>
19:14:28 INFO trying to prepare tunnel for builder agent
19:14:30 INFO no runner or two or more runners in unit, return False
19:14:30 INFO Wait for condition not met, sleeping 10
19:14:33 INFO 10.224.36.242 - - [14/Sep/2025 19:14:33] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:14:40 INFO trying to prepare tunnel for builder agent
19:14:41 INFO no addresses yet, return False
19:14:41 INFO Wait for condition not met, sleeping 10
19:14:51 INFO trying to prepare tunnel for builder agent
19:14:51 INFO no addresses yet, return False
19:14:51 INFO Wait for condition not met, sleeping 10
19:15:01 INFO trying to prepare tunnel for builder agent
19:15:02 INFO no addresses yet, return False
19:15:02 INFO Wait for condition not met, sleeping 10
19:15:12 INFO trying to prepare tunnel for builder agent
19:15:13 INFO no addresses yet, return False
19:15:13 INFO Wait for condition not met, sleeping 10
19:15:23 INFO trying to prepare tunnel for builder agent
19:15:24 INFO [TEST SETUP] Run command 'echo hello' on test-j0pdew0n-0-n-725f87e5dfa2
19:15:24 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.100', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:05:fd:dc'}]])
19:15:26 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-j0pdew0n-0-n-725f87e5dfa2.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.100 'echo hello''
19:15:27 INFO Run command ''echo hello'' in runner with result 255: 'None' 'ssh: connect to host 10.145.193.100 port 22: Connection refused
'
19:15:27 INFO cannot ssh yet, return False
19:15:27 INFO Wait for condition not met, sleeping 10
19:15:37 INFO trying to prepare tunnel for builder agent
19:15:38 INFO [TEST SETUP] Run command 'echo hello' on test-j0pdew0n-0-n-725f87e5dfa2
19:15:38 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.100', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:05:fd:dc'}]])
19:15:39 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-j0pdew0n-0-n-725f87e5dfa2.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.100 'echo hello''
19:15:40 INFO Run command ''echo hello'' in runner with result 0: 'hello
' 'Warning: Permanently added '10.145.193.100' (ED25519) to the list of known hosts.
'
19:16:35 INFO 10.224.36.242 - - [14/Sep/2025 19:16:35] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:16:39 INFO 10.224.36.242 - - [14/Sep/2025 19:16:39] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:16:41 INFO [TEST SETUP] Run command sudo iptables -t nat -A OUTPUT -p tcp -d 10.145.216.87 --dport 8000 -j DNAT --to-destination 127.0.0.1:8000 on test-j0pdew0n-0-n-725f87e5dfa2
19:16:41 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.100', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:05:fd:dc'}]])
19:16:41 INFO 10.224.36.242 - - [14/Sep/2025 19:16:41] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:16:42 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-j0pdew0n-0-n-725f87e5dfa2.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.100 sudo iptables -t nat -A OUTPUT -p tcp -d 10.145.216.87 --dport 8000 -j DNAT --to-destination 127.0.0.1:8000'
19:16:43 INFO Run command 'sudo iptables -t nat -A OUTPUT -p tcp -d 10.145.216.87 --dport 8000 -j DNAT --to-destination 127.0.0.1:8000' in runner with result 0: 'None' 'None'
19:16:44 INFO [TEST SETUP] Exposing port 8000 on test-j0pdew0n-0-n-725f87e5dfa2
19:16:44 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.100', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:05:fd:dc'}]])
19:16:45 INFO ssh tunnel command ssh -fNT -R 8000:10.145.216.87:8000 -i /home/runner-manager/.ssh/test-j0pdew0n-0-n-725f87e5dfa2.key -o "StrictHostKeyChecking no" -o "ControlPersist yes" ubuntu@10.145.193.100 &
19:16:45 INFO 10.224.36.242 - - [14/Sep/2025 19:16:45] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:16:46 INFO ssh tunnel result 0 None None
19:16:48 INFO [TEST SETUP] Run command nc -z localhost 8000 on test-j0pdew0n-0-n-725f87e5dfa2
19:16:48 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.100', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:05:fd:dc'}]])
19:16:49 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-j0pdew0n-0-n-725f87e5dfa2.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.100 nc -z localhost 8000'
19:16:50 INFO Run command 'nc -z localhost 8000' in runner with result 0: 'None' 'Connection to localhost (127.0.0.1) 8000 port [tcp/*] succeeded!
'
19:16:50 INFO prepared tunnel for builder agent
19:16:50 INFO Waiting for builder-agent to contact us.
19:16:50 INFO 10.224.36.242 - - [14/Sep/2025 19:16:50] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:16:50 INFO server log after executing: [(<Request 'http://10.145.216.87:8000/v1/runners/register' [POST]>, <Response 40 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>)] 
19:16:50 INFO handler health <RequestHandler uri='/v1/runners/1234/health' method='GET' query_string=None headers={'Authorization': 'Bearer 8414cd11b80cf8d2'} data=None json=<UNDEFINED>>
19:16:51 INFO [TEST SETUP] Run command 'curl http://127.0.0.1:8080/execute -X POST --header "Content-Type: application/json" --data "{\"commands\":[\"sleep 30\"]}"' on test-j0pdew0n-0-n-725f87e5dfa2
19:16:51 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.100', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:05:fd:dc'}]])
19:16:52 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-j0pdew0n-0-n-725f87e5dfa2.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.100 'curl http://127.0.0.1:8080/execute -X POST --header "Content-Type: application/json" --data "{\"commands\":[\"sleep 30\"]}"''
19:16:53 INFO Run command ''curl http://127.0.0.1:8080/execute -X POST --header "Content-Type: application/json" --data "{\"commands\":[\"sleep 30\"]}"'' in runner with result 0: 'Execution started' '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100    42  100    17  100    25  22106  32509 --:--:-- --:--:-- --:--:-- 42000
'
19:16:53 INFO Waiting for builder-agent to contact us.
19:16:55 INFO 10.224.36.242 - - [14/Sep/2025 19:16:55] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:00 INFO 10.224.36.242 - - [14/Sep/2025 19:17:00] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:05 INFO 10.224.36.242 - - [14/Sep/2025 19:17:05] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:10 INFO 10.224.36.242 - - [14/Sep/2025 19:17:10] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:15 INFO 10.224.36.242 - - [14/Sep/2025 19:17:15] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:20 INFO 10.224.36.242 - - [14/Sep/2025 19:17:20] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:25 INFO 10.224.36.242 - - [14/Sep/2025 19:17:25] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:25 INFO server log after executing: [(<Request 'http://10.145.216.87:8000/v1/runners/register' [POST]>, <Response 40 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.87:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>)] 
19:17:25 INFO First reconcile that should not delete the runner, as it is still healthy.
19:17:25 INFO Waiting for model:
  test-j0pdew0n/0 [idle] active: 
19:17:30 INFO 10.224.36.242 - - [14/Sep/2025 19:17:30] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:17:30 INFO 10.224.36.242 - - [14/Sep/2025 19:17:30] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:33 INFO 10.224.36.242 - - [14/Sep/2025 19:17:33] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:17:35 INFO 10.224.36.242 - - [14/Sep/2025 19:17:35] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:17:35 INFO 10.224.36.242 - - [14/Sep/2025 19:17:35] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:40 INFO 10.224.36.242 - - [14/Sep/2025 19:17:40] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:45 INFO 10.224.36.242 - - [14/Sep/2025 19:17:45] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:50 INFO 10.224.36.242 - - [14/Sep/2025 19:17:50] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:55 INFO 10.224.36.242 - - [14/Sep/2025 19:17:55] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:17:55 INFO Waiting for model:
  test-j0pdew0n/0 [idle] active: 
19:17:59 INFO Current reconcile ID: bccee54a-2c35-4368-9e45-2a88cc6c600f
19:17:59 INFO Waiting for reconcile ID: bccee54a-2c35-4368-9e45-2a88cc6c600f
19:18:00 INFO 10.224.36.242 - - [14/Sep/2025 19:18:00] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:18:05 INFO 10.224.36.242 - - [14/Sep/2025 19:18:05] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:18:10 INFO 10.224.36.242 - - [14/Sep/2025 19:18:10] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:18:15 INFO 10.224.36.242 - - [14/Sep/2025 19:18:15] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:18:20 INFO 10.224.36.242 - - [14/Sep/2025 19:18:20] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:18:25 INFO 10.224.36.242 - - [14/Sep/2025 19:18:25] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:18:30 INFO 10.224.36.242 - - [14/Sep/2025 19:18:30] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:18:35 INFO 10.224.36.242 - - [14/Sep/2025 19:18:35] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:18:40 INFO 10.224.36.242 - - [14/Sep/2025 19:18:40] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:18:45 INFO 10.224.36.242 - - [14/Sep/2025 19:18:45] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:18:50 INFO 10.224.36.242 - - [14/Sep/2025 19:18:50] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:18:55 INFO 10.224.36.242 - - [14/Sep/2025 19:18:55] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:00 INFO Current reconcile ID: bccee54a-2c35-4368-9e45-2a88cc6c600f
19:19:00 INFO Current reconcile ID: bccee54a-2c35-4368-9e45-2a88cc6c600f, expected reconcile ID: bccee54a-2c35-4368-9e45-2a88cc6c600f
19:19:00 INFO Waiting for reconcile ID: bccee54a-2c35-4368-9e45-2a88cc6c600f
19:19:00 INFO 10.224.36.242 - - [14/Sep/2025 19:19:00] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:05 INFO 10.224.36.242 - - [14/Sep/2025 19:19:05] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:10 INFO 10.224.36.242 - - [14/Sep/2025 19:19:10] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:15 INFO 10.224.36.242 - - [14/Sep/2025 19:19:15] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:20 INFO 10.224.36.242 - - [14/Sep/2025 19:19:20] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:25 INFO 10.224.36.242 - - [14/Sep/2025 19:19:25] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:30 INFO 10.224.36.242 - - [14/Sep/2025 19:19:30] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:35 INFO 10.224.36.242 - - [14/Sep/2025 19:19:35] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:40 INFO 10.224.36.242 - - [14/Sep/2025 19:19:40] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:45 INFO 10.224.36.242 - - [14/Sep/2025 19:19:45] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:50 INFO 10.224.36.242 - - [14/Sep/2025 19:19:50] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:19:55 INFO 10.224.36.242 - - [14/Sep/2025 19:19:55] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:00 INFO 10.224.36.242 - - [14/Sep/2025 19:20:00] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:01 INFO Current reconcile ID: bccee54a-2c35-4368-9e45-2a88cc6c600f
19:20:01 INFO Current reconcile ID: bccee54a-2c35-4368-9e45-2a88cc6c600f, expected reconcile ID: bccee54a-2c35-4368-9e45-2a88cc6c600f
19:20:01 INFO Waiting for reconcile ID: bccee54a-2c35-4368-9e45-2a88cc6c600f
19:20:06 INFO 10.224.36.242 - - [14/Sep/2025 19:20:06] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:11 INFO 10.224.36.242 - - [14/Sep/2025 19:20:11] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:16 INFO 10.224.36.242 - - [14/Sep/2025 19:20:16] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:21 INFO 10.224.36.242 - - [14/Sep/2025 19:20:21] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:26 INFO 10.224.36.242 - - [14/Sep/2025 19:20:26] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:31 INFO 10.224.36.242 - - [14/Sep/2025 19:20:31] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:36 INFO 10.224.36.242 - - [14/Sep/2025 19:20:36] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:37 INFO 10.224.36.242 - - [14/Sep/2025 19:20:37] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:20:41 INFO 10.224.36.242 - - [14/Sep/2025 19:20:41] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:20:41 INFO 10.224.36.242 - - [14/Sep/2025 19:20:41] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:42 INFO 10.224.36.242 - - [14/Sep/2025 19:20:42] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:20:46 INFO 10.224.36.242 - - [14/Sep/2025 19:20:46] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:51 INFO 10.224.36.242 - - [14/Sep/2025 19:20:51] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:20:56 INFO 10.224.36.242 - - [14/Sep/2025 19:20:56] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:21:01 INFO 10.224.36.242 - - [14/Sep/2025 19:21:01] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:21:02 INFO Current reconcile ID: 14b655ba-0afe-43fe-a07a-1710e093f21d
19:21:02 INFO Current reconcile ID: 14b655ba-0afe-43fe-a07a-1710e093f21d, expected reconcile ID: bccee54a-2c35-4368-9e45-2a88cc6c600f
19:21:05 INFO 10.224.36.242 - - [14/Sep/2025 19:21:05] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:21:06 INFO 10.224.36.242 - - [14/Sep/2025 19:21:06] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:21:09 INFO 10.224.36.242 - - [14/Sep/2025 19:21:09] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:21:10 INFO check-runners: {'busy': '1', 'busy-runners': "('test-j0pdew0n-0-n-725f87e5dfa2',)", 'offline': '0', 'online': '1', 'return-code': 0, 'runners': "('test-j0pdew0n-0-n-725f87e5dfa2',)", 'unknown': '0'}
19:21:10 INFO handler health <RequestHandler uri='/v1/runners/1234/health' method='GET' query_string=None headers={'Authorization': 'Bearer 8414cd11b80cf8d2'} data=None json=<UNDEFINED>>
19:21:10 INFO Waiting for model:
  test-j0pdew0n/0 [idle] active: 
19:21:11 INFO 10.224.36.242 - - [14/Sep/2025 19:21:11] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:21:14 INFO 10.224.36.242 - - [14/Sep/2025 19:21:14] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:21:16 INFO 10.224.36.242 - - [14/Sep/2025 19:21:16] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
19:21:20 INFO 10.224.36.242 - - [14/Sep/2025 19:21:20] "GET /v1/runners/1234/health HTTP/1.1" 200 -
19:21:40 INFO Waiting for model:
  test-j0pdew0n/0 [idle] active: 
19:21:43 INFO Current reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:21:43 INFO Waiting for reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:22:44 INFO Current reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:22:44 INFO Current reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e, expected reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:22:44 INFO Waiting for reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:23:45 INFO Current reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:23:45 INFO Current reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e, expected reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:23:45 INFO Waiting for reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:24:46 INFO Current reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:24:46 INFO Current reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e, expected reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:24:46 INFO Waiting for reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:25:26 INFO 10.224.36.242 - - [14/Sep/2025 19:25:26] "[35m[1mPOST /v1/runners/register HTTP/1.1[0m" 500 -
19:25:47 INFO Current reconcile ID: 78225ded-1b1c-4780-8e6e-ee61db5eb8d3
19:25:47 INFO Current reconcile ID: 78225ded-1b1c-4780-8e6e-ee61db5eb8d3, expected reconcile ID: 50083736-21c5-418e-bb83-3177eb0df87e
19:25:51 INFO check-runners: {'busy': '0', 'busy-runners': '()', 'offline': '0', 'online': '0', 'return-code': 0, 'runners': '()', 'unknown': '0'}
19:25:51 INFO Waiting for model:
  test-j0pdew0n/0 [idle] active: 
19:26:21 INFO Waiting for model:
  test-j0pdew0n/0 [idle] active: 
19:26:24 INFO Current reconcile ID: d8d9e6e0-6d3c-4b7c-9001-dcf9a2488d2e
19:26:24 INFO Waiting for reconcile ID: d8d9e6e0-6d3c-4b7c-9001-dcf9a2488d2e
19:27:25 INFO Current reconcile ID: d8d9e6e0-6d3c-4b7c-9001-dcf9a2488d2e
19:27:25 INFO Current reconcile ID: d8d9e6e0-6d3c-4b7c-9001-dcf9a2488d2e, expected reconcile ID: d8d9e6e0-6d3c-4b7c-9001-dcf9a2488d2e
19:27:25 INFO Waiting for reconcile ID: d8d9e6e0-6d3c-4b7c-9001-dcf9a2488d2e
19:28:26 INFO Current reconcile ID: 31dfa426-7f17-4141-bd10-c15ede412442
19:28:26 INFO Current reconcile ID: 31dfa426-7f17-4141-bd10-c15ede412442, expected reconcile ID: d8d9e6e0-6d3c-4b7c-9001-dcf9a2488d2e
19:28:30 INFO Model status:

Model                            Controller           Cloud/Region         Version  SLA          Timestamp
test-jobmanager-prespawned-4gt4  github-pr-77d1e-lxd  localhost/localhost  3.6.9    unsupported  19:28:29Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-j0pdew0n           active      1  github-runner-image-builder  latest/edge  110  no       
test-j0pdew0n                                  active      1  github-runner                               0  no       

Unit                                     Workload  Agent  Machine  Public address  Ports  Message
github-runner-image-builder-j0pdew0n/0*  active    idle   0        10.224.36.156          
test-j0pdew0n/0*                         active    idle   1        10.224.36.242          

Machine  State    Address        Inst id        Base          AZ             Message
0        started  10.224.36.156  juju-c1ec98-0  ubuntu@22.04  github-runner  Running
1        started  10.224.36.242  juju-c1ec98-1  ubuntu@22.04  github-runner  Running

19:28:30 INFO Juju error logs:

machine-0: 18:52:43 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 18:52:43 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-j0pdew0n-0: 18:52:43 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-github-runner-image-builder-j0pdew0n-0: 18:53:28 ERROR unit.github-runner-image-builder-j0pdew0n/0.juju-log Pipx command failed, code: 1, out: None, err: None
machine-1: 18:53:50 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 18:53:50 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-test-j0pdew0n-0: 18:53:50 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-test-j0pdew0n-0: 18:55:00 ERROR unit.test-j0pdew0n/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-j0pdew0n-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-j0pdew0n-0/charm/./src/charm.py", line 342, in _on_config_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-j0pdew0n-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-j0pdew0n-0: 18:55:02 ERROR unit.test-j0pdew0n/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-j0pdew0n-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-j0pdew0n-0/charm/./src/charm.py", line 313, in _on_start
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-j0pdew0n-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-j0pdew0n-0: 18:55:24 ERROR unit.test-j0pdew0n/0.juju-log image:0: Missing image in image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-j0pdew0n-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-j0pdew0n-0/charm/./src/charm.py", line 477, in _on_image_relation_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-j0pdew0n-0/charm/./src/charm.py", line 514, in _check_image_ready
    raise ImageNotFoundError("No image found in the image integration")
errors.ImageNotFoundError: No image found in the image integration

19:28:30 INFO Forgetting model main...