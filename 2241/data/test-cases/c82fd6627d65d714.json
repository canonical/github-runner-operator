{"uid":"c82fd6627d65d714","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1743273766431,"stop":1743274070989,"duration":304558},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1743272593345,"stop":1743272593346,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1743272593346,"stop":1743272593346,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1743272593346,"stop":1743272593807,"duration":461},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1743272593346,"stop":1743272593346,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1743272593807,"stop":1743272593807,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1743272593808,"stop":1743272593808,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1743272593808,"stop":1743272593808,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1743272593808,"stop":1743272593808,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1743272593808,"stop":1743272593808,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1743272593808,"stop":1743273752602,"duration":1158794},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1743272593808,"stop":1743272593808,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1743272593808,"stop":1743272593808,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1743272593809,"stop":1743272593809,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1743272593809,"stop":1743272593809,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1743272593809,"stop":1743272593809,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1743272593809,"stop":1743272593809,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1743272593809,"stop":1743272593809,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1743272593809,"stop":1743272593809,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1743272593809,"stop":1743272593809,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1743272593810,"stop":1743272593810,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1743272593810,"stop":1743272593816,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1743272593810,"stop":1743272593810,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1743272593810,"stop":1743272593810,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1743272593817,"stop":1743272593845,"duration":28},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1743272593845,"stop":1743272828454,"duration":234609},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1743272828454,"stop":1743273752601,"duration":924147},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1743273752602,"stop":1743273752965,"duration":363},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1743273752965,"stop":1743273753690,"duration":725},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1743273753690,"stop":1743273764596,"duration":10906},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1743273764596,"stop":1743273764604,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1743273764605,"stop":1743273766429,"duration":1824},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1743273766429,"stop":1743273766429,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1743273766429,"stop":1743273766429,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1743273766430,"stop":1743273766430,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"82ad8c23360d8a6c","name":"log","source":"82ad8c23360d8a6c.txt","type":"text/plain","size":10295}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1743274070990,"stop":1743274070990,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1743274070990,"stop":1743274071599,"duration":609},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1743274071601,"stop":1743274071647,"duration":46},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1743274071648,"stop":1743274074114,"duration":2466},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1743274074119,"stop":1743274074479,"duration":360},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1743274074480,"stop":1743274074480,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1743274074480,"stop":1743274074480,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1743274074480,"stop":1743274074480,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"19983-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"52d02175a231261","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":8,"broken":16,"skipped":0,"passed":25,"unknown":7,"total":56},"items":[{"uid":"2b913ed4cb906b6b","reportUrl":"../2240//#testresult/2b913ed4cb906b6b","status":"passed","time":{"start":1743230434060,"stop":1743230775103,"duration":341043}},{"uid":"a1526cc5b622b50","reportUrl":"../2239//#testresult/a1526cc5b622b50","status":"passed","time":{"start":1743187645122,"stop":1743188142475,"duration":497353}},{"uid":"5d0e5d0613bc4f90","reportUrl":"../2228//#testresult/5d0e5d0613bc4f90","status":"passed","time":{"start":1743144847016,"stop":1743145145560,"duration":298544}},{"uid":"842057be40c604f2","reportUrl":"../2224//#testresult/842057be40c604f2","status":"passed","time":{"start":1743101012625,"stop":1743101342836,"duration":330211}},{"uid":"5c2988c6c249f631","reportUrl":"../2219//#testresult/5c2988c6c249f631","status":"passed","time":{"start":1743065080160,"stop":1743065379627,"duration":299467}},{"uid":"19698f8ba35811a1","reportUrl":"../2216//#testresult/19698f8ba35811a1","status":"passed","time":{"start":1743017982680,"stop":1743018332514,"duration":349834}},{"uid":"a8b81cbe3a987f3a","reportUrl":"../2205//#testresult/a8b81cbe3a987f3a","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflow-jobs#download-job-logs-for-a-workflow-run\", \"status\": \"404\"}","time":{"start":1742971550515,"stop":1742971883314,"duration":332799}},{"uid":"391b76f1f1fa05f5","reportUrl":"../2202//#testresult/391b76f1f1fa05f5","status":"passed","time":{"start":1742928164523,"stop":1742928456157,"duration":291634}},{"uid":"3441540456701bb6","reportUrl":"../2196//#testresult/3441540456701bb6","status":"passed","time":{"start":1742888534637,"stop":1742888855561,"duration":320924}},{"uid":"2e0ac096bc7b5351","reportUrl":"../2182//#testresult/2e0ac096bc7b5351","status":"passed","time":{"start":1742798589744,"stop":1742798895067,"duration":305323}},{"uid":"74d191873e17fd96","reportUrl":"../2179//#testresult/74d191873e17fd96","status":"passed","time":{"start":1742755384902,"stop":1742755686010,"duration":301108}},{"uid":"214272e4557ba8d1","reportUrl":"../2178//#testresult/214272e4557ba8d1","status":"passed","time":{"start":1742712159049,"stop":1742712448510,"duration":289461}},{"uid":"52fb577a51d5ac06","reportUrl":"../2177//#testresult/52fb577a51d5ac06","status":"passed","time":{"start":1742668725518,"stop":1742669004397,"duration":278879}},{"uid":"a9f67ee4af5422a2","reportUrl":"../2176//#testresult/a9f67ee4af5422a2","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-y3wk2ka3/0 [idle] waiting: Waiting for image over integration.\n  github-runner-image-builder-y3wk2ka3/0 [executing] active: Building image.","time":{"start":1742624742326,"stop":1742624742326,"duration":0}},{"uid":"81c1d19dfbf185a2","reportUrl":"../2175//#testresult/81c1d19dfbf185a2","status":"passed","time":{"start":1742582504416,"stop":1742582837375,"duration":332959}},{"uid":"9ee1665b0e93781d","reportUrl":"../2165//#testresult/9ee1665b0e93781d","status":"passed","time":{"start":1742542868550,"stop":1742543191424,"duration":322874}},{"uid":"f2d794ad32263b36","reportUrl":"../2156//#testresult/f2d794ad32263b36","status":"passed","time":{"start":1742496293060,"stop":1742496745121,"duration":452061}},{"uid":"98dae6ec31ec73a","reportUrl":"../1727//#testresult/98dae6ec31ec73a","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-rf13rqtg/0 [executing] maintenance: Reconciling runners","time":{"start":1736766874561,"stop":1736767842148,"duration":967587}},{"uid":"f8293948fe684291","reportUrl":"../1725//#testresult/f8293948fe684291","status":"failed","statusDetails":"AssertionError: No addresses to connect to for OpenStack server test-hwtluz3o-0-1ea0b2e527d1","time":{"start":1736706610572,"stop":1736707047574,"duration":437002}},{"uid":"e5977b9af053c469","reportUrl":"../1724//#testresult/e5977b9af053c469","status":"failed","statusDetails":"AssertionError: No addresses to connect to for OpenStack server test-ucct16vj-0-be7c4f1d7328","time":{"start":1736663374741,"stop":1736663800520,"duration":425779}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"c82fd6627d65d714.json","parameterValues":[]}