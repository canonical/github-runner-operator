{"uid":"df6393d01cc03a63","name":"test_reactive_mode_scale_down","fullName":"tests.integration.test_reactive#test_reactive_mode_scale_down","historyId":"bb6817de59a8aff167470484d2d33ee6","time":{"start":1770794316007,"stop":1770795546077,"duration":1230070},"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","descriptionHtml":"<pre><code>arrange: Scale down the number of virtual machines to 2 and spawn a job.\nact:\n    1. Scale down the number of virtual machines to 0 and call reconcile.\n    2. Spawn a job.\nassert:\n    1. The job fails.\n    2. The job is queued and there is a message in the queue.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1770792505523,"stop":1770792505849,"duration":326},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1770792505523,"stop":1770792505523,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1770792505523,"stop":1770792505523,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1770792505523,"stop":1770792505523,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1770792505850,"stop":1770792505850,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1770792505850,"stop":1770792506086,"duration":236},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1770792506086,"stop":1770792506650,"duration":564},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1770792506650,"stop":1770792508360,"duration":1710},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1770792508360,"stop":1770792508360,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1770792508360,"stop":1770792508369,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mongodb","time":{"start":1770792508369,"stop":1770792510344,"duration":1975},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1770792508369,"stop":1770792508369,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cli_base_option","time":{"start":1770792510344,"stop":1770792510344,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1770792510345,"stop":1770792510345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"selected_artifact","time":{"start":1770792510345,"stop":1770792510345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1770792510345,"stop":1770792510355,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"deployment_context","time":{"start":1770792510345,"stop":1770792510345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1770792510345,"stop":1770792510345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"available_charm_files","time":{"start":1770792510345,"stop":1770792510345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1770792510345,"stop":1770792510345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1770792510345,"stop":1770792510345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1770792510345,"stop":1770792510345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifact_catalog","time":{"start":1770792510345,"stop":1770792510345,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1770792510355,"stop":1770792513587,"duration":3232},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1770792513587,"stop":1770792513587,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1770792513587,"stop":1770792711004,"duration":197417},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_reactive","time":{"start":1770792711005,"stop":1770792749379,"duration":38374},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1770794159825,"stop":1770794316006,"duration":156181},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1770794159825,"stop":1770794159825,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","status":"passed","steps":[],"attachments":[{"uid":"6b4e29a9dae7a381","name":"log","source":"6b4e29a9dae7a381.txt","type":"text/plain","size":8830}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1770795546077,"stop":1770795623248,"duration":77171},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1770795623249,"stop":1770795623249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1770795623249,"stop":1770795623249,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1770795623250,"stop":1770795623250,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1770795623250,"stop":1770795623608,"duration":358},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1770795623610,"stop":1770795624099,"duration":489},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1770795624100,"stop":1770795624358,"duration":258},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1770795624358,"stop":1770795624358,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1770795624358,"stop":1770795624358,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1770795624358,"stop":1770795624358,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_reactive"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12052-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_reactive"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"940dcc6b6a1c520d","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":55,"broken":145,"skipped":59,"passed":224,"unknown":30,"total":513},"items":[{"uid":"692257b45ab72491","reportUrl":"../4974//#testresult/692257b45ab72491","status":"unknown","time":{}},{"uid":"dc5eeedf584aa7cc","reportUrl":"../4953//#testresult/dc5eeedf584aa7cc","status":"unknown","time":{}},{"uid":"26a7b201da3310a8","reportUrl":"../4951//#testresult/26a7b201da3310a8","status":"unknown","time":{}},{"uid":"6e376d557aad6ed0","reportUrl":"../4942//#testresult/6e376d557aad6ed0","status":"unknown","time":{}},{"uid":"903973c880a9410c","reportUrl":"../4931//#testresult/903973c880a9410c","status":"unknown","time":{}},{"uid":"bb1e81fd8cd1aefd","reportUrl":"../4930//#testresult/bb1e81fd8cd1aefd","status":"failed","statusDetails":"AssertionError: Queue test-ywekzr2h expected: 0, received: 1","time":{"start":1770534071187,"stop":1770535066718,"duration":995531}},{"uid":"57f56844221273ce","reportUrl":"../4929//#testresult/57f56844221273ce","status":"passed","time":{"start":1770490154113,"stop":1770491321110,"duration":1166997}},{"uid":"6057a8d41508cbe9","reportUrl":"../4927//#testresult/6057a8d41508cbe9","status":"failed","statusDetails":"AssertionError: Queue test-f0qnnhby expected: 0, received: 1","time":{"start":1770447405751,"stop":1770448411580,"duration":1005829}},{"uid":"8212077a8357df9e","reportUrl":"../4926//#testresult/8212077a8357df9e","status":"passed","time":{"start":1770404363112,"stop":1770405522633,"duration":1159521}},{"uid":"d19faab5cc999fff","reportUrl":"../4921//#testresult/d19faab5cc999fff","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1770360225193,"stop":1770360225193,"duration":0}},{"uid":"3bc12ac3c1ba2b38","reportUrl":"../4914//#testresult/3bc12ac3c1ba2b38","status":"broken","statusDetails":"TimeoutError","time":{"start":1770318107117,"stop":1770318584739,"duration":477622}},{"uid":"68a1d88cb026b24d","reportUrl":"../4906//#testresult/68a1d88cb026b24d","status":"unknown","time":{}},{"uid":"3ab7bbafb5cd7a5a","reportUrl":"../4897//#testresult/3ab7bbafb5cd7a5a","status":"failed","statusDetails":"AssertionError: Queue test-tnwql4e5 expected: 0, received: 1","time":{"start":1770231772913,"stop":1770232865276,"duration":1092363}},{"uid":"e1b3daf5db459f2a","reportUrl":"../4888//#testresult/e1b3daf5db459f2a","status":"passed","time":{"start":1770188425437,"stop":1770189605099,"duration":1179662}},{"uid":"42bc4d2304684a79","reportUrl":"../4868//#testresult/42bc4d2304684a79","status":"passed","time":{"start":1770102216382,"stop":1770103395751,"duration":1179369}},{"uid":"d893e0a0579dcea3","reportUrl":"../4842//#testresult/d893e0a0579dcea3","status":"passed","time":{"start":1770017371729,"stop":1770018617882,"duration":1246153}},{"uid":"b38b83240a3365e0","reportUrl":"../4834//#testresult/b38b83240a3365e0","status":"passed","time":{"start":1769971866601,"stop":1769973141867,"duration":1275266}},{"uid":"24f9a8374123deda","reportUrl":"../4833//#testresult/24f9a8374123deda","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1769928201920,"stop":1769928201920,"duration":0}},{"uid":"c7534deafe0501e9","reportUrl":"../4832//#testresult/c7534deafe0501e9","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1769884304667,"stop":1769884304667,"duration":0}},{"uid":"98f740bc9a32e244","reportUrl":"../4831//#testresult/98f740bc9a32e244","status":"passed","time":{"start":1769842477096,"stop":1769843728554,"duration":1251458}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"df6393d01cc03a63.json","parameterValues":[]}