{"uid":"43f1d1316bbf83d6","name":"test_prometheus_metrics","fullName":"tests.integration.test_prometheus_metrics#test_prometheus_metrics","historyId":"8ad402f8a81c79aa3fa21a6fb8e0f79a","time":{"start":1766471171038,"stop":1766471649019,"duration":477981},"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","descriptionHtml":"<pre><code>arrange: given a prometheus charm application.\nact: when GitHub runner is integrated.\nassert: the datasource is registered and basic metrics are available.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1766470767530,"stop":1766470767531,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1766470767530,"stop":1766470767530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1766470767531,"stop":1766470767531,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju","time":{"start":1766470767531,"stop":1766470767767,"duration":236},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"prometheus_app","time":{"start":1766470767768,"stop":1766470824303,"duration":56535},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_app","time":{"start":1766470824303,"stop":1766470902880,"duration":78577},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"traefik_ingress","time":{"start":1766470902880,"stop":1766470905055,"duration":2175},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1766470905055,"stop":1766470905688,"duration":633},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1766470905688,"stop":1766470905688,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1766470905688,"stop":1766470905696,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1766470905696,"stop":1766470905714,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1766470905715,"stop":1766470905715,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1766470905715,"stop":1766470905715,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1766470905715,"stop":1766470905716,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1766470905715,"stop":1766470905715,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1766470905715,"stop":1766470905715,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1766470905715,"stop":1766470905715,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1766470905716,"stop":1766470905717,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1766470905716,"stop":1766470905716,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1766470905717,"stop":1766470905733,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1766470905734,"stop":1766470908084,"duration":2350},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1766470908084,"stop":1766471117290,"duration":209206},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1766470908084,"stop":1766470908084,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_app_cos_agent","time":{"start":1766471117290,"stop":1766471166886,"duration":49596},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_password","time":{"start":1766471166886,"stop":1766471168562,"duration":1676},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1766471168562,"stop":1766471168827,"duration":265},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1766471168827,"stop":1766471169377,"duration":550},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1766471169378,"stop":1766471171037,"duration":1659},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1766471171037,"stop":1766471171038,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1766471171037,"stop":1766471171037,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","status":"passed","steps":[],"attachments":[{"uid":"e21710b5144bb086","name":"log","source":"e21710b5144bb086.txt","type":"text/plain","size":183182}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"test_github_branch::finalizer","time":{"start":1766471649020,"stop":1766471649469,"duration":449},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1766471649020,"stop":1766471649020,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1766471649470,"stop":1766471649470,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1766471649471,"stop":1766471649471,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1766471649471,"stop":1766471649850,"duration":379},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::finalizer","time":{"start":1766471649851,"stop":1766471649851,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1766471649852,"stop":1766471650175,"duration":323},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju::0","time":{"start":1766471650176,"stop":1766471650176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1766471650176,"stop":1766471650176,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1766471650177,"stop":1766471650177,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1766471650177,"stop":1766471650177,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"openstack"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_prometheus_metrics"},{"name":"host","value":"github-runner"},{"name":"thread","value":"30866-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_prometheus_metrics"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6d80e4817f3e97bd","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":8,"broken":110,"skipped":0,"passed":116,"unknown":11,"total":245},"items":[{"uid":"7904105a5f43612e","reportUrl":"../4484//#testresult/7904105a5f43612e","status":"passed","time":{"start":1766428316697,"stop":1766428792711,"duration":476014}},{"uid":"932b18abcce7069c","reportUrl":"../4475//#testresult/932b18abcce7069c","status":"passed","time":{"start":1766384816475,"stop":1766385292824,"duration":476349}},{"uid":"15591610a51171a","reportUrl":"../4474//#testresult/15591610a51171a","status":"passed","time":{"start":1766341542235,"stop":1766342020052,"duration":477817}},{"uid":"7c5abdcfe786aa16","reportUrl":"../4472//#testresult/7c5abdcfe786aa16","status":"passed","time":{"start":1766298322745,"stop":1766298798914,"duration":476169}},{"uid":"14575f6475204f57","reportUrl":"../4471//#testresult/14575f6475204f57","status":"passed","time":{"start":1766255156731,"stop":1766255735687,"duration":578956}},{"uid":"badf9bd329d8dc91","reportUrl":"../4463//#testresult/badf9bd329d8dc91","status":"passed","time":{"start":1766211908500,"stop":1766212386396,"duration":477896}},{"uid":"73952d8eaa86bc89","reportUrl":"../4462//#testresult/73952d8eaa86bc89","status":"passed","time":{"start":1766168671020,"stop":1766169150373,"duration":479353}},{"uid":"82e044cbbe351bfd","reportUrl":"../4458//#testresult/82e044cbbe351bfd","status":"failed","statusDetails":"AssertionError: Timeout waiting for runner to be ready","time":{"start":1766126851068,"stop":1766127710833,"duration":859765}},{"uid":"b6bf4a42ece1513","reportUrl":"../4445//#testresult/b6bf4a42ece1513","status":"passed","time":{"start":1766082548955,"stop":1766083026260,"duration":477305}},{"uid":"23ab26c9e8606828","reportUrl":"../4435//#testresult/23ab26c9e8606828","status":"passed","time":{"start":1766039236246,"stop":1766039950972,"duration":714726}},{"uid":"613c335d4c9a1b5b","reportUrl":"../4408//#testresult/613c335d4c9a1b5b","status":"passed","time":{"start":1765995985124,"stop":1765996461705,"duration":476581}},{"uid":"68e541a42379182e","reportUrl":"../4370//#testresult/68e541a42379182e","status":"passed","time":{"start":1765937938619,"stop":1765938414931,"duration":476312}},{"uid":"3794051c75a414cd","reportUrl":"../4344//#testresult/3794051c75a414cd","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.1.53.13', port=3000): Max retries exceeded with url: /api/datasources (Caused by NewConnectionError(\"HTTPConnection(host='10.1.53.13', port=3000): Failed to establish a new connection: [Errno 22] Invalid argument\"))","time":{"start":1765852957693,"stop":1765852998356,"duration":40663}},{"uid":"ecfdeda385111b9b","reportUrl":"../4332//#testresult/ecfdeda385111b9b","status":"passed","time":{"start":1765607107130,"stop":1765607582446,"duration":475316}},{"uid":"9953fe28340d1210","reportUrl":"../4330//#testresult/9953fe28340d1210","status":"passed","time":{"start":1765563968532,"stop":1765564446643,"duration":478111}},{"uid":"e1544910f1db6e47","reportUrl":"../4312//#testresult/e1544910f1db6e47","status":"passed","time":{"start":1765520713218,"stop":1765521188343,"duration":475125}},{"uid":"db2364949017ff58","reportUrl":"../4297//#testresult/db2364949017ff58","status":"passed","time":{"start":1765477531311,"stop":1765478007750,"duration":476439}},{"uid":"109e555b62ced38f","reportUrl":"../4292//#testresult/109e555b62ced38f","status":"unknown","time":{}},{"uid":"ca14f25487f16b15","reportUrl":"../4277//#testresult/ca14f25487f16b15","status":"passed","time":{"start":1765391319069,"stop":1765391795739,"duration":476670}},{"uid":"3fd19cc8e6bed82e","reportUrl":"../4270//#testresult/3fd19cc8e6bed82e","status":"passed","time":{"start":1765328315476,"stop":1765328793034,"duration":477558}}]},"tags":["asyncio","openstack"]},"source":"43f1d1316bbf83d6.json","parameterValues":[]}