{"uid":"b2fc53ca071d362b","name":"test_charm_issues_metrics_for_failed_repo_policy","fullName":"tests.integration.test_charm_metrics_failure#test_charm_issues_metrics_for_failed_repo_policy","historyId":"3e462e3ac295b69113097bb9edb5fd51","time":{"start":1766471139971,"stop":1766471645071,"duration":505100},"description":"\n    arrange: A properly integrated charm with a runner registered on the fork repo.\n    act: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\n    assert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n        The Reconciliation metric has the post job status set to failure.\n    ","descriptionHtml":"<pre><code>arrange: A properly integrated charm with a runner registered on the fork repo.\nact: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\nassert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n    The Reconciliation metric has the post job status set to failure.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"github_config","time":{"start":1766470760818,"stop":1766470760818,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1766470760818,"stop":1766470761052,"duration":234},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1766470760818,"stop":1766470760818,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1766470760818,"stop":1766470760818,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1766470761052,"stop":1766470761577,"duration":525},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1766470761577,"stop":1766470772149,"duration":10572},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1766470772149,"stop":1766470773458,"duration":1309},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1766470773458,"stop":1766470984234,"duration":210776},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1766470773458,"stop":1766470773458,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1766470773459,"stop":1766470773830,"duration":371},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1766470773459,"stop":1766470773459,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1766470773830,"stop":1766470773835,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1766470773835,"stop":1766470773835,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1766470773835,"stop":1766470773835,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1766470773835,"stop":1766470773835,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1766470773835,"stop":1766470773835,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1766470773835,"stop":1766470773835,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1766470773835,"stop":1766470773835,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1766470773835,"stop":1766470773835,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1766470773836,"stop":1766470773847,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1766470773848,"stop":1766470776572,"duration":2724},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1766470776572,"stop":1766470776572,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1766470776573,"stop":1766470984234,"duration":207661},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric","time":{"start":1766470984234,"stop":1766470984234,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1766470984234,"stop":1766471139970,"duration":155736},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1766470984234,"stop":1766470984234,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1766471139970,"stop":1766471139970,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A properly integrated charm with a runner registered on the fork repo.\n    act: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\n    assert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n        The Reconciliation metric has the post job status set to failure.\n    ","status":"passed","steps":[],"attachments":[{"uid":"6cba00892895e805","name":"log","source":"6cba00892895e805.txt","type":"text/plain","size":7590}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1766471645071,"stop":1766471645071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1766471645071,"stop":1766471645071,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric::finalizer","time":{"start":1766472231120,"stop":1766472231120,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1766472231121,"stop":1766472231121,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1766472231121,"stop":1766472231210,"duration":89},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1766472231121,"stop":1766472231121,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1766472231211,"stop":1766472231513,"duration":302},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1766472231513,"stop":1766472232359,"duration":846},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1766472232360,"stop":1766472232360,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1766472232360,"stop":1766472232360,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1766472232360,"stop":1766472232360,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_metrics_failure"},{"name":"host","value":"github-runner"},{"name":"thread","value":"11249-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_metrics_failure"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"e00c5c0a49588526","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":40,"broken":142,"skipped":0,"passed":219,"unknown":16,"total":417},"items":[{"uid":"34918f08564e2067","reportUrl":"../4484//#testresult/34918f08564e2067","status":"passed","time":{"start":1766427901891,"stop":1766428373346,"duration":471455}},{"uid":"6cd52f873c740273","reportUrl":"../4475//#testresult/6cd52f873c740273","status":"passed","time":{"start":1766384811567,"stop":1766385247597,"duration":436030}},{"uid":"61601cf812201bf0","reportUrl":"../4474//#testresult/61601cf812201bf0","status":"passed","time":{"start":1766341511763,"stop":1766341948717,"duration":436954}},{"uid":"13248100a2b6f6f1","reportUrl":"../4472//#testresult/13248100a2b6f6f1","status":"passed","time":{"start":1766298310219,"stop":1766298746215,"duration":435996}},{"uid":"8e7b6698e23b8002","reportUrl":"../4471//#testresult/8e7b6698e23b8002","status":"passed","time":{"start":1766255048166,"stop":1766255483603,"duration":435437}},{"uid":"b00a5f4bb6e0e18c","reportUrl":"../4463//#testresult/b00a5f4bb6e0e18c","status":"passed","time":{"start":1766211897163,"stop":1766212333466,"duration":436303}},{"uid":"cef15b6a5048f65e","reportUrl":"../4462//#testresult/cef15b6a5048f65e","status":"passed","time":{"start":1766168682968,"stop":1766169329888,"duration":646920}},{"uid":"6d62945487e6a7ae","reportUrl":"../4458//#testresult/6d62945487e6a7ae","status":"failed","statusDetails":"AssertionError: Failed to create workflow","time":{"start":1766125498029,"stop":1766125886452,"duration":388423}},{"uid":"492e50dedce2f9e0","reportUrl":"../4445//#testresult/492e50dedce2f9e0","status":"passed","time":{"start":1766082327922,"stop":1766082770895,"duration":442973}},{"uid":"f475e2b8c22ec4d7","reportUrl":"../4435//#testresult/f475e2b8c22ec4d7","status":"broken","statusDetails":"openstack.exceptions.HttpException: HttpException: 500: Server Error for url: https://nova.ps7.canonical.com:8774/v2.1/servers/detail, Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'KeyError'>","time":{"start":1766039160396,"stop":1766039564602,"duration":404206}},{"uid":"c26e7c8f23ab3881","reportUrl":"../4408//#testresult/c26e7c8f23ab3881","status":"passed","time":{"start":1765996011990,"stop":1765996450487,"duration":438497}},{"uid":"27a1d117260eab73","reportUrl":"../4370//#testresult/27a1d117260eab73","status":"passed","time":{"start":1765937971680,"stop":1765938413465,"duration":441785}},{"uid":"7d39800d8ce1831a","reportUrl":"../4344//#testresult/7d39800d8ce1831a","status":"failed","statusDetails":"AssertionError: Timeout waiting for runner to be ready","time":{"start":1765852749728,"stop":1765853613493,"duration":863765}},{"uid":"12a4ff0a35e6e96d","reportUrl":"../4332//#testresult/12a4ff0a35e6e96d","status":"passed","time":{"start":1765607091540,"stop":1765607527651,"duration":436111}},{"uid":"63b6dc009862a20","reportUrl":"../4330//#testresult/63b6dc009862a20","status":"passed","time":{"start":1765563950815,"stop":1765564387342,"duration":436527}},{"uid":"b97394cd6042632c","reportUrl":"../4312//#testresult/b97394cd6042632c","status":"passed","time":{"start":1765520782900,"stop":1765521222128,"duration":439228}},{"uid":"ccf7590a47b41800","reportUrl":"../4297//#testresult/ccf7590a47b41800","status":"passed","time":{"start":1765477465117,"stop":1765478243387,"duration":778270}},{"uid":"6aa71e21e9eaee0a","reportUrl":"../4292//#testresult/6aa71e21e9eaee0a","status":"passed","time":{"start":1765434415075,"stop":1765434856202,"duration":441127}},{"uid":"b9bfe923a0f5c9b4","reportUrl":"../4277//#testresult/b9bfe923a0f5c9b4","status":"passed","time":{"start":1765391144985,"stop":1765391583062,"duration":438077}},{"uid":"7460d8fb14550a4c","reportUrl":"../4270//#testresult/7460d8fb14550a4c","status":"passed","time":{"start":1765304701606,"stop":1765305141227,"duration":439621}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"b2fc53ca071d362b.json","parameterValues":[]}