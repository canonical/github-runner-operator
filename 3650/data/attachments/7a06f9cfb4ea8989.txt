07:04:19 INFO IP Address to use as the fake jobmanager: 10.145.216.195
07:04:19 WARNING unexpected facade SSHServer received from the controller
07:04:19 INFO Adding model github-pr-77d1e-lxd:test-jobmanager-prespawned-qtdb on cloud localhost
07:04:19 WARNING unexpected facade SSHServer received from the controller
07:04:19 WARNING unexpected facade SSHSession received from the controller
07:04:19 WARNING unexpected facade SSHTunneler received from the controller
07:04:22 INFO Deploying ch:amd64/jammy/github-runner-image-builder-121
07:04:40 INFO Deploying local:jammy/github-runner-0
07:04:40 INFO Waiting for model:
  test-f3blw4zw/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-f3blw4zw/0 [allocating] waiting: waiting for machine
07:05:11 INFO Waiting for model:
  test-f3blw4zw/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-f3blw4zw/0 [allocating] waiting: waiting for machine
07:05:41 INFO Waiting for model:
  test-f3blw4zw/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-f3blw4zw/0 [allocating] waiting: waiting for machine
07:06:11 INFO Waiting for model:
  test-f3blw4zw/0 [allocating] waiting: agent initialising
  github-runner-image-builder-f3blw4zw/0 [allocating] waiting: agent initialising
07:06:41 INFO Waiting for model:
  test-f3blw4zw/0 [executing] maintenance: installing charm software
  github-runner-image-builder-f3blw4zw/0 [executing] maintenance: Setting up Builder.
07:07:12 INFO Waiting for model:
  test-f3blw4zw/0 [executing] maintenance: installing charm software
  github-runner-image-builder-f3blw4zw/0 [executing] maintenance: Setting up Builder.
07:07:42 INFO Waiting for model:
  test-f3blw4zw/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-f3blw4zw/0 [executing] maintenance: Setting up Builder.
07:08:12 INFO Waiting for model:
  test-f3blw4zw/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-f3blw4zw/0 [executing] maintenance: Setting up Builder.
07:08:42 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] blocked: image integration required.
07:09:12 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:09:42 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:10:12 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:10:43 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:11:13 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:11:43 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:12:13 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:12:43 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:13:13 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:13:44 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:14:14 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:14:44 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:15:14 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:15:44 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:16:14 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:16:45 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:17:15 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:17:45 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:18:16 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:18:46 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:19:16 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:19:46 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:20:16 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:20:46 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:21:17 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:21:47 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:22:17 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:22:47 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:23:17 INFO Waiting for model:
  test-f3blw4zw/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-f3blw4zw/0 [executing] active: Building image.
07:23:47 INFO Waiting for model:
  test-f3blw4zw/0 [executing] active: 
07:24:03 INFO Waiting for model:
  test-f3blw4zw/0 [idle] active: 
07:24:19 INFO Waiting for model:
  test-f3blw4zw/0 [idle] active: 
07:24:49 INFO Waiting for model:
  test-f3blw4zw/0 [idle] active: 
07:24:57 INFO Current reconcile ID: 53b0bc97-abcd-4942-8ee1-b2ebdf9d0a20
07:24:57 INFO Waiting for reconcile ID: 53b0bc97-abcd-4942-8ee1-b2ebdf9d0a20
07:25:58 INFO Current reconcile ID: 53b0bc97-abcd-4942-8ee1-b2ebdf9d0a20
07:25:58 INFO Current reconcile ID: 53b0bc97-abcd-4942-8ee1-b2ebdf9d0a20, expected reconcile ID: 53b0bc97-abcd-4942-8ee1-b2ebdf9d0a20
07:25:58 INFO Waiting for reconcile ID: 53b0bc97-abcd-4942-8ee1-b2ebdf9d0a20
07:26:59 INFO Current reconcile ID: 42526c32-d8d2-4c58-9842-7c61c6da35d7
07:26:59 INFO Current reconcile ID: 42526c32-d8d2-4c58-9842-7c61c6da35d7, expected reconcile ID: 53b0bc97-abcd-4942-8ee1-b2ebdf9d0a20
07:26:59 INFO Waiting for runner to be registered.
07:27:06 INFO 10.46.180.73 - - [24/Sep/2025 07:27:06] "POST /v1/runners/register HTTP/1.1" 200 -
07:27:06 INFO server log: [(<Request 'http://10.145.216.195:8000/v1/runners/register' [POST]>, <Response 40 bytes [200 OK]>)] 
07:27:06 INFO handler health <RequestHandler uri='/v1/runners/1234/health' method='GET' query_string=None headers={'Authorization': 'Bearer e0bdb7f126194c2a'} data=None json=<UNDEFINED>>
07:27:06 INFO trying to prepare tunnel for builder agent
07:27:07 INFO no runner or two or more runners in unit, return False
07:27:07 INFO Wait for condition not met, sleeping 10
07:27:10 INFO 10.46.180.73 - - [24/Sep/2025 07:27:10] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:27:17 INFO trying to prepare tunnel for builder agent
07:27:18 INFO no addresses yet, return False
07:27:18 INFO Wait for condition not met, sleeping 10
07:27:28 INFO trying to prepare tunnel for builder agent
07:27:28 INFO no addresses yet, return False
07:27:28 INFO Wait for condition not met, sleeping 10
07:27:38 INFO trying to prepare tunnel for builder agent
07:27:38 INFO no addresses yet, return False
07:27:38 INFO Wait for condition not met, sleeping 10
07:27:48 INFO trying to prepare tunnel for builder agent
07:27:48 INFO no addresses yet, return False
07:27:48 INFO Wait for condition not met, sleeping 10
07:27:58 INFO trying to prepare tunnel for builder agent
07:27:59 INFO [TEST SETUP] Run command 'echo hello' on test-f3blw4zw-0-n-ff59ca101ef5
07:27:59 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.141', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:6a:6e:08'}]])
07:28:00 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-f3blw4zw-0-n-ff59ca101ef5.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.141 'echo hello''
07:28:05 INFO Run command ''echo hello'' in runner with result 255: 'None' 'ssh: connect to host 10.145.193.141 port 22: Connection refused
'
07:28:05 INFO cannot ssh yet, return False
07:28:05 INFO Wait for condition not met, sleeping 10
07:28:15 INFO trying to prepare tunnel for builder agent
07:28:16 INFO [TEST SETUP] Run command 'echo hello' on test-f3blw4zw-0-n-ff59ca101ef5
07:28:16 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.141', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:6a:6e:08'}]])
07:28:17 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-f3blw4zw-0-n-ff59ca101ef5.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.141 'echo hello''
07:28:19 INFO Run command ''echo hello'' in runner with result 0: 'hello
' 'Warning: Permanently added '10.145.193.141' (ED25519) to the list of known hosts.
'
07:29:12 INFO 10.46.180.73 - - [24/Sep/2025 07:29:12] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:29:15 INFO 10.46.180.73 - - [24/Sep/2025 07:29:15] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:29:16 INFO 10.46.180.73 - - [24/Sep/2025 07:29:16] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:29:20 INFO [TEST SETUP] Run command sudo iptables -t nat -A OUTPUT -p tcp -d 10.145.216.195 --dport 8000 -j DNAT --to-destination 127.0.0.1:8000 on test-f3blw4zw-0-n-ff59ca101ef5
07:29:20 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.141', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:6a:6e:08'}]])
07:29:21 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-f3blw4zw-0-n-ff59ca101ef5.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.141 sudo iptables -t nat -A OUTPUT -p tcp -d 10.145.216.195 --dport 8000 -j DNAT --to-destination 127.0.0.1:8000'
07:29:23 INFO Run command 'sudo iptables -t nat -A OUTPUT -p tcp -d 10.145.216.195 --dport 8000 -j DNAT --to-destination 127.0.0.1:8000' in runner with result 0: 'None' 'None'
07:29:23 INFO [TEST SETUP] Exposing port 8000 on test-f3blw4zw-0-n-ff59ca101ef5
07:29:23 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.141', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:6a:6e:08'}]])
07:29:24 INFO ssh tunnel command ssh -fNT -R 8000:10.145.216.195:8000 -i /home/runner-manager/.ssh/test-f3blw4zw-0-n-ff59ca101ef5.key -o "StrictHostKeyChecking no" -o "ControlPersist yes" ubuntu@10.145.193.141 &
07:29:25 INFO ssh tunnel result 0 None None
07:29:26 INFO [TEST SETUP] Run command nc -z localhost 8000 on test-f3blw4zw-0-n-ff59ca101ef5
07:29:26 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.141', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:6a:6e:08'}]])
07:29:27 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-f3blw4zw-0-n-ff59ca101ef5.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.141 nc -z localhost 8000'
07:29:28 INFO 10.46.180.73 - - [24/Sep/2025 07:29:28] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:29:28 INFO Run command 'nc -z localhost 8000' in runner with result 0: 'None' 'Connection to localhost (127.0.0.1) 8000 port [tcp/*] succeeded!
'
07:29:28 INFO prepared tunnel for builder agent
07:29:28 INFO Waiting for builder-agent to contact us.
07:29:33 INFO 10.46.180.73 - - [24/Sep/2025 07:29:33] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:29:33 INFO server log after executing: [(<Request 'http://10.145.216.195:8000/v1/runners/register' [POST]>, <Response 40 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>)] 
07:29:33 INFO handler health <RequestHandler uri='/v1/runners/1234/health' method='GET' query_string=None headers={'Authorization': 'Bearer e0bdb7f126194c2a'} data=None json=<UNDEFINED>>
07:29:33 INFO [TEST SETUP] Run command 'curl http://127.0.0.1:8080/execute -X POST --header "Content-Type: application/json" --data "{\"commands\":[\"sleep 30\"]}"' on test-f3blw4zw-0-n-ff59ca101ef5
07:29:33 WARNING dict_values([[{'version': 4, 'addr': '10.145.193.141', 'OS-EXT-IPS:type': 'fixed', 'OS-EXT-IPS-MAC:mac_addr': 'fa:16:3e:6a:6e:08'}]])
07:29:34 WARNING ssh_cmd: su - ubuntu -c 'ssh -i /home/runner-manager/.ssh/test-f3blw4zw-0-n-ff59ca101ef5.key -o "StrictHostKeyChecking no" ubuntu@10.145.193.141 'curl http://127.0.0.1:8080/execute -X POST --header "Content-Type: application/json" --data "{\"commands\":[\"sleep 30\"]}"''
07:29:35 INFO Run command ''curl http://127.0.0.1:8080/execute -X POST --header "Content-Type: application/json" --data "{\"commands\":[\"sleep 30\"]}"'' in runner with result 0: 'Execution started' '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0100    42  100    17  100    25  15610  22956 --:--:-- --:--:-- --:--:-- 42000
'
07:29:35 INFO Waiting for builder-agent to contact us.
07:29:38 INFO 10.46.180.73 - - [24/Sep/2025 07:29:38] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:29:43 INFO 10.46.180.73 - - [24/Sep/2025 07:29:43] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:29:48 INFO 10.46.180.73 - - [24/Sep/2025 07:29:48] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:29:53 INFO 10.46.180.73 - - [24/Sep/2025 07:29:53] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:29:58 INFO 10.46.180.73 - - [24/Sep/2025 07:29:58] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:03 INFO 10.46.180.73 - - [24/Sep/2025 07:30:03] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:08 INFO 10.46.180.73 - - [24/Sep/2025 07:30:08] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:08 INFO server log after executing: [(<Request 'http://10.145.216.195:8000/v1/runners/register' [POST]>, <Response 40 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [GET]>, <Response 140 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>), (<Request 'http://10.145.216.195:8000/v1/runners/1234/health' [PUT]>, <Response 2 bytes [200 OK]>)] 
07:30:08 INFO First reconcile that should not delete the runner, as it is still healthy.
07:30:08 INFO Waiting for model:
  test-f3blw4zw/0 [idle] active: 
07:30:13 INFO 10.46.180.73 - - [24/Sep/2025 07:30:13] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:13 INFO 10.46.180.73 - - [24/Sep/2025 07:30:13] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:30:16 INFO 10.46.180.73 - - [24/Sep/2025 07:30:16] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:30:17 INFO 10.46.180.73 - - [24/Sep/2025 07:30:17] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:30:18 INFO 10.46.180.73 - - [24/Sep/2025 07:30:18] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:23 INFO 10.46.180.73 - - [24/Sep/2025 07:30:23] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:28 INFO 10.46.180.73 - - [24/Sep/2025 07:30:28] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:33 INFO 10.46.180.73 - - [24/Sep/2025 07:30:33] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:38 INFO 10.46.180.73 - - [24/Sep/2025 07:30:38] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:38 INFO Waiting for model:
  test-f3blw4zw/0 [idle] active: 
07:30:42 INFO Current reconcile ID: 8fde1638-a8b7-428d-b016-4ad5dbe4c42d
07:30:42 INFO Waiting for reconcile ID: 8fde1638-a8b7-428d-b016-4ad5dbe4c42d
07:30:43 INFO 10.46.180.73 - - [24/Sep/2025 07:30:43] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:48 INFO 10.46.180.73 - - [24/Sep/2025 07:30:48] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:53 INFO 10.46.180.73 - - [24/Sep/2025 07:30:53] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:30:58 INFO 10.46.180.73 - - [24/Sep/2025 07:30:58] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:03 INFO 10.46.180.73 - - [24/Sep/2025 07:31:03] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:08 INFO 10.46.180.73 - - [24/Sep/2025 07:31:08] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:13 INFO 10.46.180.73 - - [24/Sep/2025 07:31:13] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:18 INFO 10.46.180.73 - - [24/Sep/2025 07:31:18] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:23 INFO 10.46.180.73 - - [24/Sep/2025 07:31:23] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:28 INFO 10.46.180.73 - - [24/Sep/2025 07:31:28] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:33 INFO 10.46.180.73 - - [24/Sep/2025 07:31:33] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:38 INFO 10.46.180.73 - - [24/Sep/2025 07:31:38] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:43 INFO 10.46.180.73 - - [24/Sep/2025 07:31:43] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:43 INFO Current reconcile ID: 8fde1638-a8b7-428d-b016-4ad5dbe4c42d
07:31:43 INFO Current reconcile ID: 8fde1638-a8b7-428d-b016-4ad5dbe4c42d, expected reconcile ID: 8fde1638-a8b7-428d-b016-4ad5dbe4c42d
07:31:43 INFO Waiting for reconcile ID: 8fde1638-a8b7-428d-b016-4ad5dbe4c42d
07:31:48 INFO 10.46.180.73 - - [24/Sep/2025 07:31:48] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:53 INFO 10.46.180.73 - - [24/Sep/2025 07:31:53] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:31:58 INFO 10.46.180.73 - - [24/Sep/2025 07:31:58] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:03 INFO 10.46.180.73 - - [24/Sep/2025 07:32:03] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:08 INFO 10.46.180.73 - - [24/Sep/2025 07:32:08] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:13 INFO 10.46.180.73 - - [24/Sep/2025 07:32:13] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:18 INFO 10.46.180.73 - - [24/Sep/2025 07:32:18] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:23 INFO 10.46.180.73 - - [24/Sep/2025 07:32:23] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:28 INFO 10.46.180.73 - - [24/Sep/2025 07:32:28] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:33 INFO 10.46.180.73 - - [24/Sep/2025 07:32:33] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:38 INFO 10.46.180.73 - - [24/Sep/2025 07:32:38] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:43 INFO 10.46.180.73 - - [24/Sep/2025 07:32:43] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:44 INFO Current reconcile ID: 8fde1638-a8b7-428d-b016-4ad5dbe4c42d
07:32:44 INFO Current reconcile ID: 8fde1638-a8b7-428d-b016-4ad5dbe4c42d, expected reconcile ID: 8fde1638-a8b7-428d-b016-4ad5dbe4c42d
07:32:44 INFO Waiting for reconcile ID: 8fde1638-a8b7-428d-b016-4ad5dbe4c42d
07:32:48 INFO 10.46.180.73 - - [24/Sep/2025 07:32:48] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:53 INFO 10.46.180.73 - - [24/Sep/2025 07:32:53] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:32:58 INFO 10.46.180.73 - - [24/Sep/2025 07:32:58] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:03 INFO 10.46.180.73 - - [24/Sep/2025 07:33:03] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:08 INFO 10.46.180.73 - - [24/Sep/2025 07:33:08] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:13 INFO 10.46.180.73 - - [24/Sep/2025 07:33:13] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:18 INFO 10.46.180.73 - - [24/Sep/2025 07:33:18] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:19 INFO 10.46.180.73 - - [24/Sep/2025 07:33:19] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:33:22 INFO 10.46.180.73 - - [24/Sep/2025 07:33:22] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:33:23 INFO 10.46.180.73 - - [24/Sep/2025 07:33:23] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:33:23 INFO 10.46.180.73 - - [24/Sep/2025 07:33:23] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:28 INFO 10.46.180.73 - - [24/Sep/2025 07:33:28] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:33 INFO 10.46.180.73 - - [24/Sep/2025 07:33:33] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:38 INFO 10.46.180.73 - - [24/Sep/2025 07:33:38] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:43 INFO 10.46.180.73 - - [24/Sep/2025 07:33:43] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:45 INFO Current reconcile ID: 13358799-294d-43dc-98dc-c51dc385a743
07:33:45 INFO Current reconcile ID: 13358799-294d-43dc-98dc-c51dc385a743, expected reconcile ID: 8fde1638-a8b7-428d-b016-4ad5dbe4c42d
07:33:48 INFO 10.46.180.73 - - [24/Sep/2025 07:33:48] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:33:48 INFO 10.46.180.73 - - [24/Sep/2025 07:33:48] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:52 INFO 10.46.180.73 - - [24/Sep/2025 07:33:52] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:33:52 INFO check-runners: {'busy': '1', 'busy-runners': "('test-f3blw4zw-0-n-ff59ca101ef5',)", 'offline': '0', 'online': '1', 'return-code': 0, 'runners': "('test-f3blw4zw-0-n-ff59ca101ef5',)", 'unknown': '0'}
07:33:52 INFO handler health <RequestHandler uri='/v1/runners/1234/health' method='GET' query_string=None headers={'Authorization': 'Bearer e0bdb7f126194c2a'} data=None json=<UNDEFINED>>
07:33:52 INFO Waiting for model:
  test-f3blw4zw/0 [idle] active: 
07:33:53 INFO 10.46.180.73 - - [24/Sep/2025 07:33:53] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:33:56 INFO 10.46.180.73 - - [24/Sep/2025 07:33:56] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:33:58 INFO 10.46.180.73 - - [24/Sep/2025 07:33:58] "PUT /v1/runners/1234/health HTTP/1.1" 200 -
07:34:02 INFO 10.46.180.73 - - [24/Sep/2025 07:34:02] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:34:03 INFO 10.46.180.73 - - [24/Sep/2025 07:34:03] "GET /v1/runners/1234/health HTTP/1.1" 200 -
07:34:23 INFO Waiting for model:
  test-f3blw4zw/0 [idle] active: 
07:34:26 INFO Current reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:34:26 INFO Waiting for reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:35:27 INFO Current reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:35:27 INFO Current reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d, expected reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:35:27 INFO Waiting for reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:36:28 INFO Current reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:36:28 INFO Current reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d, expected reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:36:28 INFO Waiting for reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:37:29 INFO Current reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:37:29 INFO Current reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d, expected reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:37:29 INFO Waiting for reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:38:07 INFO 10.46.180.73 - - [24/Sep/2025 07:38:07] "[35m[1mPOST /v1/runners/register HTTP/1.1[0m" 500 -
07:38:30 INFO Current reconcile ID: 708bb47b-f13b-470c-bb8e-bb39c08259dc
07:38:30 INFO Current reconcile ID: 708bb47b-f13b-470c-bb8e-bb39c08259dc, expected reconcile ID: 16676e47-ac27-4a18-9bb1-ef462a655e1d
07:38:34 INFO check-runners: {'busy': '0', 'busy-runners': '()', 'offline': '0', 'online': '0', 'return-code': 0, 'runners': '()', 'unknown': '0'}
07:38:34 INFO Waiting for model:
  test-f3blw4zw/0 [idle] active: 
07:39:04 INFO Waiting for model:
  test-f3blw4zw/0 [idle] active: 
07:39:07 INFO Current reconcile ID: 6730c226-a157-4eb9-bd91-ee4c0d25ee22
07:39:07 INFO Waiting for reconcile ID: 6730c226-a157-4eb9-bd91-ee4c0d25ee22
07:40:08 INFO Current reconcile ID: 6730c226-a157-4eb9-bd91-ee4c0d25ee22
07:40:08 INFO Current reconcile ID: 6730c226-a157-4eb9-bd91-ee4c0d25ee22, expected reconcile ID: 6730c226-a157-4eb9-bd91-ee4c0d25ee22
07:40:08 INFO Waiting for reconcile ID: 6730c226-a157-4eb9-bd91-ee4c0d25ee22
07:41:09 INFO Current reconcile ID: 4bf887aa-12b6-49ff-8fd9-890d16c2ae83
07:41:09 INFO Current reconcile ID: 4bf887aa-12b6-49ff-8fd9-890d16c2ae83, expected reconcile ID: 6730c226-a157-4eb9-bd91-ee4c0d25ee22
07:41:12 INFO Model status:

Model                            Controller           Cloud/Region         Version  SLA          Timestamp
test-jobmanager-prespawned-qtdb  github-pr-77d1e-lxd  localhost/localhost  3.6.10   unsupported  07:41:12Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-f3blw4zw           active      1  github-runner-image-builder  latest/edge  121  no       
test-f3blw4zw                                  active      1  github-runner                               0  no       

Unit                                     Workload  Agent  Machine  Public address  Ports  Message
github-runner-image-builder-f3blw4zw/0*  active    idle   0        10.46.180.146          
test-f3blw4zw/0*                         active    idle   1        10.46.180.73           

Machine  State    Address        Inst id        Base          AZ             Message
0        started  10.46.180.146  juju-78880a-0  ubuntu@22.04  github-runner  Running
1        started  10.46.180.73   juju-78880a-1  ubuntu@22.04  github-runner  Running

07:41:13 INFO Juju error logs:

machine-0: 07:06:03 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 07:06:03 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 07:06:03 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 07:06:03 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-f3blw4zw-0: 07:06:50 ERROR unit.github-runner-image-builder-f3blw4zw/0.juju-log Pipx command failed, code: 1, out: None, err: None
unit-test-f3blw4zw-0: 07:07:20 ERROR unit.test-f3blw4zw/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-f3blw4zw-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-f3blw4zw-0/charm/./src/charm.py", line 342, in _on_config_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-f3blw4zw-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-f3blw4zw-0: 07:07:22 ERROR unit.test-f3blw4zw/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-f3blw4zw-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-f3blw4zw-0/charm/./src/charm.py", line 313, in _on_start
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-f3blw4zw-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-f3blw4zw-0: 07:08:40 ERROR unit.test-f3blw4zw/0.juju-log image:0: Missing image in image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-f3blw4zw-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-f3blw4zw-0/charm/./src/charm.py", line 477, in _on_image_relation_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-f3blw4zw-0/charm/./src/charm.py", line 514, in _check_image_ready
    raise ImageNotFoundError("No image found in the image integration")
errors.ImageNotFoundError: No image found in the image integration

07:41:13 INFO Forgetting model main...