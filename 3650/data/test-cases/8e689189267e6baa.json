{"uid":"8e689189267e6baa","name":"test_prometheus_metrics","fullName":"tests.integration.test_prometheus_metrics#test_prometheus_metrics","historyId":"8ad402f8a81c79aa3fa21a6fb8e0f79a","time":{"start":1758696635096,"stop":1758697115168,"duration":480072},"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","descriptionHtml":"<pre><code>arrange: given a prometheus charm application.\nact: when GitHub runner is integrated.\nassert: the datasource is registered and basic metrics are available.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"pytestconfig","time":{"start":1758695350658,"stop":1758695350658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1758695350658,"stop":1758695350658,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1758695350659,"stop":1758695350659,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju","time":{"start":1758695350659,"stop":1758695351147,"duration":488},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"prometheus_app","time":{"start":1758695351147,"stop":1758695387557,"duration":36410},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_app","time":{"start":1758695387557,"stop":1758695500144,"duration":112587},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"traefik_ingress","time":{"start":1758695500145,"stop":1758695503308,"duration":3163},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1758695503308,"stop":1758695504508,"duration":1200},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1758695504508,"stop":1758695504508,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1758695504509,"stop":1758695504521,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1758695504509,"stop":1758695504509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1758695504509,"stop":1758695504509,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1758695504521,"stop":1758695504559,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1758695504559,"stop":1758695504559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1758695504559,"stop":1758695504559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1758695504560,"stop":1758695504560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1758695504560,"stop":1758695504560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1758695504560,"stop":1758695504560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1758695504560,"stop":1758695504560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1758695504560,"stop":1758695504560,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1758695504561,"stop":1758695504561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1758695504561,"stop":1758695504561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1758695504561,"stop":1758695504562,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1758695504562,"stop":1758695504562,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1758695504562,"stop":1758695504563,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1758695504563,"stop":1758695504564,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1758695504563,"stop":1758695504563,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1758695504563,"stop":1758695504563,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1758695504563,"stop":1758695504563,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1758695504564,"stop":1758695504576,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1758695504564,"stop":1758695504564,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1758695504577,"stop":1758695504618,"duration":41},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1758695504618,"stop":1758695509662,"duration":5044},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1758695509662,"stop":1758696621407,"duration":1111745},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_app_cos_agent","time":{"start":1758696621407,"stop":1758696628444,"duration":7037},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_password","time":{"start":1758696628444,"stop":1758696632269,"duration":3825},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1758696632270,"stop":1758696632751,"duration":481},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1758696632751,"stop":1758696633331,"duration":580},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1758696633331,"stop":1758696635094,"duration":1763},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1758696635094,"stop":1758696635094,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1758696635095,"stop":1758696635095,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","status":"passed","steps":[],"attachments":[{"uid":"c7dcd088cf3c7718","name":"log","source":"c7dcd088cf3c7718.txt","type":"text/plain","size":69360}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1758697115170,"stop":1758697115170,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1758697115170,"stop":1758697115759,"duration":589},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1758697115761,"stop":1758697115761,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1758697115762,"stop":1758697116245,"duration":483},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1758697116245,"stop":1758697116377,"duration":132},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::finalizer","time":{"start":1758697116384,"stop":1758697116384,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1758697116386,"stop":1758697117051,"duration":665},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju::0","time":{"start":1758697117052,"stop":1758697117052,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1758697117053,"stop":1758697117053,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1758697117053,"stop":1758697117053,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1758697117053,"stop":1758697117053,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"openstack"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_prometheus_metrics"},{"name":"host","value":"github-runner"},{"name":"thread","value":"29519-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_prometheus_metrics"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ec3d62d86fe6c9c0","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":19,"skipped":0,"passed":77,"unknown":4,"total":100},"items":[{"uid":"c77bda0f1f9b61b2","reportUrl":"../3647//#testresult/c77bda0f1f9b61b2","status":"passed","time":{"start":1758655326756,"stop":1758655803048,"duration":476292}},{"uid":"cf6717b8543312f","reportUrl":"../3643//#testresult/cf6717b8543312f","status":"passed","time":{"start":1758612281382,"stop":1758612769199,"duration":487817}},{"uid":"423671fa9b8d06e3","reportUrl":"../3640//#testresult/423671fa9b8d06e3","status":"passed","time":{"start":1758568833268,"stop":1758569305958,"duration":472690}},{"uid":"ad022374032a8b5d","reportUrl":"../3635//#testresult/ad022374032a8b5d","status":"passed","time":{"start":1758525458347,"stop":1758525944695,"duration":486348}},{"uid":"a3896e65d8fe2e83","reportUrl":"../3634//#testresult/a3896e65d8fe2e83","status":"passed","time":{"start":1758482331767,"stop":1758482839753,"duration":507986}},{"uid":"8ac8fee00a08b582","reportUrl":"../3633//#testresult/8ac8fee00a08b582","status":"passed","time":{"start":1758438882283,"stop":1758439385696,"duration":503413}},{"uid":"b847b516118b6a97","reportUrl":"../3632//#testresult/b847b516118b6a97","status":"passed","time":{"start":1758395786336,"stop":1758396285372,"duration":499036}},{"uid":"6d58bcd1abd14928","reportUrl":"../3631//#testresult/6d58bcd1abd14928","status":"passed","time":{"start":1758353220222,"stop":1758353708161,"duration":487939}},{"uid":"9abad2c03e080f34","reportUrl":"../3630//#testresult/9abad2c03e080f34","status":"passed","time":{"start":1758307908214,"stop":1758308394288,"duration":486074}},{"uid":"6a77f14f154d380a","reportUrl":"../3629//#testresult/6a77f14f154d380a","status":"passed","time":{"start":1758266520119,"stop":1758267071368,"duration":551249}},{"uid":"ac50f620a518b067","reportUrl":"../3625//#testresult/ac50f620a518b067","status":"passed","time":{"start":1758178124955,"stop":1758178670017,"duration":545062}},{"uid":"7a05c8a7fc1a9e92","reportUrl":"../3624//#testresult/7a05c8a7fc1a9e92","status":"passed","time":{"start":1758137598661,"stop":1758138082507,"duration":483846}},{"uid":"4bd450bf77fe6d7","reportUrl":"../3603//#testresult/4bd450bf77fe6d7","status":"passed","time":{"start":1758094229640,"stop":1758094719131,"duration":489491}},{"uid":"53e495c896911cf0","reportUrl":"../3598//#testresult/53e495c896911cf0","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-uoaerpxt/0","time":{"start":1758047973942,"stop":1758047973942,"duration":0}},{"uid":"1c0715dea8eff45e","reportUrl":"../3594//#testresult/1c0715dea8eff45e","status":"passed","time":{"start":1757920960578,"stop":1757921513859,"duration":553281}},{"uid":"4a08b08a09ceaa44","reportUrl":"../3588//#testresult/4a08b08a09ceaa44","status":"passed","time":{"start":1757875561758,"stop":1757876046463,"duration":484705}},{"uid":"37f2bc99e3ac4f66","reportUrl":"../3587//#testresult/37f2bc99e3ac4f66","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-gmow5cjv/0 [idle] waiting: Waiting for image over integration.\n  github-runner-image-builder-gmow5cjv/0 [executing] active: Building image.","time":{"start":1757831366804,"stop":1757831366804,"duration":0}},{"uid":"7ab4bd3d70606800","reportUrl":"../3586//#testresult/7ab4bd3d70606800","status":"passed","time":{"start":1757789649469,"stop":1757790140756,"duration":491287}},{"uid":"97e39139a65de730","reportUrl":"../3584//#testresult/97e39139a65de730","status":"passed","time":{"start":1757748292720,"stop":1757748739603,"duration":446883}},{"uid":"9199378205429259","reportUrl":"../3581//#testresult/9199378205429259","status":"passed","time":{"start":1757702925758,"stop":1757703492799,"duration":567041}}]},"tags":["asyncio","openstack"]},"source":"8e689189267e6baa.json","parameterValues":[]}