{"uid":"77c98d14a2338002","name":"test_reactive_mode_scale_down","fullName":"tests.integration.test_reactive#test_reactive_mode_scale_down","historyId":"bb6817de59a8aff167470484d2d33ee6","time":{"start":1743147564949,"stop":1743148605846,"duration":1040897},"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","descriptionHtml":"<pre><code>arrange: Scale down the number of virtual machines to 2 and spawn a job.\nact:\n    1. Scale down the number of virtual machines to 0 and call reconcile.\n    2. Spawn a job.\nassert:\n    1. The job fails.\n    2. The job is queued and there is a message in the queue.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"pytestconfig","time":{"start":1743145985775,"stop":1743145985775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1743145985775,"stop":1743145985775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1743145985775,"stop":1743145985775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1743145985776,"stop":1743145986225,"duration":449},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1743145986226,"stop":1743145986226,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1743145986226,"stop":1743145986613,"duration":387},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1743145986613,"stop":1743145986613,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1743145986613,"stop":1743145987376,"duration":763},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1743145987376,"stop":1743145989780,"duration":2404},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1743145989781,"stop":1743145989781,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1743145989781,"stop":1743145989781,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1743145989781,"stop":1743145989781,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1743145989781,"stop":1743145989781,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1743145989781,"stop":1743145989781,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1743145989782,"stop":1743145989782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1743145989782,"stop":1743145989782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1743145989782,"stop":1743145989782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1743145989782,"stop":1743145989782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1743145989782,"stop":1743145989783,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1743145989782,"stop":1743145989782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1743145989782,"stop":1743145989782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1743145989782,"stop":1743145989782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1743145989783,"stop":1743145989783,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1743145989783,"stop":1743145989783,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1743145989783,"stop":1743145989793,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1743145989793,"stop":1743145989827,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1743145989828,"stop":1743146191274,"duration":201446},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1743146191275,"stop":1743146852167,"duration":660892},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mongodb","time":{"start":1743146852167,"stop":1743146962921,"duration":110754},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_reactive","time":{"start":1743146962922,"stop":1743147011763,"duration":48841},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1743147495677,"stop":1743147564948,"duration":69271},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1743147495677,"stop":1743147495677,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","status":"passed","steps":[],"attachments":[{"uid":"ef0ff938dc60ec41","name":"log","source":"ef0ff938dc60ec41.txt","type":"text/plain","size":7228}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1743148605846,"stop":1743148642203,"duration":36357},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1743148642203,"stop":1743148642203,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1743148642205,"stop":1743148642602,"duration":397},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1743148642602,"stop":1743148644346,"duration":1744},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1743148644351,"stop":1743148644820,"duration":469},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1743148644821,"stop":1743148645163,"duration":342},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1743148645164,"stop":1743148645164,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1743148645164,"stop":1743148645164,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1743148645164,"stop":1743148645165,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_reactive"},{"name":"host","value":"github-runner"},{"name":"thread","value":"14030-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_reactive"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"1448a293b4eac213","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":2,"broken":21,"skipped":2,"passed":16,"unknown":11,"total":52},"items":[{"uid":"50f2b7f63ea6a67c","reportUrl":"../2224//#testresult/50f2b7f63ea6a67c","status":"passed","time":{"start":1743103705014,"stop":1743104777924,"duration":1072910}},{"uid":"d0611c26fc407807","reportUrl":"../2219//#testresult/d0611c26fc407807","status":"passed","time":{"start":1743067829214,"stop":1743068750444,"duration":921230}},{"uid":"227d0563a3c0bf62","reportUrl":"../2216//#testresult/227d0563a3c0bf62","status":"passed","time":{"start":1743020990257,"stop":1743021875319,"duration":885062}},{"uid":"2b58160cb9048c4a","reportUrl":"../2205//#testresult/2b58160cb9048c4a","status":"passed","time":{"start":1742974214165,"stop":1742975398387,"duration":1184222}},{"uid":"218b06cf2568f23e","reportUrl":"../2202//#testresult/218b06cf2568f23e","status":"passed","time":{"start":1742928932276,"stop":1742929894043,"duration":961767}},{"uid":"c14b72ba9a91e6e9","reportUrl":"../2196//#testresult/c14b72ba9a91e6e9","status":"passed","time":{"start":1742889849309,"stop":1742890870344,"duration":1021035}},{"uid":"5feabf98200008a5","reportUrl":"../2182//#testresult/5feabf98200008a5","status":"passed","time":{"start":1742800870332,"stop":1742801755600,"duration":885268}},{"uid":"f3dddec4b1b3631f","reportUrl":"../2179//#testresult/f3dddec4b1b3631f","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:o2G2wf3zLEeu1IAUUnLoohkNlus85QUe@10.17.220.142:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-qze73uhc')","time":{"start":1742755997574,"stop":1742756952513,"duration":954939}},{"uid":"1f8cc6271dd8b095","reportUrl":"../2178//#testresult/1f8cc6271dd8b095","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:2mNaWu4AwlrlxUT00ABVRdfCKBx1meBK@10.119.79.6:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-qvpolipv')","time":{"start":1742712878197,"stop":1742713813941,"duration":935744}},{"uid":"3cdc20da143ea3cf","reportUrl":"../2177//#testresult/3cdc20da143ea3cf","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1742670915176,"stop":1742670915176,"duration":0}},{"uid":"7a8afe73da658fc7","reportUrl":"../2176//#testresult/7a8afe73da658fc7","status":"passed","time":{"start":1742628048237,"stop":1742628942214,"duration":893977}},{"uid":"8e0673d7a75fc448","reportUrl":"../2175//#testresult/8e0673d7a75fc448","status":"passed","time":{"start":1742584638726,"stop":1742585503569,"duration":864843}},{"uid":"30a2353009df8390","reportUrl":"../2165//#testresult/30a2353009df8390","status":"passed","time":{"start":1742544950360,"stop":1742546091071,"duration":1140711}},{"uid":"62a7e558cc89072b","reportUrl":"../2156//#testresult/62a7e558cc89072b","status":"passed","time":{"start":1742496958111,"stop":1742497841954,"duration":883843}},{"uid":"9dacb44566668111","reportUrl":"../1727//#testresult/9dacb44566668111","status":"unknown","time":{}},{"uid":"abd1072c8eeb1407","reportUrl":"../1724//#testresult/abd1072c8eeb1407","status":"broken","statusDetails":"TimeoutError","time":{"start":1736672208116,"stop":1736672582087,"duration":373971}},{"uid":"c12ca5368b0abb04","reportUrl":"../1723//#testresult/c12ca5368b0abb04","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1736632052629,"stop":1736632052629,"duration":0}},{"uid":"5511a577867ade50","reportUrl":"../1722//#testresult/5511a577867ade50","status":"unknown","time":{}},{"uid":"2c5a18be1720a56","reportUrl":"../1718//#testresult/2c5a18be1720a56","status":"unknown","time":{}},{"uid":"cf2dfa72f84571bc","reportUrl":"../1717//#testresult/cf2dfa72f84571bc","status":"unknown","time":{}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"77c98d14a2338002.json","parameterValues":[]}