{"uid":"388337c69ce9b8c1","name":"test_reactive_mode_scale_down","fullName":"tests.integration.test_reactive#test_reactive_mode_scale_down","historyId":"bb6817de59a8aff167470484d2d33ee6","time":{"start":1771485513151,"stop":1771486702456,"duration":1189305},"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","descriptionHtml":"<pre><code>arrange: Scale down the number of virtual machines to 2 and spawn a job.\nact:\n    1. Scale down the number of virtual machines to 0 and call reconcile.\n    2. Spawn a job.\nassert:\n    1. The job fails.\n    2. The job is queued and there is a message in the queue.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1771483694792,"stop":1771483694793,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1771483694793,"stop":1771483695152,"duration":359},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1771483694793,"stop":1771483694793,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1771483694793,"stop":1771483694793,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1771483695152,"stop":1771483695152,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1771483695152,"stop":1771483695409,"duration":257},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1771483695409,"stop":1771483695969,"duration":560},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1771483695970,"stop":1771483697598,"duration":1628},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1771483697598,"stop":1771483697598,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1771483697598,"stop":1771483697605,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mongodb","time":{"start":1771483697605,"stop":1771483699701,"duration":2096},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1771483697605,"stop":1771483697605,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"deployment_context","time":{"start":1771483699701,"stop":1771483699701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cli_base_option","time":{"start":1771483699701,"stop":1771483699701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"selected_artifact","time":{"start":1771483699701,"stop":1771483699701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1771483699701,"stop":1771483699713,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1771483699701,"stop":1771483699701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1771483699701,"stop":1771483699701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifact_catalog","time":{"start":1771483699701,"stop":1771483699701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"available_charm_files","time":{"start":1771483699701,"stop":1771483699701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1771483699701,"stop":1771483699701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1771483699701,"stop":1771483699701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1771483699701,"stop":1771483699701,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1771483699713,"stop":1771483703824,"duration":4111},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1771483703824,"stop":1771483906716,"duration":202892},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1771483703824,"stop":1771483703824,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_reactive","time":{"start":1771483906716,"stop":1771483945480,"duration":38764},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1771485356737,"stop":1771485356737,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1771485356737,"stop":1771485513151,"duration":156414},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","status":"passed","steps":[],"attachments":[{"uid":"70ed38af99074908","name":"log","source":"70ed38af99074908.txt","type":"text/plain","size":8938}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1771486702456,"stop":1771486840753,"duration":138297},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1771486840754,"stop":1771486840754,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1771486840754,"stop":1771486840754,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1771486840755,"stop":1771486841122,"duration":367},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1771486840755,"stop":1771486840755,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1771486841125,"stop":1771486841550,"duration":425},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1771486841551,"stop":1771486841846,"duration":295},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1771486841847,"stop":1771486841847,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1771486841847,"stop":1771486841847,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1771486841847,"stop":1771486841847,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_reactive"},{"name":"host","value":"github-runner"},{"name":"thread","value":"10893-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_reactive"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"1d8a74a692ed6378","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":58,"broken":145,"skipped":61,"passed":225,"unknown":39,"total":528},"items":[{"uid":"a57712d8ff129d7c","reportUrl":"../5052//#testresult/a57712d8ff129d7c","status":"unknown","time":{}},{"uid":"28058f5834442b76","reportUrl":"../5046//#testresult/28058f5834442b76","status":"unknown","time":{}},{"uid":"4316e1e18bba79e6","reportUrl":"../5045//#testresult/4316e1e18bba79e6","status":"failed","statusDetails":"AssertionError: Queue test-es27ko1l expected: 0, received: 1","time":{"start":1771355868435,"stop":1771356901761,"duration":1033326}},{"uid":"f3a0403af23bece0","reportUrl":"../5040//#testresult/f3a0403af23bece0","status":"failed","statusDetails":"AssertionError: Queue test-nqjhvn4l expected: 0, received: 1","time":{"start":1771312659395,"stop":1771313716562,"duration":1057167}},{"uid":"9ad2e74e6ad8d4dc","reportUrl":"../5037//#testresult/9ad2e74e6ad8d4dc","status":"unknown","time":{}},{"uid":"129338874ae42458","reportUrl":"../5025//#testresult/129338874ae42458","status":"unknown","time":{}},{"uid":"1191c622d88fe0b4","reportUrl":"../5024//#testresult/1191c622d88fe0b4","status":"unknown","time":{}},{"uid":"ec772f6a1f076d6f","reportUrl":"../5023//#testresult/ec772f6a1f076d6f","status":"unknown","time":{}},{"uid":"7724f94833c163e2","reportUrl":"../5021//#testresult/7724f94833c163e2","status":"unknown","time":{}},{"uid":"e5e73f1b62f24287","reportUrl":"../5020//#testresult/e5e73f1b62f24287","status":"unknown","time":{}},{"uid":"c786254a749b5afc","reportUrl":"../5016//#testresult/c786254a749b5afc","status":"failed","statusDetails":"AssertionError: Queue test-jp3gg6cg expected: 0, received: 1","time":{"start":1770967272709,"stop":1770968354877,"duration":1082168}},{"uid":"89b20ea2a45caf82","reportUrl":"../5013//#testresult/89b20ea2a45caf82","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1770922498067,"stop":1770922498067,"duration":0}},{"uid":"1db3c1cf5e2cf200","reportUrl":"../5003//#testresult/1db3c1cf5e2cf200","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1770879253034,"stop":1770879253034,"duration":0}},{"uid":"727e567cd07c2999","reportUrl":"../5000//#testresult/727e567cd07c2999","status":"unknown","time":{}},{"uid":"df6393d01cc03a63","reportUrl":"../4983//#testresult/df6393d01cc03a63","status":"passed","time":{"start":1770794316007,"stop":1770795546077,"duration":1230070}},{"uid":"692257b45ab72491","reportUrl":"../4974//#testresult/692257b45ab72491","status":"unknown","time":{}},{"uid":"dc5eeedf584aa7cc","reportUrl":"../4953//#testresult/dc5eeedf584aa7cc","status":"unknown","time":{}},{"uid":"26a7b201da3310a8","reportUrl":"../4951//#testresult/26a7b201da3310a8","status":"unknown","time":{}},{"uid":"6e376d557aad6ed0","reportUrl":"../4942//#testresult/6e376d557aad6ed0","status":"unknown","time":{}},{"uid":"903973c880a9410c","reportUrl":"../4931//#testresult/903973c880a9410c","status":"unknown","time":{}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"388337c69ce9b8c1.json","parameterValues":[]}