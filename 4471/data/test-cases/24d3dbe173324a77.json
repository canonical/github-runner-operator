{"uid":"24d3dbe173324a77","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1766254900290,"stop":1766255248734,"duration":348444},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1766254673854,"stop":1766254674237,"duration":383},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1766254673854,"stop":1766254673854,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1766254673854,"stop":1766254673854,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1766254673854,"stop":1766254673854,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1766254674238,"stop":1766254674245,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1766254674238,"stop":1766254674238,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1766254674245,"stop":1766254674245,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1766254674245,"stop":1766254674245,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1766254674245,"stop":1766254674245,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1766254674245,"stop":1766254887771,"duration":213526},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1766254674245,"stop":1766254674245,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1766254674245,"stop":1766254674245,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1766254674245,"stop":1766254674245,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1766254674246,"stop":1766254674246,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1766254674246,"stop":1766254674246,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1766254674246,"stop":1766254674258,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1766254674258,"stop":1766254676983,"duration":2725},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1766254676983,"stop":1766254887771,"duration":210788},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1766254676983,"stop":1766254676983,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1766254887771,"stop":1766254887998,"duration":227},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1766254887999,"stop":1766254888534,"duration":535},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1766254888534,"stop":1766254899095,"duration":10561},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1766254899095,"stop":1766254899104,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1766254899104,"stop":1766254900289,"duration":1185},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1766254900289,"stop":1766254900289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1766254900289,"stop":1766254900289,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"ddc28a4d8ecf1899","name":"log","source":"ddc28a4d8ecf1899.txt","type":"text/plain","size":7648}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"forked_github_branch::0","time":{"start":1766255248735,"stop":1766255249019,"duration":284},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1766255248735,"stop":1766255248735,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1766255249020,"stop":1766255249020,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1766255249020,"stop":1766255249021,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1766255249021,"stop":1766255249140,"duration":119},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1766255249142,"stop":1766255249451,"duration":309},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1766255249451,"stop":1766255249451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1766255249451,"stop":1766255249451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1766255249451,"stop":1766255249451,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"11196-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a5280291324036d5","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":37,"broken":141,"skipped":0,"passed":218,"unknown":18,"total":414},"items":[{"uid":"2f1c9af2d6dd29f7","reportUrl":"../4463//#testresult/2f1c9af2d6dd29f7","status":"passed","time":{"start":1766211741839,"stop":1766212022164,"duration":280325}},{"uid":"8c55fc45e770879e","reportUrl":"../4462//#testresult/8c55fc45e770879e","status":"passed","time":{"start":1766168535177,"stop":1766168817613,"duration":282436}},{"uid":"4ca859b95f5f3613","reportUrl":"../4458//#testresult/4ca859b95f5f3613","status":"failed","statusDetails":"AssertionError: Failed to create workflow","time":{"start":1766125562647,"stop":1766126053859,"duration":491212}},{"uid":"cb7ef5ec21cdfa30","reportUrl":"../4445//#testresult/cb7ef5ec21cdfa30","status":"passed","time":{"start":1766082172804,"stop":1766082454146,"duration":281342}},{"uid":"a75f42ccf1a47b5","reportUrl":"../4435//#testresult/a75f42ccf1a47b5","status":"broken","statusDetails":"openstack.exceptions.HttpException: HttpException: 500: Server Error for url: https://nova.ps7.canonical.com:8774/v2.1/servers/detail, Unexpected API Error. Please report this at http://bugs.launchpad.net/nova/ and attach the Nova API log if possible.\n<class 'KeyError'>","time":{"start":1766039003598,"stop":1766039476915,"duration":473317}},{"uid":"f3c88833bc7d0732","reportUrl":"../4408//#testresult/f3c88833bc7d0732","status":"passed","time":{"start":1765995864463,"stop":1765996144113,"duration":279650}},{"uid":"fb6cf837463116d7","reportUrl":"../4370//#testresult/fb6cf837463116d7","status":"passed","time":{"start":1765937769826,"stop":1765938053276,"duration":283450}},{"uid":"d4ef5e9427441480","reportUrl":"../4344//#testresult/d4ef5e9427441480","status":"failed","statusDetails":"AssertionError: Timeout waiting for runner to be ready","time":{"start":1765852604899,"stop":1765853462042,"duration":857143}},{"uid":"80f0e88a2fdaf766","reportUrl":"../4332//#testresult/80f0e88a2fdaf766","status":"passed","time":{"start":1765606948392,"stop":1765607227880,"duration":279488}},{"uid":"933d9ec6058d5496","reportUrl":"../4330//#testresult/933d9ec6058d5496","status":"passed","time":{"start":1765563835717,"stop":1765564184881,"duration":349164}},{"uid":"3b661fb58c27f26d","reportUrl":"../4312//#testresult/3b661fb58c27f26d","status":"passed","time":{"start":1765520636230,"stop":1765520917265,"duration":281035}},{"uid":"b02d5f4c58786ceb","reportUrl":"../4297//#testresult/b02d5f4c58786ceb","status":"passed","time":{"start":1765477311233,"stop":1765477594158,"duration":282925}},{"uid":"8f9a83b54e7662de","reportUrl":"../4292//#testresult/8f9a83b54e7662de","status":"passed","time":{"start":1765434250179,"stop":1765434534040,"duration":283861}},{"uid":"7b7dd5fc4540d03f","reportUrl":"../4277//#testresult/7b7dd5fc4540d03f","status":"passed","time":{"start":1765390960939,"stop":1765391242803,"duration":281864}},{"uid":"2ee19d6691568d51","reportUrl":"../4270//#testresult/2ee19d6691568d51","status":"passed","time":{"start":1765304545000,"stop":1765304828766,"duration":283766}},{"uid":"12f97abf406d4ac7","reportUrl":"../4264//#testresult/12f97abf406d4ac7","status":"passed","time":{"start":1765261366520,"stop":1765261649676,"duration":283156}},{"uid":"150ee4dba595c4e5","reportUrl":"../4256//#testresult/150ee4dba595c4e5","status":"passed","time":{"start":1765240560211,"stop":1765240838799,"duration":278588}},{"uid":"8dcc4f50ff8994df","reportUrl":"../4253//#testresult/8dcc4f50ff8994df","status":"passed","time":{"start":1765174997674,"stop":1765175277474,"duration":279800}},{"uid":"7b33a50fd11089b7","reportUrl":"../4251//#testresult/7b33a50fd11089b7","status":"passed","time":{"start":1765131727648,"stop":1765132009537,"duration":281889}},{"uid":"198de9a315abdd7d","reportUrl":"../4250//#testresult/198de9a315abdd7d","status":"passed","time":{"start":1765088525198,"stop":1765088805214,"duration":280016}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"24d3dbe173324a77.json","parameterValues":[]}