{"uid":"f2d794ad32263b36","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1742496293060,"stop":1742496745121,"duration":452061},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1742495149199,"stop":1742495149200,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1742495149200,"stop":1742495149738,"duration":538},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1742495149200,"stop":1742495149200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1742495149200,"stop":1742495149200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1742495149739,"stop":1742495149739,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1742495149739,"stop":1742495149739,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1742495149739,"stop":1742495149740,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1742495149739,"stop":1742496279306,"duration":1129567},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1742495149739,"stop":1742495149739,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1742495149740,"stop":1742495149740,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1742495149740,"stop":1742495149740,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1742495149740,"stop":1742495149740,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1742495149740,"stop":1742495149741,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1742495149740,"stop":1742495149740,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1742495149740,"stop":1742495149740,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1742495149740,"stop":1742495149740,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1742495149740,"stop":1742495149740,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1742495149740,"stop":1742495149740,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1742495149741,"stop":1742495149749,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1742495149741,"stop":1742495149741,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1742495149741,"stop":1742495149741,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1742495149741,"stop":1742495149741,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1742495149741,"stop":1742495149741,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1742495149749,"stop":1742495149775,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1742495149775,"stop":1742495381472,"duration":231697},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1742495381473,"stop":1742496279305,"duration":897832},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1742496279306,"stop":1742496279669,"duration":363},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1742496279669,"stop":1742496280405,"duration":736},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1742496280405,"stop":1742496291267,"duration":10862},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1742496291268,"stop":1742496291280,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1742496291280,"stop":1742496293058,"duration":1778},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1742496293059,"stop":1742496293059,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1742496293059,"stop":1742496293059,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1742496293059,"stop":1742496293060,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"dee3105efa526cb1","name":"log","source":"dee3105efa526cb1.txt","type":"text/plain","size":10048}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1742496745122,"stop":1742496745122,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1742496745123,"stop":1742496745705,"duration":582},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1742496745708,"stop":1742496745760,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1742496745761,"stop":1742496746414,"duration":653},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1742496746418,"stop":1742496746847,"duration":429},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1742496746848,"stop":1742496746848,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1742496746848,"stop":1742496746848,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1742496746848,"stop":1742496746848,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"14228-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"87596964cbe05b4c","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":8,"broken":14,"skipped":0,"passed":10,"unknown":7,"total":39},"items":[{"uid":"98dae6ec31ec73a","reportUrl":"../1727//#testresult/98dae6ec31ec73a","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-rf13rqtg/0 [executing] maintenance: Reconciling runners","time":{"start":1736766874561,"stop":1736767842148,"duration":967587}},{"uid":"f8293948fe684291","reportUrl":"../1725//#testresult/f8293948fe684291","status":"failed","statusDetails":"AssertionError: No addresses to connect to for OpenStack server test-hwtluz3o-0-1ea0b2e527d1","time":{"start":1736706610572,"stop":1736707047574,"duration":437002}},{"uid":"e5977b9af053c469","reportUrl":"../1724//#testresult/e5977b9af053c469","status":"failed","statusDetails":"AssertionError: No addresses to connect to for OpenStack server test-ucct16vj-0-be7c4f1d7328","time":{"start":1736663374741,"stop":1736663800520,"duration":425779}},{"uid":"8847575526e1dff","reportUrl":"../1723//#testresult/8847575526e1dff","status":"unknown","time":{}},{"uid":"9db8ad3074cb0b6f","reportUrl":"../1722//#testresult/9db8ad3074cb0b6f","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-jtpze0nz/0 [idle] blocked: Invalid token.","time":{"start":1736594950047,"stop":1736594950047,"duration":0}},{"uid":"19510dacba46b2f1","reportUrl":"../1718//#testresult/19510dacba46b2f1","status":"unknown","time":{}},{"uid":"ef3617132ef49738","reportUrl":"../1717//#testresult/ef3617132ef49738","status":"unknown","time":{}},{"uid":"584b929f37859eca","reportUrl":"../1714//#testresult/584b929f37859eca","status":"passed","time":{"start":1736404198939,"stop":1736405219570,"duration":1020631}},{"uid":"cf8283c2a10efa13","reportUrl":"../1713//#testresult/cf8283c2a10efa13","status":"unknown","time":{}},{"uid":"88d3bac829e010e3","reportUrl":"../1708//#testresult/88d3bac829e010e3","status":"failed","statusDetails":"AssertionError: In test-o8u2sdb8/0 found more than one runners or no runners: []","time":{"start":1736292944513,"stop":1736293072948,"duration":128435}},{"uid":"fa9e7b7de7f859f9","reportUrl":"../1698//#testresult/fa9e7b7de7f859f9","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-nh5zbmo0/0 [idle] blocked: Invalid token.","time":{"start":1735842219819,"stop":1735842219819,"duration":0}},{"uid":"3ddcd4f37245fbb5","reportUrl":"../1697//#testresult/3ddcd4f37245fbb5","status":"unknown","time":{}},{"uid":"e6552f6e74ff6359","reportUrl":"../1696//#testresult/e6552f6e74ff6359","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-xxnks10z/0 [idle] blocked: Invalid token.","time":{"start":1735760513307,"stop":1735760513307,"duration":0}},{"uid":"4268fb84d7653eea","reportUrl":"../1695//#testresult/4268fb84d7653eea","status":"failed","statusDetails":"AssertionError: In test-e01j8qwd/0 found more than one runners or no runners: []","time":{"start":1735720119932,"stop":1735720243444,"duration":123512}},{"uid":"8a0c56b1307c8aec","reportUrl":"../1694//#testresult/8a0c56b1307c8aec","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-q5cqie9e/0 [idle] blocked: Invalid token.","time":{"start":1735675405959,"stop":1735675405959,"duration":0}},{"uid":"3221dc20c16a57d","reportUrl":"../1693//#testresult/3221dc20c16a57d","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-e76ywvy7/0 [idle] blocked: Invalid token.","time":{"start":1735636894325,"stop":1735636894325,"duration":0}},{"uid":"3a173eb7eba8f6b1","reportUrl":"../1692//#testresult/3a173eb7eba8f6b1","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-edb18djm/0 [idle] blocked: Invalid token.","time":{"start":1735583011410,"stop":1735583011410,"duration":0}},{"uid":"fad3836b0d30e626","reportUrl":"../1691//#testresult/fad3836b0d30e626","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-lcaj6t25/0","time":{"start":1735539837404,"stop":1735539837404,"duration":0}},{"uid":"b11f58490e73a5d7","reportUrl":"../1690//#testresult/b11f58490e73a5d7","status":"passed","time":{"start":1735497005606,"stop":1735497338793,"duration":333187}},{"uid":"6dc632db8097ebfd","reportUrl":"../1689//#testresult/6dc632db8097ebfd","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-ur32fecu/0 [idle] blocked: Invalid token.","time":{"start":1735454188048,"stop":1735454188048,"duration":0}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"f2d794ad32263b36.json","parameterValues":[]}