{"uid":"b61375022248c301","name":"test_runner_normal_lifecycle","fullName":"tests.integration.test_runner_manager_openstack#test_runner_normal_lifecycle","historyId":"05be2296df959236493b35fcbffcaac0","time":{"start":1743489191011,"stop":1743489226956,"duration":35945},"description":"\n    Arrange: RunnerManager with one runner. Clean metric logs.\n    Act:\n        1. Start a test workflow for the runner.\n        2. Run cleanup.\n    Assert:\n        1. The workflow complete successfully.\n        2. The runner should be deleted. The metrics should be recorded.\n    ","descriptionHtml":"<pre><code>Arrange: RunnerManager with one runner. Clean metric logs.\nAct:\n    1. Start a test workflow for the runner.\n    2. Run cleanup.\nAssert:\n    1. The workflow complete successfully.\n    2. The runner should be deleted. The metrics should be recorded.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1743488689866,"stop":1743488689866,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1743488689866,"stop":1743488689866,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1743488689866,"stop":1743488689866,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager_user","time":{"start":1743488689866,"stop":1743488689867,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_test_image","time":{"start":1743488689867,"stop":1743488689868,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1743488689867,"stop":1743488689867,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1743488689867,"stop":1743488689867,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1743488689867,"stop":1743488689867,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1743488689867,"stop":1743488689867,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1743488689867,"stop":1743488689867,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1743488689868,"stop":1743488689868,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1743488689868,"stop":1743488689868,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1743488689868,"stop":1743488689868,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1743488689868,"stop":1743488689868,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_path","time":{"start":1743488689868,"stop":1743488689868,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1743488689868,"stop":1743488689871,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1743488689868,"stop":1743488689868,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1743488689868,"stop":1743488689868,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1743488689871,"stop":1743488689871,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_label","time":{"start":1743488689871,"stop":1743488689871,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1743488689871,"stop":1743488689871,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1743488689872,"stop":1743488689899,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_runner_manager","time":{"start":1743488689900,"stop":1743488689902,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1743488689902,"stop":1743488689902,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_dir_base_path","time":{"start":1743488689902,"stop":1743488689903,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager","time":{"start":1743488689903,"stop":1743488689938,"duration":35},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1743488810511,"stop":1743488810874,"duration":363},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1743488810874,"stop":1743488811612,"duration":738},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1743488811612,"stop":1743488813765,"duration":2153},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1743489036530,"stop":1743489036530,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager_with_one_runner","time":{"start":1743489036531,"stop":1743489191009,"duration":154478},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Arrange: RunnerManager with one runner. Clean metric logs.\n    Act:\n        1. Start a test workflow for the runner.\n        2. Run cleanup.\n    Assert:\n        1. The workflow complete successfully.\n        2. The runner should be deleted. The metrics should be recorded.\n    ","status":"passed","steps":[],"attachments":[{"uid":"23a243a83ad573eb","name":"log","source":"23a243a83ad573eb.txt","type":"text/plain","size":3996}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1743489226957,"stop":1743489226957,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1743489353182,"stop":1743489353787,"duration":605},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager::finalizer","time":{"start":1743489353788,"stop":1743489353788,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_dir_base_path::0","time":{"start":1743489353789,"stop":1743489353789,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_runner_manager::finalizer","time":{"start":1743489353789,"stop":1743489353789,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1743489353790,"stop":1743489355522,"duration":1732},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager_user::0","time":{"start":1743489355527,"stop":1743489355527,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1743489355528,"stop":1743489355528,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1743489355528,"stop":1743489355528,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1743489355528,"stop":1743489355529,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_runner_manager_openstack"},{"name":"host","value":"github-runner"},{"name":"thread","value":"19411-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_runner_manager_openstack"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"469f500a09ecb479","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":10,"broken":18,"skipped":0,"passed":26,"unknown":8,"total":62},"items":[{"uid":"bfc2843a0d37eefa","reportUrl":"../2249//#testresult/bfc2843a0d37eefa","status":"passed","time":{"start":1743445887392,"stop":1743445924848,"duration":37456}},{"uid":"4e6b6d072fc86e95","reportUrl":"../2245//#testresult/4e6b6d072fc86e95","status":"passed","time":{"start":1743402748950,"stop":1743402781780,"duration":32830}},{"uid":"307cb3a563230744","reportUrl":"../2243//#testresult/307cb3a563230744","status":"passed","time":{"start":1743359358604,"stop":1743359394234,"duration":35630}},{"uid":"ed648543bd5991a0","reportUrl":"../2242//#testresult/ed648543bd5991a0","status":"passed","time":{"start":1743316274420,"stop":1743316311532,"duration":37112}},{"uid":"21a3830343b6a7a7","reportUrl":"../2241//#testresult/21a3830343b6a7a7","status":"passed","time":{"start":1743272977977,"stop":1743273015257,"duration":37280}},{"uid":"848b650bf60ea1bc","reportUrl":"../2240//#testresult/848b650bf60ea1bc","status":"passed","time":{"start":1743229818757,"stop":1743229855665,"duration":36908}},{"uid":"a76c114ef1d09f56","reportUrl":"../2239//#testresult/a76c114ef1d09f56","status":"passed","time":{"start":1743186722998,"stop":1743186756386,"duration":33388}},{"uid":"2bb244ca4ac825b0","reportUrl":"../2228//#testresult/2bb244ca4ac825b0","status":"passed","time":{"start":1743144440995,"stop":1743144475640,"duration":34645}},{"uid":"e08f80b38f6c780a","reportUrl":"../2224//#testresult/e08f80b38f6c780a","status":"passed","time":{"start":1743102616824,"stop":1743102647883,"duration":31059}},{"uid":"896a2a50d686c7d3","reportUrl":"../2219//#testresult/896a2a50d686c7d3","status":"passed","time":{"start":1743066761326,"stop":1743066795795,"duration":34469}},{"uid":"69b482f204da973d","reportUrl":"../2216//#testresult/69b482f204da973d","status":"passed","time":{"start":1743020469162,"stop":1743020503088,"duration":33926}},{"uid":"d2073ec820c75e73","reportUrl":"../2205//#testresult/d2073ec820c75e73","status":"failed","statusDetails":"AssertionError: Test arrange failed: Expect one runner","time":{"start":1742974166714,"stop":1742974166714,"duration":0}},{"uid":"64fb1548540384eb","reportUrl":"../2202//#testresult/64fb1548540384eb","status":"failed","statusDetails":"AssertionError: Test arrange failed: Expect one runner","time":{"start":1742930299246,"stop":1742930299246,"duration":0}},{"uid":"ab3e3c8a18ff8a17","reportUrl":"../2196//#testresult/ab3e3c8a18ff8a17","status":"passed","time":{"start":1742886458591,"stop":1742886492915,"duration":34324}},{"uid":"167b03615f9c9c5b","reportUrl":"../2182//#testresult/167b03615f9c9c5b","status":"passed","time":{"start":1742799809858,"stop":1742799841696,"duration":31838}},{"uid":"ad2ac3de84967335","reportUrl":"../2179//#testresult/ad2ac3de84967335","status":"passed","time":{"start":1742756954895,"stop":1742756983665,"duration":28770}},{"uid":"21445a155b13eb62","reportUrl":"../2178//#testresult/21445a155b13eb62","status":"passed","time":{"start":1742711503862,"stop":1742711539042,"duration":35180}},{"uid":"be226a16d3126648","reportUrl":"../2177//#testresult/be226a16d3126648","status":"passed","time":{"start":1742668272853,"stop":1742668454447,"duration":181594}},{"uid":"be7061a6056a8b02","reportUrl":"../2176//#testresult/be7061a6056a8b02","status":"passed","time":{"start":1742625221210,"stop":1742625259078,"duration":37868}},{"uid":"4687968eae731e30","reportUrl":"../2175//#testresult/4687968eae731e30","status":"failed","statusDetails":"AssertionError: Test arrange failed: Expect one runner","time":{"start":1742582655744,"stop":1742582655745,"duration":1}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"b61375022248c301.json","parameterValues":[]}