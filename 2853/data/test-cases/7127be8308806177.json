{"uid":"7127be8308806177","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1749711505902,"stop":1749711807100,"duration":301198},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1749710752872,"stop":1749710752873,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1749710752873,"stop":1749710753333,"duration":460},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1749710752873,"stop":1749710752873,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1749710752873,"stop":1749710752873,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1749710753333,"stop":1749710753341,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1749710753333,"stop":1749710753333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1749710753333,"stop":1749710753333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1749710753333,"stop":1749710753333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1749710753342,"stop":1749710753342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1749710753342,"stop":1749711490650,"duration":737308},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1749710753342,"stop":1749710753342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1749710753342,"stop":1749710753342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1749710753342,"stop":1749710753342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1749710753342,"stop":1749710753342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1749710753342,"stop":1749710753342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1749710753343,"stop":1749710753343,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1749710753343,"stop":1749710753344,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1749710753343,"stop":1749710753343,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1749710753343,"stop":1749710753343,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1749710753343,"stop":1749710753343,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1749710753343,"stop":1749710753343,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1749710753343,"stop":1749710753343,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1749710753343,"stop":1749710753343,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1749710753344,"stop":1749710753344,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1749710753344,"stop":1749710753344,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1749710753344,"stop":1749710753344,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1749710753344,"stop":1749710753351,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1749710753351,"stop":1749710753369,"duration":18},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1749710753369,"stop":1749710755842,"duration":2473},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1749710755842,"stop":1749711490650,"duration":734808},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1749711490650,"stop":1749711491010,"duration":360},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1749711491010,"stop":1749711492213,"duration":1203},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1749711492213,"stop":1749711503324,"duration":11111},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1749711503325,"stop":1749711503331,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1749711503331,"stop":1749711505901,"duration":2570},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1749711505901,"stop":1749711505901,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1749711505901,"stop":1749711505902,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"73e5406fad6fbfa6","name":"log","source":"73e5406fad6fbfa6.txt","type":"text/plain","size":11477}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1749711807101,"stop":1749711807101,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1749711807101,"stop":1749711807556,"duration":455},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1749711807558,"stop":1749711807618,"duration":60},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1749711807618,"stop":1749711809003,"duration":1385},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1749711809008,"stop":1749711809414,"duration":406},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1749711809415,"stop":1749711809415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1749711809415,"stop":1749711809415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1749711809415,"stop":1749711809415,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"11035-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"496b56c317bdc3b2","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":14,"broken":50,"skipped":0,"passed":97,"unknown":11,"total":172},"items":[{"uid":"dfb0a92a032aec22","reportUrl":"../2844//#testresult/dfb0a92a032aec22","status":"passed","time":{"start":1749667196978,"stop":1749667427233,"duration":230255}},{"uid":"f5ada19b771d43de","reportUrl":"../2840//#testresult/f5ada19b771d43de","status":"passed","time":{"start":1749624199974,"stop":1749624436643,"duration":236669}},{"uid":"12e043386e16b8b8","reportUrl":"../2834//#testresult/12e043386e16b8b8","status":"failed","statusDetails":"AssertionError: Unable to get reconcile ID: cat: /var/log/reconcile.id: No such file or directory","time":{"start":1749580711438,"stop":1749580787481,"duration":76043}},{"uid":"78fb925496ce5b55","reportUrl":"../2830//#testresult/78fb925496ce5b55","status":"failed","statusDetails":"AssertionError: Unable to get reconcile ID: cat: /var/log/reconcile.id: No such file or directory","time":{"start":1749538767536,"stop":1749538849299,"duration":81763}},{"uid":"34c4e1393b133b22","reportUrl":"../2823//#testresult/34c4e1393b133b22","status":"passed","time":{"start":1749451286064,"stop":1749451549719,"duration":263655}},{"uid":"1397014b08874446","reportUrl":"../2822//#testresult/1397014b08874446","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflow-jobs#download-job-logs-for-a-workflow-run\", \"status\": \"404\"}","time":{"start":1749407884060,"stop":1749408160681,"duration":276621}},{"uid":"e63ccba2d1079c6b","reportUrl":"../2821//#testresult/e63ccba2d1079c6b","status":"passed","time":{"start":1749364724420,"stop":1749364959359,"duration":234939}},{"uid":"c8c7dc59a503c533","reportUrl":"../2820//#testresult/c8c7dc59a503c533","status":"passed","time":{"start":1749321538272,"stop":1749321847454,"duration":309182}},{"uid":"97bc65478fcbf0d","reportUrl":"../2819//#testresult/97bc65478fcbf0d","status":"passed","time":{"start":1749278384565,"stop":1749278640761,"duration":256196}},{"uid":"29d681de99435a03","reportUrl":"../2818//#testresult/29d681de99435a03","status":"passed","time":{"start":1749235234153,"stop":1749235488645,"duration":254492}},{"uid":"1c33dc6804abf139","reportUrl":"../2813//#testresult/1c33dc6804abf139","status":"passed","time":{"start":1749192075234,"stop":1749192342487,"duration":267253}},{"uid":"ae5b7b3286757089","reportUrl":"../2803//#testresult/ae5b7b3286757089","status":"passed","time":{"start":1749106871797,"stop":1749107105410,"duration":233613}},{"uid":"6659acaaf6566daa","reportUrl":"../2798//#testresult/6659acaaf6566daa","status":"passed","time":{"start":1749062397012,"stop":1749062646777,"duration":249765}},{"uid":"f37b228d1d4e3dda","reportUrl":"../2792//#testresult/f37b228d1d4e3dda","status":"passed","time":{"start":1749019238009,"stop":1749019486518,"duration":248509}},{"uid":"c5a91a763bcfb718","reportUrl":"../2787//#testresult/c5a91a763bcfb718","status":"passed","time":{"start":1748977411461,"stop":1748977654185,"duration":242724}},{"uid":"870b5649efb5ea60","reportUrl":"../2780//#testresult/870b5649efb5ea60","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-dm3mysd9/0","time":{"start":1748933562686,"stop":1748933562686,"duration":0}},{"uid":"eb583b0737daf83c","reportUrl":"../2776//#testresult/eb583b0737daf83c","status":"passed","time":{"start":1748889601611,"stop":1748889875249,"duration":273638}},{"uid":"adcfdfb7762c6fcb","reportUrl":"../2774//#testresult/adcfdfb7762c6fcb","status":"unknown","time":{}},{"uid":"d79e43f1d6ea7f97","reportUrl":"../2770//#testresult/d79e43f1d6ea7f97","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-una9uxab/0 [idle] blocked: Invalid token.","time":{"start":1748802208758,"stop":1748802208758,"duration":0}},{"uid":"3ab1aab9d6d9d044","reportUrl":"../2769//#testresult/3ab1aab9d6d9d044","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-k9vfvzob/0 [idle] blocked: Invalid token.","time":{"start":1748759039997,"stop":1748759039997,"duration":0}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"7127be8308806177.json","parameterValues":[]}