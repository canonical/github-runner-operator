07:05:11 INFO Waiting for model:
  test-zyulrevf/0 [idle] active: 
07:05:28 INFO Current reconcile ID: 8fb74528-31a0-4814-a725-06d4c1d79bff
07:05:28 INFO Waiting for reconcile ID: 8fb74528-31a0-4814-a725-06d4c1d79bff
07:06:29 INFO Current reconcile ID: 8fb74528-31a0-4814-a725-06d4c1d79bff
07:06:29 INFO Current reconcile ID: 8fb74528-31a0-4814-a725-06d4c1d79bff, expected reconcile ID: 8fb74528-31a0-4814-a725-06d4c1d79bff
07:06:29 INFO Waiting for reconcile ID: 8fb74528-31a0-4814-a725-06d4c1d79bff
07:07:30 INFO Current reconcile ID: e4dcf14f-aa22-46fb-b5b4-9d29dcd810d3
07:07:30 INFO Current reconcile ID: e4dcf14f-aa22-46fb-b5b4-9d29dcd810d3, expected reconcile ID: 8fb74528-31a0-4814-a725-06d4c1d79bff
07:07:31 INFO Application log: 
2025-09-23 06:44:31,137 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-23 06:44:31,154 - INFO - github_runner_manager.http_server - Starting the server...
2025-09-23 06:44:31,154 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-23 06:44:31,155 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 06:44:31,155 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 2d0b2cc7-e44e-49be-bb37-ea104cbd41a5
2025-09-23 06:44:31,220 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-23 06:44:31,220 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-23 06:44:31,222 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-23 06:44:31,222 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:44:31,222 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:44:33,392 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 06:44:34,736 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:44:36,225 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:44:36,225 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-23 06:44:36,225 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:44:36,263 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:44:36,263 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:44:36,264 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:44:36,264 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:44:36,264 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:44:36,264 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:44:36,264 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:44:38,005 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 06:44:39,172 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:44:39,172 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-09-23 06:44:39,172 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-23 06:44:39,172 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:44:40,615 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 06:44:41,751 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:44:41,751 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 06:44:41,751 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 06:44:41,752 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 06:44:41,752 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-23 06:44:41,752 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 06:44:41,753 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 06:44:41,754 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 06:44:41,754 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-23 06:44:41,754 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 06:44:44,997 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:44:44] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:44:45,017 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:44:45] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:44:45,036 - INFO - github_runner_manager.http_server - Attempting to acquire the lock: unlocked
2025-09-23 06:44:45,036 - INFO - github_runner_manager.http_server - Flushing runners...
2025-09-23 06:44:45,100 - INFO - github_runner_manager.http_server - Flushing busy: False
2025-09-23 06:44:45,100 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:44:45,100 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:44:50,129 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 06:44:51,250 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:44:53,246 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:44:53,246 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-23 06:44:53,247 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:44:53,278 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:44:53,279 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:44:53,279 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:44:53,279 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:44:53,279 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:44:53,279 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:44:53,279 - INFO - github_runner_manager.manager.runner_manager - runner_manager::flush_runners. mode FlushMode.FLUSH_IDLE
2025-09-23 06:44:53,279 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:44:55,033 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 06:44:56,195 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:44:56,196 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-09-23 06:44:56,196 - INFO - github_runner_manager.manager.runner_manager - Runners to flush: set()
2025-09-23 06:44:56,196 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: []
2025-09-23 06:44:56,196 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:44:56,196 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-09-23 06:44:56,196 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:44:56,196 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: []
2025-09-23 06:44:56,197 - INFO - github_runner_manager.manager.runner_manager - Deleted VMs: []
2025-09-23 06:44:56,197 - INFO - github_runner_manager.http_server - Flushed 0 runners
2025-09-23 06:44:56,198 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:44:56] "[35m[1mPOST /runner/flush?flush-busy=False HTTP/1.1[0m" 204 -
2025-09-23 06:45:15,336 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-23 06:45:15,352 - INFO - github_runner_manager.http_server - Starting the server...
2025-09-23 06:45:15,353 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-23 06:45:15,354 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 06:45:15,354 - INFO - github_runner_manager.reconcile_service - Reconcile ID: e91d8738-54fe-4673-aaa5-c4ec750aeb36
2025-09-23 06:45:15,415 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-23 06:45:15,416 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-23 06:45:15,416 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-09-23 06:45:15,416 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:45:15,416 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:45:17,346 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 06:45:18,554 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:45:20,286 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:45:20,286 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-23 06:45:20,286 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:45:20,322 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:45:20,322 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:45:20,322 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:45:20,322 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:45:20,322 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:45:20,322 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:45:20,322 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:45:21,974 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 06:45:23,407 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:45:23,408 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 2
2025-09-23 06:45:23,408 - INFO - github_runner_manager.manager.runner_manager - Creating 2 runners
2025-09-23 06:45:24,154 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='172200', url=None))
2025-09-23 06:45:24,180 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='172201', url=None))
2025-09-23 06:45:27,665 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-zyulrevf-0-n-99289e315946 created successfully
2025-09-23 06:45:27,700 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-zyulrevf-0-n-634e84bc399d created successfully
2025-09-23 06:45:27,715 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:45:29,353 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:45:29] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:45:29,416 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc))]
2025-09-23 06:45:30,564 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:45:30,564 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-634e84bc399d: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-23 06:45:30,565 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-99289e315946: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-23 06:45:30,565 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 06:45:30,565 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 06:45:30,566 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 06:45:30,566 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-zyulrevf-0-n-634e84bc399d', instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>), RunnerInstance(name='test-zyulrevf-0-n-99289e315946', instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-09-23 06:45:30,566 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 06:45:30,567 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 06:45:30,568 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 06:45:30,568 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 2
2025-09-23 06:45:30,568 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 06:47:30,635 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 06:47:30,636 - INFO - github_runner_manager.reconcile_service - Reconcile ID: e1c9b036-9469-4fa5-a7c0-fcdeaf4f6ad2
2025-09-23 06:47:30,692 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-09-23 06:47:30,692 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:47:30,692 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:47:32,703 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc))]
2025-09-23 06:47:33,903 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:47:35,358 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:47:35,359 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 2 key files, clean up 0 key files
2025-09-23 06:47:35,359 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:47:35,399 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:47:35,399 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:47:35,399 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:47:35,399 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:47:35,399 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:47:35,399 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:47:35,399 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:47:36,876 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc))]
2025-09-23 06:47:38,048 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:47:38,049 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 2 to 2
2025-09-23 06:47:38,049 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-23 06:47:38,049 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:47:39,623 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc))]
2025-09-23 06:47:40,794 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:47:40,794 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-634e84bc399d: state=PlatformRunnerState.IDLE, health=HealthState.HEALTHY
2025-09-23 06:47:40,794 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-99289e315946: state=PlatformRunnerState.IDLE, health=HealthState.HEALTHY
2025-09-23 06:47:40,794 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 06:47:40,794 - INFO - github_runner_manager.manager.runner_scaler - Found 2 idle runners: [RunnerInstance(name='test-zyulrevf-0-n-634e84bc399d', instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), platform_state=<PlatformRunnerState.IDLE: '2'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>), RunnerInstance(name='test-zyulrevf-0-n-99289e315946', instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), platform_state=<PlatformRunnerState.IDLE: '2'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-09-23 06:47:40,794 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 06:47:40,795 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-23 06:47:40,795 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): {'test-zyulrevf-0-n-634e84bc399d', 'test-zyulrevf-0-n-99289e315946'}
2025-09-23 06:47:40,795 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 06:47:40,795 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 06:47:40,796 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-23 06:47:40,796 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 06:47:51,704 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:47:51] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:47:51,719 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-23 06:47:51,775 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:47:53,728 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc))]
2025-09-23 06:47:54,916 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:47:54,918 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:47:54] "GET /runner/check HTTP/1.1" 200 -
2025-09-23 06:47:57,088 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:47:57] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:47:57,103 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-23 06:47:57,160 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:47:59,731 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc))]
2025-09-23 06:48:00,977 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:48:00,979 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:48:00] "GET /runner/check HTTP/1.1" 200 -
2025-09-23 06:48:04,655 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-23 06:48:04,668 - INFO - github_runner_manager.http_server - Starting the server...
2025-09-23 06:48:04,668 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-23 06:48:04,670 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 06:48:04,670 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 73cbcb3b-d16f-4ba9-8099-80d9a155f846
2025-09-23 06:48:04,687 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-23 06:48:04,687 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-23 06:48:04,739 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-23 06:48:04,739 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:48:04,739 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:48:06,691 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc))]
2025-09-23 06:48:07,857 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:48:09,424 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:48:09,424 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 2 key files, clean up 0 key files
2025-09-23 06:48:09,424 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:48:09,460 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:48:09,460 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:48:09,461 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:48:09,461 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:48:09,461 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:48:09,461 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:48:09,461 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:48:10,927 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc))]
2025-09-23 06:48:12,308 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:48:12,308 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 2 to 0
2025-09-23 06:48:12,308 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 2 runners
2025-09-23 06:48:12,309 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:48:13,600 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc))]
2025-09-23 06:48:14,738 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:48:14,739 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-09-23 06:48:14,739 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: {'172200', '172201'}
2025-09-23 06:48:14,739 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['172200', '172201']
2025-09-23 06:48:14,739 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['172200', '172201']
2025-09-23 06:48:15,306 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: ['172200', '172201']
2025-09-23 06:48:15,306 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-zyulrevf-0-n-99289e315946'), InstanceID('test-zyulrevf-0-n-634e84bc399d')]
2025-09-23 06:48:15,307 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-zyulrevf-0-n-99289e315946
2025-09-23 06:48:15,307 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-zyulrevf-0-n-634e84bc399d
2025-09-23 06:48:16,881 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-09-23 06:48:16,965 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-09-23 06:48:17,086 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-09-23 06:48:17,160 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-09-23 06:48:17,864 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-09-23 06:48:17,899 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.145.193.109, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-09-23 06:48:17,899 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-zyulrevf-0-n-99289e315946: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-09-23 06:48:17,939 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.145.193.109, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-09-23 06:48:17,939 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-zyulrevf-0-n-99289e315946: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-09-23 06:48:17,939 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-09-23 06:48:18,093 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-09-23 06:48:18,129 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.145.193.151, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-09-23 06:48:18,129 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-zyulrevf-0-n-634e84bc399d: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-09-23 06:48:18,169 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.145.193.151, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-09-23 06:48:18,169 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-zyulrevf-0-n-634e84bc399d: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-09-23 06:48:18,169 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-09-23 06:48:18,170 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-zyulrevf-0-n-99289e315946'), InstanceID('test-zyulrevf-0-n-634e84bc399d')]
2025-09-23 06:48:18,172 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-zyulrevf-0-n-99289e315946
2025-09-23 06:48:18,178 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-zyulrevf-0-n-634e84bc399d
2025-09-23 06:48:18,750 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:48:18] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:48:19,133 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-zyulrevf-0-n-634e84bc399d (true delete: True)
2025-09-23 06:48:19,133 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-zyulrevf-0-n-634e84bc399d
2025-09-23 06:48:19,190 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-zyulrevf-0-n-634e84bc399d
2025-09-23 06:48:19,362 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-zyulrevf-0-n-99289e315946 (true delete: True)
2025-09-23 06:48:19,362 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-zyulrevf-0-n-99289e315946
2025-09-23 06:48:19,396 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-zyulrevf-0-n-99289e315946
2025-09-23 06:48:19,396 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: [InstanceID('test-zyulrevf-0-n-634e84bc399d'), InstanceID('test-zyulrevf-0-n-99289e315946')]
2025-09-23 06:48:19,397 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:48:20,758 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc))]
2025-09-23 06:48:21,901 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:48:21,902 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-634e84bc399d: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-09-23 06:48:21,902 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-99289e315946: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-09-23 06:48:21,902 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 06:48:21,902 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 06:48:21,902 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 06:48:21,902 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-zyulrevf-0-n-634e84bc399d', instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-634e84bc399d'), metadata=RunnerMetadata(platform_name='github', runner_id='172201', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>), RunnerInstance(name='test-zyulrevf-0-n-99289e315946', instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-99289e315946'), metadata=RunnerMetadata(platform_name='github', runner_id='172200', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 45, 27, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>)]
2025-09-23 06:48:21,903 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 06:48:21,903 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 06:48:21,903 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 06:48:21,903 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -2
2025-09-23 06:48:21,904 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 06:50:21,974 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 06:50:21,974 - INFO - github_runner_manager.reconcile_service - Reconcile ID: cbfc99aa-c771-4590-bffc-689d173bbeb8
2025-09-23 06:50:22,026 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-23 06:50:22,026 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:50:22,026 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:50:24,061 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 06:50:25,412 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:50:26,865 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:50:26,866 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-23 06:50:26,866 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:50:26,897 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:50:26,897 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:50:26,897 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:50:26,897 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:50:26,897 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:50:26,897 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:50:26,897 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:50:28,239 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 06:50:29,453 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:50:29,453 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-09-23 06:50:29,453 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-23 06:50:29,453 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:50:31,005 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 06:50:32,177 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:50:32,177 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 06:50:32,177 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 06:50:32,178 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 06:50:32,178 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-23 06:50:32,178 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 06:50:32,178 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 06:50:32,179 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 06:50:32,179 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-23 06:50:32,179 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 06:50:44,125 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-23 06:50:44,143 - INFO - github_runner_manager.http_server - Starting the server...
2025-09-23 06:50:44,143 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-23 06:50:44,144 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 06:50:44,145 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 8521e22d-4a95-4d68-a1f2-3d73ae08b87b
2025-09-23 06:50:44,188 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-23 06:50:44,188 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-23 06:50:44,212 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-09-23 06:50:44,212 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:50:44,213 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:50:46,585 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 06:50:47,744 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:50:49,085 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:50:49,085 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-23 06:50:49,085 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:50:49,120 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:50:49,120 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:50:49,120 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:50:49,120 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:50:49,121 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:50:49,121 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:50:49,121 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:50:50,565 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 06:50:51,698 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:50:51,699 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 1
2025-09-23 06:50:51,699 - INFO - github_runner_manager.manager.runner_manager - Creating 1 runners
2025-09-23 06:50:52,517 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='172207', url=None))
2025-09-23 06:50:55,153 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-zyulrevf-0-n-1835097642f1 created successfully
2025-09-23 06:50:55,154 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:50:56,501 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc))]
2025-09-23 06:50:57,627 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:50:57,628 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-1835097642f1: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-23 06:50:57,628 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 06:50:57,628 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 06:50:57,628 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 06:50:57,628 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-zyulrevf-0-n-1835097642f1', instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-09-23 06:50:57,629 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 06:50:57,629 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 06:50:57,630 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 06:50:57,630 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 1
2025-09-23 06:50:57,630 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 06:50:58,097 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:50:58] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:52:57,730 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 06:52:57,731 - INFO - github_runner_manager.reconcile_service - Reconcile ID: ae6198b5-75eb-4350-86ac-cec7ef95902d
2025-09-23 06:52:57,784 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-09-23 06:52:57,784 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:52:57,784 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:52:59,883 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc))]
2025-09-23 06:53:01,027 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:53:02,716 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:53:02,716 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-23 06:53:02,716 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:53:02,753 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:53:02,753 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:53:02,753 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:53:02,753 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:53:02,753 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:53:02,754 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:53:02,754 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:53:04,361 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc))]
2025-09-23 06:53:05,689 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:53:05,689 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-09-23 06:53:05,690 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-23 06:53:05,690 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:53:09,057 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc))]
2025-09-23 06:53:10,204 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:53:10,204 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-1835097642f1: state=PlatformRunnerState.IDLE, health=HealthState.HEALTHY
2025-09-23 06:53:10,205 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 06:53:10,205 - INFO - github_runner_manager.manager.runner_scaler - Found 1 idle runners: [RunnerInstance(name='test-zyulrevf-0-n-1835097642f1', instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), platform_state=<PlatformRunnerState.IDLE: '2'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-09-23 06:53:10,205 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 06:53:10,205 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-23 06:53:10,205 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): {'test-zyulrevf-0-n-1835097642f1'}
2025-09-23 06:53:10,205 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 06:53:10,206 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 06:53:10,206 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-23 06:53:10,206 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 06:53:18,687 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:53:18] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:53:18,706 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-23 06:53:18,760 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:53:20,717 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc))]
2025-09-23 06:53:21,931 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:53:21,932 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:53:21] "GET /runner/check HTTP/1.1" 200 -
2025-09-23 06:53:24,785 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:53:24] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:53:24,797 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-23 06:53:24,844 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:53:26,778 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc))]
2025-09-23 06:53:28,156 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:53:28,158 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:53:28] "GET /runner/check HTTP/1.1" 200 -
2025-09-23 06:53:31,089 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:53:31] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:53:31,107 - INFO - github_runner_manager.http_server - Attempting to acquire the lock: unlocked
2025-09-23 06:53:31,108 - INFO - github_runner_manager.http_server - Flushing runners...
2025-09-23 06:53:31,163 - INFO - github_runner_manager.http_server - Flushing busy: False
2025-09-23 06:53:31,164 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:53:31,164 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:53:33,171 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc))]
2025-09-23 06:53:34,327 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:53:38,407 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:53:38,407 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-23 06:53:38,408 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:53:38,442 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:53:38,442 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:53:38,443 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:53:38,443 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:53:38,443 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:53:38,443 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:53:38,443 - INFO - github_runner_manager.manager.runner_manager - runner_manager::flush_runners. mode FlushMode.FLUSH_IDLE
2025-09-23 06:53:38,443 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:53:39,836 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc))]
2025-09-23 06:53:41,161 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-1835097642f1'), metadata=RunnerMetadata(platform_name='github', runner_id='172207', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 50, 54, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:53:41,161 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-09-23 06:53:41,162 - INFO - github_runner_manager.manager.runner_manager - Runners to flush: {'172207'}
2025-09-23 06:53:41,162 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['172207']
2025-09-23 06:53:41,162 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['172207']
2025-09-23 06:53:42,013 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: ['172207']
2025-09-23 06:53:42,013 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-zyulrevf-0-n-1835097642f1')]
2025-09-23 06:53:42,013 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-zyulrevf-0-n-1835097642f1
2025-09-23 06:53:43,594 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-09-23 06:53:43,687 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-09-23 06:53:44,567 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-09-23 06:53:44,619 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.145.193.149, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-09-23 06:53:44,619 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-zyulrevf-0-n-1835097642f1: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-09-23 06:53:44,688 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.145.193.149, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-09-23 06:53:44,689 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-zyulrevf-0-n-1835097642f1: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-09-23 06:53:44,689 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-09-23 06:53:44,690 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-zyulrevf-0-n-1835097642f1')]
2025-09-23 06:53:44,692 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-zyulrevf-0-n-1835097642f1
2025-09-23 06:53:45,830 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-zyulrevf-0-n-1835097642f1 (true delete: True)
2025-09-23 06:53:45,830 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-zyulrevf-0-n-1835097642f1
2025-09-23 06:53:45,868 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-zyulrevf-0-n-1835097642f1
2025-09-23 06:53:45,869 - INFO - github_runner_manager.manager.runner_manager - Deleted VMs: [InstanceID('test-zyulrevf-0-n-1835097642f1')]
2025-09-23 06:53:45,870 - INFO - github_runner_manager.http_server - Flushed 0 runners
2025-09-23 06:53:45,871 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:53:45] "[35m[1mPOST /runner/flush?flush-busy=False HTTP/1.1[0m" 204 -
2025-09-23 06:55:10,256 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 06:55:10,256 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 08edc7bd-6a8b-4a4b-bc09-3bf3a2bb8e8b
2025-09-23 06:55:10,310 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-09-23 06:55:10,310 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:55:10,310 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:55:12,406 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 06:55:13,576 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:55:15,061 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:55:15,062 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-23 06:55:15,062 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:55:15,087 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:55:15,088 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:55:15,088 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:55:15,088 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:55:15,088 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:55:15,088 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:55:15,088 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:55:16,465 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 06:55:17,613 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:55:17,613 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 1
2025-09-23 06:55:17,613 - INFO - github_runner_manager.manager.runner_manager - Creating 1 runners
2025-09-23 06:55:18,312 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='172214', url=None))
2025-09-23 06:55:20,817 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-zyulrevf-0-n-9647cafa09ce created successfully
2025-09-23 06:55:20,818 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:55:22,285 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc))]
2025-09-23 06:55:23,407 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:55:23,407 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-9647cafa09ce: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-23 06:55:23,407 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 06:55:23,407 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 06:55:23,407 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 06:55:23,407 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-zyulrevf-0-n-9647cafa09ce', instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-09-23 06:55:23,408 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 06:55:23,408 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 06:55:23,408 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 06:55:23,408 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 1
2025-09-23 06:55:23,408 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 06:56:06,814 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:56:06] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:56:06,833 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-23 06:56:06,896 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:56:09,552 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc))]
2025-09-23 06:56:10,783 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:56:10,785 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:56:10] "GET /runner/check HTTP/1.1" 200 -
2025-09-23 06:56:12,869 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:56:12] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:56:12,887 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-23 06:56:12,956 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:56:15,453 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc))]
2025-09-23 06:56:16,658 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:56:16,660 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:56:16] "GET /runner/check HTTP/1.1" 200 -
2025-09-23 06:56:31,515 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:56:31] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:56:31,532 - INFO - github_runner_manager.http_server - Attempting to acquire the lock: unlocked
2025-09-23 06:56:31,533 - INFO - github_runner_manager.http_server - Flushing runners...
2025-09-23 06:56:31,593 - INFO - github_runner_manager.http_server - Flushing busy: False
2025-09-23 06:56:31,593 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:56:31,593 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:56:34,190 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc))]
2025-09-23 06:56:35,406 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:56:37,300 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:56:37,300 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-23 06:56:37,300 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:56:37,326 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:56:37,326 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:56:37,327 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:56:37,327 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:56:37,327 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:56:37,327 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:56:37,327 - INFO - github_runner_manager.manager.runner_manager - runner_manager::flush_runners. mode FlushMode.FLUSH_IDLE
2025-09-23 06:56:37,327 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:56:38,842 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc))]
2025-09-23 06:56:39,996 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:56:39,997 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-09-23 06:56:39,997 - INFO - github_runner_manager.manager.runner_manager - Runners to flush: set()
2025-09-23 06:56:39,997 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: []
2025-09-23 06:56:39,997 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:56:39,997 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-09-23 06:56:39,997 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:56:39,997 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: []
2025-09-23 06:56:40,000 - INFO - github_runner_manager.manager.runner_manager - Deleted VMs: []
2025-09-23 06:56:40,000 - INFO - github_runner_manager.http_server - Flushed 0 runners
2025-09-23 06:56:40,001 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:56:40] "[35m[1mPOST /runner/flush?flush-busy=False HTTP/1.1[0m" 204 -
2025-09-23 06:56:43,747 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-23 06:56:43,759 - INFO - github_runner_manager.http_server - Starting the server...
2025-09-23 06:56:43,759 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-23 06:56:43,761 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 06:56:43,761 - INFO - github_runner_manager.reconcile_service - Reconcile ID: dc3a3688-9ed0-48f7-be8b-c428ceedbdf4
2025-09-23 06:56:43,762 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-23 06:56:43,762 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-23 06:56:43,823 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-23 06:56:43,823 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:56:43,823 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:56:45,818 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc))]
2025-09-23 06:56:46,941 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:56:48,272 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:56:48,273 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-23 06:56:48,273 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:56:48,355 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 06:56:48,355 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 06:56:48,355 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:56:48,355 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:56:48,356 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:56:48,356 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:56:48,356 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:56:49,712 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc))]
2025-09-23 06:56:50,901 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:56:50,901 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 0
2025-09-23 06:56:50,902 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 1 runners
2025-09-23 06:56:50,902 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:56:52,732 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc))]
2025-09-23 06:56:53,871 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:56:53,871 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-09-23 06:56:53,871 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: {'172214'}
2025-09-23 06:56:53,871 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['172214']
2025-09-23 06:56:53,872 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['172214']
2025-09-23 06:56:54,387 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 172214
2025-09-23 06:56:54,388 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-09-23 06:56:54,388 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-zyulrevf-0-n-9647cafa09ce')]
2025-09-23 06:56:54,388 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-zyulrevf-0-n-9647cafa09ce
2025-09-23 06:56:56,122 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-09-23 06:56:56,217 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-09-23 06:56:57,210 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-09-23 06:56:57,306 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.145.193.81, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-09-23 06:56:57,306 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-zyulrevf-0-n-9647cafa09ce: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-09-23 06:56:57,306 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-09-23 06:56:57,308 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-zyulrevf-0-n-9647cafa09ce')]
2025-09-23 06:56:57,310 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-zyulrevf-0-n-9647cafa09ce
2025-09-23 06:56:57,932 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:56:57] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 06:56:58,285 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-zyulrevf-0-n-9647cafa09ce (true delete: True)
2025-09-23 06:56:58,285 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-zyulrevf-0-n-9647cafa09ce
2025-09-23 06:56:58,318 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-zyulrevf-0-n-9647cafa09ce
2025-09-23 06:56:58,319 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: [InstanceID('test-zyulrevf-0-n-9647cafa09ce')]
2025-09-23 06:56:58,811 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:57:00,475 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc))]
2025-09-23 06:57:01,693 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 06:57:01,694 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-9647cafa09ce: state=PlatformRunnerState.BUSY, health=HealthState.HEALTHY
2025-09-23 06:57:01,694 - INFO - github_runner_manager.manager.runner_scaler - Found 1 busy runners: [RunnerInstance(name='test-zyulrevf-0-n-9647cafa09ce', instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), platform_state=<PlatformRunnerState.BUSY: '1'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 55, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-09-23 06:57:01,694 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 06:57:01,694 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 06:57:01,694 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-23 06:57:01,695 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 06:57:01,695 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: {'test-zyulrevf-0-n-9647cafa09ce'}
2025-09-23 06:57:01,696 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 06:57:01,696 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -1
2025-09-23 06:57:01,696 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 06:59:01,751 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 06:59:01,751 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 398032de-1fe3-43af-87d9-b307ee3cde9e
2025-09-23 06:59:01,798 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-23 06:59:01,799 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:59:01,799 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:59:03,752 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 06:59:05,354 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 06:59:06,483 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:59:06,483 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-23 06:59:06,483 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:59:06,521 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['172214']
2025-09-23 06:59:06,521 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['172214']
2025-09-23 06:59:07,286 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 172214
2025-09-23 06:59:07,286 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:59:07,286 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:59:07,286 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:59:07,287 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:59:07,287 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:59:08,411 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 06:59:09,585 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 06:59:09,585 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-09-23 06:59:09,585 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-23 06:59:09,585 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:59:10,957 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 06:59:12,075 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 06:59:12,075 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 06:59:12,075 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 06:59:12,075 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 06:59:12,075 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-23 06:59:12,075 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 06:59:12,075 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 06:59:12,076 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 06:59:12,076 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-23 06:59:12,076 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 06:59:20,026 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-23 06:59:20,038 - INFO - github_runner_manager.http_server - Starting the server...
2025-09-23 06:59:20,038 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-09-23 06:59:20,039 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 06:59:20,039 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 858d29fd-b882-4498-9322-aeb50915ff8a
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-23 06:59:20,090 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-23 06:59:20,090 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-09-23 06:59:20,090 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-23 06:59:20,091 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 06:59:20,091 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:59:21,768 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 06:59:23,021 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 06:59:24,279 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 06:59:24,279 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-23 06:59:24,279 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 06:59:24,304 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['172214']
2025-09-23 06:59:24,306 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['172214']
2025-09-23 06:59:24,797 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 172214
2025-09-23 06:59:24,798 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 06:59:24,798 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 06:59:24,798 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 06:59:24,798 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 06:59:24,798 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:59:26,171 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 06:59:27,360 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 06:59:27,361 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 1
2025-09-23 06:59:27,361 - INFO - github_runner_manager.manager.runner_manager - Creating 1 runners
2025-09-23 06:59:27,973 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='172219', url=None))
2025-09-23 06:59:30,475 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-zyulrevf-0-n-97069596fde5 created successfully
2025-09-23 06:59:30,475 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 06:59:32,046 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc))]
2025-09-23 06:59:33,426 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 06:59:33,427 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-97069596fde5: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-23 06:59:33,427 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 06:59:33,427 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 06:59:33,427 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 06:59:33,427 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-zyulrevf-0-n-97069596fde5', instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-09-23 06:59:33,428 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 06:59:33,428 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 06:59:33,429 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 06:59:33,429 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 1
2025-09-23 06:59:33,429 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 06:59:34,067 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 06:59:34] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 07:01:33,527 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 07:01:33,527 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 552af44a-3896-47d8-9c9a-78e5678f379d
2025-09-23 07:01:33,596 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-09-23 07:01:33,596 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 07:01:33,596 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:01:35,816 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc))]
2025-09-23 07:01:37,047 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 07:01:39,161 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 07:01:39,161 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-23 07:01:39,161 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 07:01:39,187 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['172214']
2025-09-23 07:01:39,188 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['172214']
2025-09-23 07:01:39,670 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 172214
2025-09-23 07:01:39,670 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 07:01:39,671 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 07:01:39,671 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 07:01:39,671 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 07:01:39,671 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:01:41,441 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc))]
2025-09-23 07:01:42,611 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 07:01:42,611 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-09-23 07:01:42,611 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-23 07:01:42,612 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:01:44,298 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc))]
2025-09-23 07:01:45,441 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 07:01:45,442 - INFO - github_runner_manager.manager.runner_scaler - Runner test-zyulrevf-0-n-97069596fde5: state=PlatformRunnerState.IDLE, health=HealthState.HEALTHY
2025-09-23 07:01:45,442 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 07:01:45,442 - INFO - github_runner_manager.manager.runner_scaler - Found 1 idle runners: [RunnerInstance(name='test-zyulrevf-0-n-97069596fde5', instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), platform_state=<PlatformRunnerState.IDLE: '2'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-09-23 07:01:45,442 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 07:01:45,442 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-23 07:01:45,442 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): {'test-zyulrevf-0-n-97069596fde5'}
2025-09-23 07:01:45,442 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 07:01:45,443 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 07:01:45,443 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-23 07:01:45,443 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 07:01:57,039 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 07:01:57] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 07:01:57,062 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-23 07:01:57,121 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:01:58,938 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc))]
2025-09-23 07:02:00,106 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 07:02:00,108 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 07:02:00] "GET /runner/check HTTP/1.1" 200 -
2025-09-23 07:02:18,238 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-23 07:02:18,251 - INFO - github_runner_manager.http_server - Starting the server...
2025-09-23 07:02:18,252 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-23 07:02:18,254 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 07:02:18,254 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 0c2d41cd-f268-434f-bf44-983a7f14553c
2025-09-23 07:02:18,267 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-23 07:02:18,267 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-23 07:02:18,310 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-23 07:02:18,311 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 07:02:18,311 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:02:20,473 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc))]
2025-09-23 07:02:21,662 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 07:02:23,205 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 07:02:23,205 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-23 07:02:23,205 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 07:02:23,317 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['172214', '172219']
2025-09-23 07:02:23,318 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['172214', '172219']
2025-09-23 07:02:23,825 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 172214
2025-09-23 07:02:23,841 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: ['172219']
2025-09-23 07:02:23,842 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-zyulrevf-0-n-97069596fde5')]
2025-09-23 07:02:23,842 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-zyulrevf-0-n-97069596fde5
2025-09-23 07:02:25,255 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-09-23 07:02:25,347 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-09-23 07:02:26,474 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-09-23 07:02:26,606 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-09-23 07:02:26,608 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: [InstanceID('test-zyulrevf-0-n-97069596fde5')]
2025-09-23 07:02:26,611 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-zyulrevf-0-n-97069596fde5
2025-09-23 07:02:27,533 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-zyulrevf-0-n-97069596fde5 (true delete: True)
2025-09-23 07:02:27,533 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-zyulrevf-0-n-97069596fde5
2025-09-23 07:02:27,564 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-zyulrevf-0-n-97069596fde5
2025-09-23 07:02:27,565 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: [InstanceID('test-zyulrevf-0-n-97069596fde5')]
2025-09-23 07:02:28,131 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:02:29,501 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc))]
2025-09-23 07:02:30,695 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-zyulrevf-0-n-97069596fde5'), metadata=RunnerMetadata(platform_name='github', runner_id='172219', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 23, 6, 59, 30, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 07:02:30,695 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 0
2025-09-23 07:02:30,695 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 1 runners
2025-09-23 07:02:30,696 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:02:31,887 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 07:02:32,410 - INFO - werkzeug - 127.0.0.1 - - [23/Sep/2025 07:02:32] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-23 07:02:33,199 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 07:02:33,199 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: {'172214'}
2025-09-23 07:02:33,200 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: set()
2025-09-23 07:02:33,200 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['172214']
2025-09-23 07:02:33,200 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['172214']
2025-09-23 07:02:33,713 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 172214
2025-09-23 07:02:33,713 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-09-23 07:02:33,713 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 07:02:33,714 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: []
2025-09-23 07:02:33,714 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: []
2025-09-23 07:02:33,714 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:02:35,071 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 07:02:36,217 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 07:02:36,217 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 07:02:36,217 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 07:02:36,218 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 07:02:36,218 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-23 07:02:36,218 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 07:02:36,218 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 07:02:36,218 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 07:02:36,219 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -1
2025-09-23 07:02:36,219 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 07:04:36,319 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 07:04:36,319 - INFO - github_runner_manager.reconcile_service - Reconcile ID: db5dcdf6-dc83-4592-9a94-9196acceb4c5
2025-09-23 07:04:36,382 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-23 07:04:36,383 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 07:04:36,383 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:04:38,090 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 07:04:39,455 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 07:04:40,548 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 07:04:40,549 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-23 07:04:40,549 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 07:04:40,576 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['172214']
2025-09-23 07:04:40,576 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['172214']
2025-09-23 07:04:41,083 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 172214
2025-09-23 07:04:41,084 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 07:04:41,084 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 07:04:41,084 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 07:04:41,084 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 07:04:41,084 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:04:42,487 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 07:04:43,627 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 07:04:43,628 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-09-23 07:04:43,628 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-23 07:04:43,628 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:04:44,823 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 07:04:45,961 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-zyulrevf-0-n-9647cafa09ce'), metadata=RunnerMetadata(platform_name='github', runner_id='172214', url=None))])
2025-09-23 07:04:45,962 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 07:04:45,962 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 07:04:45,962 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 07:04:45,962 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-23 07:04:45,962 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 07:04:45,962 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 07:04:45,963 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 07:04:45,963 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-23 07:04:45,963 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-23 07:06:46,021 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-23 07:06:46,021 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 8fb74528-31a0-4814-a725-06d4c1d79bff
2025-09-23 07:06:46,089 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-23 07:06:46,089 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-23 07:06:46,089 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:06:50,739 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-23 07:06:52,094 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 07:06:53,615 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-23 07:06:53,615 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-23 07:06:53,615 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-23 07:06:53,640 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-23 07:06:53,640 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-23 07:06:53,640 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-23 07:06:53,640 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-23 07:06:53,641 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-23 07:06:53,641 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-23 07:06:53,641 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:06:54,951 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 07:06:56,116 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 07:06:56,117 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-09-23 07:06:56,117 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-23 07:06:56,117 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-23 07:06:57,531 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-23 07:06:58,916 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-23 07:06:58,916 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-23 07:06:58,916 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-23 07:06:58,916 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-23 07:06:58,917 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-23 07:06:58,917 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-23 07:06:58,917 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-23 07:06:58,918 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-23 07:06:58,918 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-23 07:06:58,918 - INFO - github_runner_manager.reconcile_service - End reconciliation

07:07:33 INFO Reactive log: 
cat: '/var/log/reactive_runner/*.log': No such file or directory

07:07:34 INFO Metrics log: 
{"timestamp": 1758609881.7532723, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 10.529685258865356}
{"timestamp": 1758609930.56746, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 2, "duration": 15.149376153945923}
{"timestamp": 1758610060.795406, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 2, "active_runners": 0, "expected_runners": 2, "duration": 10.102885246276855}
{"timestamp": 1758610006.0, "event": "runner_installed", "flavor": "test-zyulrevf", "duration": 79.0}
{"timestamp": 1758610006.0, "event": "runner_installed", "flavor": "test-zyulrevf", "duration": 79.0}
{"timestamp": 1758610101.9032884, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 17.16301727294922}
{"timestamp": 1758610232.1786, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 10.15142011642456}
{"timestamp": 1758610257.6298106, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 13.415956735610962}
{"timestamp": 1758610390.205633, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 1, "active_runners": 0, "expected_runners": 1, "duration": 12.421185731887817}
{"timestamp": 1758610325.0, "event": "runner_installed", "flavor": "test-zyulrevf", "duration": 71.0}
{"timestamp": 1758610523.4084058, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 13.097593545913696}
{"timestamp": 1758610558.0, "event": "runner_installed", "flavor": "test-zyulrevf", "duration": 38.0}
{"timestamp": 1758610582.0, "event": "runner_start", "flavor": "test-zyulrevf", "workflow": "Workflow Dispatch Wait Tests", "repo": "canonical/github-runner-operator", "github_event": "workflow_dispatch", "idle": 24.0, "queue_duration": 1.0}
{"timestamp": 1758610621.695291, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 1, "idle_runners": 0, "active_runners": 1, "expected_runners": 0, "duration": 17.871254205703735}
{"timestamp": 1758610752.0758865, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 10.276501417160034}
{"timestamp": 1758610773.428562, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 13.336594104766846}
{"timestamp": 1758610905.4427893, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 1, "active_runners": 0, "expected_runners": 1, "duration": 11.845888137817383}
{"timestamp": 1758610854.0, "event": "runner_installed", "flavor": "test-zyulrevf", "duration": 84.0}
{"timestamp": 1758610927.0, "event": "runner_start", "flavor": "test-zyulrevf", "workflow": "Workflow Dispatch Tests", "repo": "canonical/github-runner-operator", "github_event": "workflow_dispatch", "idle": 73.0, "queue_duration": 1.0}
{"timestamp": 1758610929.0, "event": "runner_stop", "flavor": "test-zyulrevf", "workflow": "Workflow Dispatch Tests", "repo": "canonical/github-runner-operator", "github_event": "workflow_dispatch", "status": "normal", "job_duration": 2.0, "job_conclusion": "success"}
{"timestamp": 1758610956.218549, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 17.906959056854248}
{"timestamp": 1758611085.9625652, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 9.579193115234375}
{"timestamp": 1758611218.917437, "event": "reconciliation", "flavor": "test-zyulrevf", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 12.827672719955444}

07:07:34 INFO OpenStack servers: []
07:07:38 INFO Model status:

Model                   Controller           Cloud/Region         Version  SLA          Timestamp
test-charm-runner-fmyh  github-pr-77d1e-lxd  localhost/localhost  3.6.9    unsupported  07:07:38Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-zyulrevf           active      1  github-runner-image-builder  latest/edge  110  no       
test-zyulrevf                                  active      1  github-runner                               0  no       

Unit                                     Workload  Agent  Machine  Public address  Ports  Message
github-runner-image-builder-zyulrevf/0*  active    idle   0        10.231.12.186          
test-zyulrevf/0*                         active    idle   1        10.231.12.150          

Machine  State    Address        Inst id        Base          AZ             Message
0        started  10.231.12.186  juju-9180ff-0  ubuntu@22.04  github-runner  Running
1        started  10.231.12.150  juju-9180ff-1  ubuntu@22.04  github-runner  Running

07:07:38 INFO Juju error logs:

machine-0: 06:29:38 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 06:29:38 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-zyulrevf-0: 06:29:38 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 06:29:46 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 06:29:46 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-test-zyulrevf-0: 06:29:46 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-github-runner-image-builder-zyulrevf-0: 06:30:41 ERROR unit.github-runner-image-builder-zyulrevf/0.juju-log Pipx command failed, code: 1, out: None, err: None
unit-test-zyulrevf-0: 06:31:31 ERROR unit.test-zyulrevf/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-zyulrevf-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-zyulrevf-0/charm/./src/charm.py", line 342, in _on_config_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-zyulrevf-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-zyulrevf-0: 06:31:35 ERROR unit.test-zyulrevf/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-zyulrevf-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-zyulrevf-0/charm/./src/charm.py", line 313, in _on_start
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-zyulrevf-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-zyulrevf-0: 06:32:36 ERROR unit.test-zyulrevf/0.juju-log image:0: Missing image in image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-zyulrevf-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-zyulrevf-0/charm/./src/charm.py", line 477, in _on_image_relation_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-zyulrevf-0/charm/./src/charm.py", line 514, in _check_image_ready
    raise ImageNotFoundError("No image found in the image integration")
errors.ImageNotFoundError: No image found in the image integration

07:07:38 INFO Forgetting model main...