{"uid":"5b65204ced4d1f6","name":"test_reactive_mode_scale_down","fullName":"tests.integration.test_reactive#test_reactive_mode_scale_down","historyId":"bb6817de59a8aff167470484d2d33ee6","time":{"start":1748933381998,"stop":1748934197694,"duration":815696},"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","descriptionHtml":"<pre><code>arrange: Scale down the number of virtual machines to 2 and spawn a job.\nact:\n    1. Scale down the number of virtual machines to 0 and call reconcile.\n    2. Spawn a job.\nassert:\n    1. The job fails.\n    2. The job is queued and there is a message in the queue.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1748931860588,"stop":1748931861127,"duration":539},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1748931860588,"stop":1748931860588,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1748931860588,"stop":1748931860588,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1748931860588,"stop":1748931860588,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1748931861127,"stop":1748931861127,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1748931861128,"stop":1748931861549,"duration":421},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1748931861549,"stop":1748931862287,"duration":738},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1748931861549,"stop":1748931861549,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1748931862287,"stop":1748931864468,"duration":2181},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1748931864468,"stop":1748931864468,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1748931864468,"stop":1748931864468,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mongodb","time":{"start":1748931864469,"stop":1748931866594,"duration":2125},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1748931866595,"stop":1748931866595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1748931866595,"stop":1748931866595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1748931866595,"stop":1748931866595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1748931866595,"stop":1748931866595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1748931866595,"stop":1748931866595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1748931866595,"stop":1748931866595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1748931866595,"stop":1748931866595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1748931866595,"stop":1748931866595,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1748931866596,"stop":1748931866596,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1748931866596,"stop":1748931866596,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1748931866596,"stop":1748931866596,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1748931866596,"stop":1748931866596,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1748931866596,"stop":1748931866596,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1748931866596,"stop":1748931866607,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1748931866596,"stop":1748931866596,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1748931866607,"stop":1748931866622,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1748931866622,"stop":1748931869057,"duration":2435},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1748931869058,"stop":1748932804938,"duration":935880},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_reactive","time":{"start":1748932804938,"stop":1748932846233,"duration":41295},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1748933323605,"stop":1748933323605,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1748933323605,"stop":1748933381997,"duration":58392},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","status":"passed","steps":[],"attachments":[{"uid":"e6d6e990214a1f8e","name":"log","source":"e6d6e990214a1f8e.txt","type":"text/plain","size":4977}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1748934197694,"stop":1748934226909,"duration":29215},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1748934226909,"stop":1748934226909,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1748934226910,"stop":1748934227300,"duration":390},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1748934227301,"stop":1748934228473,"duration":1172},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1748934228477,"stop":1748934229007,"duration":530},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1748934229009,"stop":1748934229319,"duration":310},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1748934229320,"stop":1748934229320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1748934229320,"stop":1748934229320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1748934229320,"stop":1748934229320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_reactive"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12571-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_reactive"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a93dab3e04850d68","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":18,"broken":36,"skipped":3,"passed":83,"unknown":15,"total":155},"items":[{"uid":"38011e917988ec67","reportUrl":"../2776//#testresult/38011e917988ec67","status":"passed","time":{"start":1748890488750,"stop":1748891307612,"duration":818862}},{"uid":"223a24e36f2a74c6","reportUrl":"../2774//#testresult/223a24e36f2a74c6","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1748849249882,"stop":1748849249882,"duration":0}},{"uid":"100ce53ef69830b6","reportUrl":"../2770//#testresult/100ce53ef69830b6","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1748802209199,"stop":1748802209199,"duration":0}},{"uid":"f788d25c115beb28","reportUrl":"../2769//#testresult/f788d25c115beb28","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1748759032762,"stop":1748759032762,"duration":0}},{"uid":"82f7a2386ebdfe10","reportUrl":"../2768//#testresult/82f7a2386ebdfe10","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1748715807546,"stop":1748715807546,"duration":0}},{"uid":"68abb89d45cb7817","reportUrl":"../2767//#testresult/68abb89d45cb7817","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1748672651154,"stop":1748672651154,"duration":0}},{"uid":"b8d2f61ce2742427","reportUrl":"../2766//#testresult/b8d2f61ce2742427","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1748629451474,"stop":1748629451474,"duration":0}},{"uid":"260bd809f9a4061f","reportUrl":"../2765//#testresult/260bd809f9a4061f","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1748586311574,"stop":1748586311574,"duration":0}},{"uid":"f782373cd4c000e4","reportUrl":"../2764//#testresult/f782373cd4c000e4","status":"unknown","time":{}},{"uid":"1578b12367d9b73","reportUrl":"../2763//#testresult/1578b12367d9b73","status":"unknown","time":{}},{"uid":"ca7fcf70ee74347b","reportUrl":"../2762//#testresult/ca7fcf70ee74347b","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1748456702816,"stop":1748456702816,"duration":0}},{"uid":"7c7be2093fe55c1","reportUrl":"../2759//#testresult/7c7be2093fe55c1","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1748413482212,"stop":1748413482212,"duration":0}},{"uid":"cdcfbc3521883068","reportUrl":"../2756//#testresult/cdcfbc3521883068","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1748370209626,"stop":1748370209626,"duration":0}},{"uid":"842653b6b99c4bb2","reportUrl":"../2754//#testresult/842653b6b99c4bb2","status":"passed","time":{"start":1748329372906,"stop":1748330233922,"duration":861016}},{"uid":"8415693e6a85f692","reportUrl":"../2748//#testresult/8415693e6a85f692","status":"passed","time":{"start":1748285384941,"stop":1748286253921,"duration":868980}},{"uid":"de3d5e89ede519ae","reportUrl":"../2747//#testresult/de3d5e89ede519ae","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-tofnnvcp/0 [idle] maintenance: Reconciling runners","time":{"start":1748242292151,"stop":1748243851229,"duration":1559078}},{"uid":"92db04cff6540ed1","reportUrl":"../2746//#testresult/92db04cff6540ed1","status":"passed","time":{"start":1748198681887,"stop":1748199492449,"duration":810562}},{"uid":"d183f92630d8ae2c","reportUrl":"../2745//#testresult/d183f92630d8ae2c","status":"failed","statusDetails":"AssertionError","time":{"start":1748156422434,"stop":1748157233275,"duration":810841}},{"uid":"7509e9c72317c1c6","reportUrl":"../2743//#testresult/7509e9c72317c1c6","status":"passed","time":{"start":1748069170712,"stop":1748069977212,"duration":806500}},{"uid":"9e51bf7c97e718ce","reportUrl":"../2742//#testresult/9e51bf7c97e718ce","status":"passed","time":{"start":1748026042044,"stop":1748026933701,"duration":891657}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"5b65204ced4d1f6.json","parameterValues":[]}