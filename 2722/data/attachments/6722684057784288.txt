18:24:00 WARNING unexpected facade SSHServer received from the controller
18:24:00 INFO Adding model github-pr-648c9-lxd:test-charm-fork-path-change-rm3w on cloud localhost
18:24:00 WARNING unexpected facade SSHServer received from the controller
18:24:00 WARNING unexpected facade SSHSession received from the controller
18:24:00 WARNING unexpected facade SSHTunneler received from the controller
18:24:02 INFO Deploying ch:amd64/jammy/github-runner-image-builder-81
18:24:26 INFO Deploying local:jammy/github-runner-0
18:24:26 INFO Waiting for model:
  test-hr7rxo41/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-hr7rxo41/0 [allocating] waiting: waiting for machine
18:24:57 INFO Waiting for model:
  test-hr7rxo41/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-hr7rxo41/0 [allocating] waiting: waiting for machine
18:25:27 INFO Waiting for model:
  test-hr7rxo41/0 [allocating] waiting: agent initialising
  github-runner-image-builder-hr7rxo41/0 [executing] maintenance: Setting up Builder.
18:25:58 INFO Waiting for model:
  test-hr7rxo41/0 [executing] maintenance: installing charm software
  github-runner-image-builder-hr7rxo41/0 [executing] maintenance: Setting up Builder.
18:26:28 INFO Waiting for model:
  test-hr7rxo41/0 [executing] maintenance: installing charm software
  github-runner-image-builder-hr7rxo41/0 [executing] maintenance: Setting up Builder.
18:26:58 INFO Waiting for model:
  test-hr7rxo41/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-hr7rxo41/0 [executing] maintenance: Setting up Builder.
18:27:28 INFO Waiting for model:
  test-hr7rxo41/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-hr7rxo41/0 [executing] maintenance: Setting up Builder.
18:27:59 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:28:29 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:28:59 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:29:29 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:29:59 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:30:29 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:31:00 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:31:30 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:32:00 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:32:30 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:33:00 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:33:30 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:34:00 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:34:30 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:35:00 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:35:30 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:36:01 INFO Waiting for model:
  test-hr7rxo41/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-hr7rxo41/0 [executing] active: Building image.
18:36:31 INFO Waiting for model:
  test-hr7rxo41/0 [executing] maintenance: Reconciling runners
  github-runner-image-builder-hr7rxo41/0 [idle] active: 
18:36:55 INFO GitHub token rate limit: Rate(reset=2025-05-20 19:25:39+00:00, remaining=4889, limit=5000)
18:37:07 INFO test_path_config_change
18:37:07 INFO Waiting for model:
  test-hr7rxo41/0 [idle] active: 
18:37:37 INFO Waiting for model:
  test-hr7rxo41/0 [executing] maintenance: Reconciling runners
18:38:07 INFO Waiting for model:
  test-hr7rxo41/0 [idle] active: 
18:38:08 INFO Ensure there is a runner (this calls reconcile)
18:41:23 INFO Waiting for model:
  test-hr7rxo41/0 [executing] active: 
18:41:53 INFO Reconciling (again)
18:45:05 INFO Waiting for model:
  test-hr7rxo41/0 [executing] maintenance: Reconciling runners
18:45:38 INFO runners: ['test-hr7rxo41-0-n-d623d1dd0b49']
18:45:39 INFO runners in github repo: [SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-0e266d7b2920"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-19628ff013b7"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-1d7d1b823f9d"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-2af75e3700f5"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-30d111e84a27"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-573a3f06bff1"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-89d8cbd3e70e"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-b8ba24de4b3e"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-b9adf71f8d79"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-ca37372fede4"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps7-0-n-4680dbc7fe96"), SelfHostedActionsRunner(name="test-b2sgzugu-0-n-a900482b5fb1"), SelfHostedActionsRunner(name="test-bawvf0w1-0-n-11a98e9b23ab"), SelfHostedActionsRunner(name="test-bc54nvba-0-n-f15f36f20b5e"), SelfHostedActionsRunner(name="test-bwbpfjo2-0-n-084ed30f5546"), SelfHostedActionsRunner(name="test-dayw1dvz-0-n-7991ad2fe5a5"), SelfHostedActionsRunner(name="test-dshtua9p-0-n-4463bb602b2f"), SelfHostedActionsRunner(name="test-g8eqxhah-0-n-715c61b1d88e"), SelfHostedActionsRunner(name="test-hr7rxo41-0-n-d623d1dd0b49"), SelfHostedActionsRunner(name="test-ia6vz9tc-0-n-f82f6960faaf"), SelfHostedActionsRunner(name="test-iluretrx-0-n-986bca714da4"), SelfHostedActionsRunner(name="test-j8q4uzk6-0-n-8df01bfc63b1"), SelfHostedActionsRunner(name="test-jbeopx6y-0-n-6a342812db16"), SelfHostedActionsRunner(name="test-jm581wr5-0-n-ca76b80fd8a8"), SelfHostedActionsRunner(name="test-k6iuy9x5-0-n-9b14c577d9f5"), SelfHostedActionsRunner(name="test-l96y6iu0-0-n-bde7003170b7"), SelfHostedActionsRunner(name="test-lagenl6a-0-n-517ba9390201"), SelfHostedActionsRunner(name="test-lcmdfftw-0-n-8fc11f73f40f"), SelfHostedActionsRunner(name="test-m10t2kbt-0-n-3e7f5fe074a4"), SelfHostedActionsRunner(name="test-m3tcvk89-0-n-3432663d2b33"), SelfHostedActionsRunner(name="test-n774nt3y-0-n-bd5f7d6c0720"), SelfHostedActionsRunner(name="test-o1kvrmf5-0-n-2b2d2e7f260e"), SelfHostedActionsRunner(name="test-rk6p5s2i-0-n-746134113fb4"), SelfHostedActionsRunner(name="test-rt7othe5-0-n-19fa66c5d494"), SelfHostedActionsRunner(name="test-tx20c4hz-0-n-c8b0e211594a"), SelfHostedActionsRunner(name="test-tzsqiy5l-0-n-bee7bb0dc723"), SelfHostedActionsRunner(name="test-zfcjwjxm-0-n-8559fd49a3b0")]
18:45:42 INFO Model status:

Model                             Controller           Cloud/Region         Version  SLA          Timestamp
test-charm-fork-path-change-rm3w  github-pr-648c9-lxd  localhost/localhost  3.6.5    unsupported  18:45:42Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-hr7rxo41           active      1  github-runner-image-builder  latest/edge   81  no       
test-hr7rxo41                                  active      1  github-runner                               0  no       

Unit                                     Workload  Agent  Machine  Public address  Ports  Message
github-runner-image-builder-hr7rxo41/0*  active    idle   0        10.170.23.238          
test-hr7rxo41/0*                         active    idle   1        10.170.23.106          

Machine  State    Address        Inst id        Base          AZ  Message
0        started  10.170.23.238  juju-3d7c3c-0  ubuntu@22.04      Running
1        started  10.170.23.106  juju-3d7c3c-1  ubuntu@22.04      Running

18:45:42 INFO Juju error logs:

machine-0: 18:25:01 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 18:25:01 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-hr7rxo41-0: 18:25:01 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 18:25:07 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 18:25:07 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-test-hr7rxo41-0: 18:25:08 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-github-runner-image-builder-hr7rxo41-0: 18:25:49 ERROR unit.github-runner-image-builder-hr7rxo41/0.juju-log Pipx command failed, code: 1, out: None, err: None
unit-test-hr7rxo41-0: 18:42:14 ERROR unit.test-hr7rxo41/0.juju-log Failed to get SSH connection while removing test-hr7rxo41-0-n-dc3bf67e1dee
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-hr7rxo41-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 216, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-hr7rxo41-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 144, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-hr7rxo41-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 340, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-hr7rxo41-0-n-dc3bf67e1dee, key path: /home/runner-manager/.ssh/test-hr7rxo41-0-n-dc3bf67e1dee.key
unit-test-hr7rxo41-0: 18:42:15 ERROR unit.test-hr7rxo41/0.juju-log Invalid pulled metrics. No runner_installed information for test-hr7rxo41-0-n-dc3bf67e1dee.
unit-test-hr7rxo41-0: 18:42:15 ERROR unit.test-hr7rxo41/0.juju-log No metrics returned after deleting test-hr7rxo41-0-n-dc3bf67e1dee
unit-test-hr7rxo41-0: 18:42:21 ERROR unit.test-hr7rxo41/0.juju-log Failed to get SSH connection while removing test-hr7rxo41-0-n-dc3bf67e1dee
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-hr7rxo41-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 216, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-hr7rxo41-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 144, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-hr7rxo41-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 340, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-hr7rxo41-0-n-dc3bf67e1dee, key path: /home/runner-manager/.ssh/test-hr7rxo41-0-n-dc3bf67e1dee.key
unit-test-hr7rxo41-0: 18:42:22 ERROR unit.test-hr7rxo41/0.juju-log Invalid pulled metrics. No runner_installed information for test-hr7rxo41-0-n-dc3bf67e1dee.
unit-test-hr7rxo41-0: 18:42:22 ERROR unit.test-hr7rxo41/0.juju-log No metrics returned after deleting test-hr7rxo41-0-n-dc3bf67e1dee
unit-test-hr7rxo41-0: 18:42:38 ERROR unit.test-hr7rxo41/0.juju-log Failed to get SSH connection while removing test-hr7rxo41-0-n-dc3bf67e1dee
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-hr7rxo41-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 216, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-hr7rxo41-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 144, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-hr7rxo41-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 340, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-hr7rxo41-0-n-dc3bf67e1dee, key path: /home/runner-manager/.ssh/test-hr7rxo41-0-n-dc3bf67e1dee.key
unit-test-hr7rxo41-0: 18:42:39 ERROR unit.test-hr7rxo41/0.juju-log Invalid pulled metrics. No runner_installed information for test-hr7rxo41-0-n-dc3bf67e1dee.
unit-test-hr7rxo41-0: 18:42:39 ERROR unit.test-hr7rxo41/0.juju-log No metrics returned after deleting test-hr7rxo41-0-n-dc3bf67e1dee

18:45:42 INFO Forgetting model main...