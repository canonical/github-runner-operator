{"uid":"cc8f831d2465088a","name":"test_reactive_mode_scale_down","fullName":"tests.integration.test_reactive#test_reactive_mode_scale_down","historyId":"bb6817de59a8aff167470484d2d33ee6","time":{"start":1743231010051,"stop":1743231941039,"duration":930988},"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","descriptionHtml":"<pre><code>arrange: Scale down the number of virtual machines to 2 and spawn a job.\nact:\n    1. Scale down the number of virtual machines to 0 and call reconcile.\n    2. Spawn a job.\nassert:\n    1. The job fails.\n    2. The job is queued and there is a message in the queue.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1743229421588,"stop":1743229422028,"duration":440},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1743229421588,"stop":1743229421588,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1743229421588,"stop":1743229421588,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1743229421588,"stop":1743229421588,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1743229422028,"stop":1743229422028,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1743229422029,"stop":1743229422375,"duration":346},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1743229422375,"stop":1743229423085,"duration":710},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1743229422375,"stop":1743229422375,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1743229423085,"stop":1743229425235,"duration":2150},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1743229425235,"stop":1743229425235,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1743229425235,"stop":1743229425235,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1743229425236,"stop":1743229425236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1743229425236,"stop":1743229425236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1743229425236,"stop":1743229425237,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1743229425236,"stop":1743229425236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1743229425236,"stop":1743229425236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1743229425236,"stop":1743229425236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1743229425236,"stop":1743229425236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1743229425236,"stop":1743229425236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1743229425236,"stop":1743229425236,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1743229425237,"stop":1743229425237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1743229425237,"stop":1743229425237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1743229425237,"stop":1743229425246,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1743229425237,"stop":1743229425237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1743229425237,"stop":1743229425237,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1743229425247,"stop":1743229425273,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1743229425273,"stop":1743229669788,"duration":244515},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1743229669788,"stop":1743230323219,"duration":653431},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mongodb","time":{"start":1743230323220,"stop":1743230435849,"duration":112629},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_reactive","time":{"start":1743230435850,"stop":1743230480144,"duration":44294},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1743230942267,"stop":1743231010050,"duration":67783},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1743230942267,"stop":1743230942267,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","status":"passed","steps":[],"attachments":[{"uid":"7f2e3d0053e51502","name":"log","source":"7f2e3d0053e51502.txt","type":"text/plain","size":17900}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1743231941039,"stop":1743231970281,"duration":29242},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1743231970282,"stop":1743231970282,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1743231970283,"stop":1743231970687,"duration":404},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1743231970688,"stop":1743231971223,"duration":535},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1743231971228,"stop":1743231971726,"duration":498},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1743231971727,"stop":1743231972075,"duration":348},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1743231972076,"stop":1743231972076,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1743231972076,"stop":1743231972076,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1743231972076,"stop":1743231972076,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_reactive"},{"name":"host","value":"github-runner"},{"name":"thread","value":"19590-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_reactive"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"407713f4805c9cb","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":2,"broken":21,"skipped":2,"passed":18,"unknown":11,"total":54},"items":[{"uid":"4a45bfd7a32141d","reportUrl":"../2239//#testresult/4a45bfd7a32141d","status":"passed","time":{"start":1743189805660,"stop":1743190853552,"duration":1047892}},{"uid":"77c98d14a2338002","reportUrl":"../2228//#testresult/77c98d14a2338002","status":"passed","time":{"start":1743147564949,"stop":1743148605846,"duration":1040897}},{"uid":"50f2b7f63ea6a67c","reportUrl":"../2224//#testresult/50f2b7f63ea6a67c","status":"passed","time":{"start":1743103705014,"stop":1743104777924,"duration":1072910}},{"uid":"d0611c26fc407807","reportUrl":"../2219//#testresult/d0611c26fc407807","status":"passed","time":{"start":1743067829214,"stop":1743068750444,"duration":921230}},{"uid":"227d0563a3c0bf62","reportUrl":"../2216//#testresult/227d0563a3c0bf62","status":"passed","time":{"start":1743020990257,"stop":1743021875319,"duration":885062}},{"uid":"2b58160cb9048c4a","reportUrl":"../2205//#testresult/2b58160cb9048c4a","status":"passed","time":{"start":1742974214165,"stop":1742975398387,"duration":1184222}},{"uid":"218b06cf2568f23e","reportUrl":"../2202//#testresult/218b06cf2568f23e","status":"passed","time":{"start":1742928932276,"stop":1742929894043,"duration":961767}},{"uid":"c14b72ba9a91e6e9","reportUrl":"../2196//#testresult/c14b72ba9a91e6e9","status":"passed","time":{"start":1742889849309,"stop":1742890870344,"duration":1021035}},{"uid":"5feabf98200008a5","reportUrl":"../2182//#testresult/5feabf98200008a5","status":"passed","time":{"start":1742800870332,"stop":1742801755600,"duration":885268}},{"uid":"f3dddec4b1b3631f","reportUrl":"../2179//#testresult/f3dddec4b1b3631f","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:o2G2wf3zLEeu1IAUUnLoohkNlus85QUe@10.17.220.142:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-qze73uhc')","time":{"start":1742755997574,"stop":1742756952513,"duration":954939}},{"uid":"1f8cc6271dd8b095","reportUrl":"../2178//#testresult/1f8cc6271dd8b095","status":"failed","statusDetails":"AssertionError: assert 1 == 0\n +  where 1 = _get_queue_size('mongodb://relation-3:2mNaWu4AwlrlxUT00ABVRdfCKBx1meBK@10.119.79.6:27017/github-runner-webhook-router?replicaSet=mongodb&authSource=admin', 'test-qvpolipv')","time":{"start":1742712878197,"stop":1742713813941,"duration":935744}},{"uid":"3cdc20da143ea3cf","reportUrl":"../2177//#testresult/3cdc20da143ea3cf","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1742670915176,"stop":1742670915176,"duration":0}},{"uid":"7a8afe73da658fc7","reportUrl":"../2176//#testresult/7a8afe73da658fc7","status":"passed","time":{"start":1742628048237,"stop":1742628942214,"duration":893977}},{"uid":"8e0673d7a75fc448","reportUrl":"../2175//#testresult/8e0673d7a75fc448","status":"passed","time":{"start":1742584638726,"stop":1742585503569,"duration":864843}},{"uid":"30a2353009df8390","reportUrl":"../2165//#testresult/30a2353009df8390","status":"passed","time":{"start":1742544950360,"stop":1742546091071,"duration":1140711}},{"uid":"62a7e558cc89072b","reportUrl":"../2156//#testresult/62a7e558cc89072b","status":"passed","time":{"start":1742496958111,"stop":1742497841954,"duration":883843}},{"uid":"9dacb44566668111","reportUrl":"../1727//#testresult/9dacb44566668111","status":"unknown","time":{}},{"uid":"abd1072c8eeb1407","reportUrl":"../1724//#testresult/abd1072c8eeb1407","status":"broken","statusDetails":"TimeoutError","time":{"start":1736672208116,"stop":1736672582087,"duration":373971}},{"uid":"c12ca5368b0abb04","reportUrl":"../1723//#testresult/c12ca5368b0abb04","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1736632052629,"stop":1736632052629,"duration":0}},{"uid":"5511a577867ade50","reportUrl":"../1722//#testresult/5511a577867ade50","status":"unknown","time":{}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"cc8f831d2465088a.json","parameterValues":[]}