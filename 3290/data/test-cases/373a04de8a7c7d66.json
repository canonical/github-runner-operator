{"uid":"373a04de8a7c7d66","name":"test_charm_issues_metrics_for_failed_repo_policy","fullName":"tests.integration.test_charm_metrics_failure#test_charm_issues_metrics_for_failed_repo_policy","historyId":"3e462e3ac295b69113097bb9edb5fd51","time":{"start":1753901300358,"stop":1753901768784,"duration":468426},"description":"\n    arrange: A properly integrated charm with a runner registered on the fork repo.\n    act: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\n    assert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n        The Reconciliation metric has the post job status set to failure.\n    ","descriptionHtml":"<pre><code>arrange: A properly integrated charm with a runner registered on the fork repo.\nact: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\nassert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n    The Reconciliation metric has the post job status set to failure.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1753900010957,"stop":1753900010957,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1753900010957,"stop":1753900010958,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1753900010958,"stop":1753900010958,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1753900010958,"stop":1753900011341,"duration":383},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1753900011342,"stop":1753900011342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1753900011342,"stop":1753900012164,"duration":822},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1753900012165,"stop":1753900023028,"duration":10863},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1753900023028,"stop":1753900024962,"duration":1934},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1753900024962,"stop":1753900024962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1753900024963,"stop":1753900024963,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1753900024963,"stop":1753901142656,"duration":1117693},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1753900024963,"stop":1753900025696,"duration":733},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1753900025696,"stop":1753900025696,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1753900025696,"stop":1753900025706,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1753900025696,"stop":1753900025696,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1753900025706,"stop":1753900025707,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1753900025707,"stop":1753900025707,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1753900025707,"stop":1753900025708,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1753900025707,"stop":1753900025707,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1753900025707,"stop":1753900025707,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1753900025708,"stop":1753900025708,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1753900025708,"stop":1753900025708,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1753900025708,"stop":1753900025708,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1753900025708,"stop":1753900025708,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1753900025709,"stop":1753900025709,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1753900025709,"stop":1753900025709,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1753900025709,"stop":1753900025709,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1753900025709,"stop":1753900025709,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1753900025710,"stop":1753900025726,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1753900025710,"stop":1753900025710,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1753900025710,"stop":1753900025710,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1753900025726,"stop":1753900025750,"duration":24},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1753900025750,"stop":1753900028097,"duration":2347},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1753900028097,"stop":1753901142655,"duration":1114558},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric","time":{"start":1753901142656,"stop":1753901142656,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1753901142657,"stop":1753901142657,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1753901142657,"stop":1753901300355,"duration":157698},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1753901300355,"stop":1753901300357,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A properly integrated charm with a runner registered on the fork repo.\n    act: Dispatch a test workflow that fails the repo-policy check. After completion, reconcile.\n    assert: The RunnerStart, RunnerStop and Reconciliation metric is logged.\n        The Reconciliation metric has the post job status set to failure.\n    ","status":"passed","steps":[],"attachments":[{"uid":"16033feef7c981b8","name":"log","source":"16033feef7c981b8.txt","type":"text/plain","size":11639}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1753901768786,"stop":1753901768786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app::finalizer","time":{"start":1753901768786,"stop":1753901768786,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric::finalizer","time":{"start":1753902372688,"stop":1753902372688,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1753902372689,"stop":1753902372689,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1753902372690,"stop":1753902372871,"duration":181},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1753902372872,"stop":1753902373017,"duration":145},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1753902373027,"stop":1753902373589,"duration":562},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1753902373590,"stop":1753902374193,"duration":603},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1753902374196,"stop":1753902374196,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1753902374196,"stop":1753902374198,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1753902374198,"stop":1753902374198,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_metrics_failure"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12258-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_metrics_failure"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"93ef1ea70cba40e","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":14,"broken":53,"skipped":0,"passed":95,"unknown":8,"total":170},"items":[{"uid":"ef94fffe3b7b9ac2","reportUrl":"../2853//#testresult/ef94fffe3b7b9ac2","status":"passed","time":{"start":1749710523190,"stop":1749710980985,"duration":457795}},{"uid":"173ab0fb9b9dc96d","reportUrl":"../2844//#testresult/173ab0fb9b9dc96d","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-doihwxg5/0 [idle] waiting: Waiting for image over integration.\n  github-runner-image-builder-doihwxg5/0 [executing] active: Building image.","time":{"start":1749666284641,"stop":1749666284641,"duration":0}},{"uid":"d4f574016f9ba78d","reportUrl":"../2840//#testresult/d4f574016f9ba78d","status":"passed","time":{"start":1749624139289,"stop":1749624527276,"duration":387987}},{"uid":"eccf863423193fd","reportUrl":"../2834//#testresult/eccf863423193fd","status":"failed","statusDetails":"AssertionError: Unable to get reconcile ID: cat: /var/log/reconcile.id: No such file or directory","time":{"start":1749579904261,"stop":1749579904261,"duration":0}},{"uid":"cf4543eb371781f9","reportUrl":"../2830//#testresult/cf4543eb371781f9","status":"failed","statusDetails":"AssertionError: Unable to get reconcile ID: cat: /var/log/reconcile.id: No such file or directory","time":{"start":1749538172044,"stop":1749538172044,"duration":0}},{"uid":"d3283517f0471fe0","reportUrl":"../2823//#testresult/d3283517f0471fe0","status":"passed","time":{"start":1749451322118,"stop":1749451717359,"duration":395241}},{"uid":"fc27f00b95e79f93","reportUrl":"../2822//#testresult/fc27f00b95e79f93","status":"passed","time":{"start":1749407897146,"stop":1749408220437,"duration":323291}},{"uid":"1f832be8aa126cef","reportUrl":"../2821//#testresult/1f832be8aa126cef","status":"passed","time":{"start":1749364596049,"stop":1749364923476,"duration":327427}},{"uid":"5916bb6442967778","reportUrl":"../2820//#testresult/5916bb6442967778","status":"passed","time":{"start":1749321511514,"stop":1749321813382,"duration":301868}},{"uid":"9d5c32e2b16528a4","reportUrl":"../2819//#testresult/9d5c32e2b16528a4","status":"passed","time":{"start":1749278320217,"stop":1749278624416,"duration":304199}},{"uid":"5245b240643c67bf","reportUrl":"../2818//#testresult/5245b240643c67bf","status":"passed","time":{"start":1749235247882,"stop":1749235864695,"duration":616813}},{"uid":"f5be736ea2a2904f","reportUrl":"../2813//#testresult/f5be736ea2a2904f","status":"failed","statusDetails":"AssertionError: No addresses to connect to for OpenStack server test-vly4avzd-0-n-7a1698fa55c5","time":{"start":1749192486795,"stop":1749192931468,"duration":444673}},{"uid":"8c7fbab20a65b418","reportUrl":"../2803//#testresult/8c7fbab20a65b418","status":"passed","time":{"start":1749106208994,"stop":1749106525875,"duration":316881}},{"uid":"9217e1c506a02739","reportUrl":"../2798//#testresult/9217e1c506a02739","status":"passed","time":{"start":1749062650763,"stop":1749062978158,"duration":327395}},{"uid":"9a17fcc45da97a46","reportUrl":"../2792//#testresult/9a17fcc45da97a46","status":"passed","time":{"start":1749019274837,"stop":1749019584562,"duration":309725}},{"uid":"b429bc620277174d","reportUrl":"../2787//#testresult/b429bc620277174d","status":"passed","time":{"start":1748975949849,"stop":1748976254517,"duration":304668}},{"uid":"83d651672d03ee07","reportUrl":"../2780//#testresult/83d651672d03ee07","status":"passed","time":{"start":1748932823573,"stop":1748933171812,"duration":348239}},{"uid":"5d4fa20ad3151ebb","reportUrl":"../2776//#testresult/5d4fa20ad3151ebb","status":"passed","time":{"start":1748889855536,"stop":1748890164774,"duration":309238}},{"uid":"1de060f768ea7990","reportUrl":"../2774//#testresult/1de060f768ea7990","status":"unknown","time":{}},{"uid":"5691211566cf7897","reportUrl":"../2770//#testresult/5691211566cf7897","status":"broken","statusDetails":"github.GithubException.BadCredentialsException: 401 {\"message\": \"Bad credentials\", \"documentation_url\": \"https://docs.github.com/rest\", \"status\": \"401\"}","time":{"start":1748802178326,"stop":1748802178326,"duration":0}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"373a04de8a7c7d66.json","parameterValues":[]}