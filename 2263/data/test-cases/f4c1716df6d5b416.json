{"uid":"f4c1716df6d5b416","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1743750736314,"stop":1743751017532,"duration":281218},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1743749865815,"stop":1743749865815,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1743749865815,"stop":1743749865815,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1743749865815,"stop":1743749865815,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1743749865816,"stop":1743749866294,"duration":478},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1743749866294,"stop":1743749866294,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1743749866294,"stop":1743750722403,"duration":856109},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1743749866294,"stop":1743749866294,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1743749866294,"stop":1743749866294,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1743749866295,"stop":1743749866295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1743749866295,"stop":1743749866295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1743749866295,"stop":1743749866295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1743749866295,"stop":1743749866295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1743749866295,"stop":1743749866295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1743749866295,"stop":1743749866295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1743749866296,"stop":1743749866296,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1743749866296,"stop":1743749866297,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1743749866296,"stop":1743749866296,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1743749866296,"stop":1743749866296,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1743749866296,"stop":1743749866296,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1743749866296,"stop":1743749866296,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1743749866297,"stop":1743749866297,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1743749866297,"stop":1743749866304,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1743749866297,"stop":1743749866297,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1743749866304,"stop":1743749866330,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1743749866330,"stop":1743750107630,"duration":241300},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1743750107631,"stop":1743750722403,"duration":614772},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1743750722403,"stop":1743750722824,"duration":421},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1743750722824,"stop":1743750723555,"duration":731},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1743750723555,"stop":1743750734372,"duration":10817},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1743750734372,"stop":1743750734380,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1743750734380,"stop":1743750736312,"duration":1932},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1743750736313,"stop":1743750736313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1743750736313,"stop":1743750736313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1743750736313,"stop":1743750736313,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"182561dd85227b02","name":"log","source":"182561dd85227b02.txt","type":"text/plain","size":8386}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1743751017533,"stop":1743751017533,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1743751017534,"stop":1743751018088,"duration":554},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1743751018090,"stop":1743751018154,"duration":64},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1743751018155,"stop":1743751019352,"duration":1197},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1743751019358,"stop":1743751019715,"duration":357},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1743751019716,"stop":1743751019716,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1743751019716,"stop":1743751019716,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1743751019716,"stop":1743751019716,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"10126-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"370560528ae2fa8f","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":9,"broken":16,"skipped":0,"passed":35,"unknown":7,"total":67},"items":[{"uid":"3f2bd670502ddfcb","reportUrl":"../2260//#testresult/3f2bd670502ddfcb","status":"passed","time":{"start":1743705575115,"stop":1743705861730,"duration":286615}},{"uid":"4682f765a9f9219e","reportUrl":"../2258//#testresult/4682f765a9f9219e","status":"failed","statusDetails":"AssertionError: In test-ka5maigh/0 found more than one runners or no runners: []","time":{"start":1743662426387,"stop":1743662863258,"duration":436871}},{"uid":"93109064bc41d7cd","reportUrl":"../2257//#testresult/93109064bc41d7cd","status":"passed","time":{"start":1743619170067,"stop":1743619556027,"duration":385960}},{"uid":"3e2363257d19b4d0","reportUrl":"../2254//#testresult/3e2363257d19b4d0","status":"passed","time":{"start":1743576162096,"stop":1743576467682,"duration":305586}},{"uid":"f21d7763536b761e","reportUrl":"../2252//#testresult/f21d7763536b761e","status":"passed","time":{"start":1743532972401,"stop":1743533418577,"duration":446176}},{"uid":"5707e24856f4940d","reportUrl":"../2250//#testresult/5707e24856f4940d","status":"passed","time":{"start":1743489976726,"stop":1743490274670,"duration":297944}},{"uid":"f6e71c43580bc875","reportUrl":"../2249//#testresult/f6e71c43580bc875","status":"passed","time":{"start":1743446378661,"stop":1743446752312,"duration":373651}},{"uid":"2522bdeacc6c03b3","reportUrl":"../2245//#testresult/2522bdeacc6c03b3","status":"passed","time":{"start":1743403339020,"stop":1743403622254,"duration":283234}},{"uid":"8dd868f04c9891d7","reportUrl":"../2243//#testresult/8dd868f04c9891d7","status":"passed","time":{"start":1743360113753,"stop":1743360415208,"duration":301455}},{"uid":"9617200f7e5435f9","reportUrl":"../2242//#testresult/9617200f7e5435f9","status":"passed","time":{"start":1743316861750,"stop":1743317204076,"duration":342326}},{"uid":"c82fd6627d65d714","reportUrl":"../2241//#testresult/c82fd6627d65d714","status":"passed","time":{"start":1743273766431,"stop":1743274070989,"duration":304558}},{"uid":"2b913ed4cb906b6b","reportUrl":"../2240//#testresult/2b913ed4cb906b6b","status":"passed","time":{"start":1743230434060,"stop":1743230775103,"duration":341043}},{"uid":"a1526cc5b622b50","reportUrl":"../2239//#testresult/a1526cc5b622b50","status":"passed","time":{"start":1743187645122,"stop":1743188142475,"duration":497353}},{"uid":"5d0e5d0613bc4f90","reportUrl":"../2228//#testresult/5d0e5d0613bc4f90","status":"passed","time":{"start":1743144847016,"stop":1743145145560,"duration":298544}},{"uid":"842057be40c604f2","reportUrl":"../2224//#testresult/842057be40c604f2","status":"passed","time":{"start":1743101012625,"stop":1743101342836,"duration":330211}},{"uid":"5c2988c6c249f631","reportUrl":"../2219//#testresult/5c2988c6c249f631","status":"passed","time":{"start":1743065080160,"stop":1743065379627,"duration":299467}},{"uid":"19698f8ba35811a1","reportUrl":"../2216//#testresult/19698f8ba35811a1","status":"passed","time":{"start":1743017982680,"stop":1743018332514,"duration":349834}},{"uid":"a8b81cbe3a987f3a","reportUrl":"../2205//#testresult/a8b81cbe3a987f3a","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/actions/workflow-jobs#download-job-logs-for-a-workflow-run\", \"status\": \"404\"}","time":{"start":1742971550515,"stop":1742971883314,"duration":332799}},{"uid":"391b76f1f1fa05f5","reportUrl":"../2202//#testresult/391b76f1f1fa05f5","status":"passed","time":{"start":1742928164523,"stop":1742928456157,"duration":291634}},{"uid":"3441540456701bb6","reportUrl":"../2196//#testresult/3441540456701bb6","status":"passed","time":{"start":1742888534637,"stop":1742888855561,"duration":320924}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"f4c1716df6d5b416.json","parameterValues":[]}