{"uid":"dd4342101921d57f","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1759257885182,"stop":1759258166572,"duration":281390},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1759256675553,"stop":1759256675553,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1759256675553,"stop":1759256675904,"duration":351},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1759256675553,"stop":1759256675553,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1759256675553,"stop":1759256675553,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1759256675904,"stop":1759256675904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1759256675904,"stop":1759256675904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1759256675904,"stop":1759256675904,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1759256675904,"stop":1759256675910,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1759256675910,"stop":1759256675910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1759256675910,"stop":1759256675910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1759256675910,"stop":1759257872460,"duration":1196550},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1759256675910,"stop":1759256675910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1759256675910,"stop":1759256675910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1759256675910,"stop":1759256675910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1759256675910,"stop":1759256675911,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1759256675910,"stop":1759256675910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1759256675910,"stop":1759256675910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1759256675910,"stop":1759256675910,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1759256675911,"stop":1759256675911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1759256675911,"stop":1759256675917,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1759256675911,"stop":1759256675911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1759256675911,"stop":1759256675911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1759256675911,"stop":1759256675911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1759256675911,"stop":1759256675911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1759256675911,"stop":1759256675911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1759256675911,"stop":1759256675911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1759256675911,"stop":1759256675911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1759256675917,"stop":1759256675929,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1759256675929,"stop":1759256677692,"duration":1763},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1759256677692,"stop":1759257872460,"duration":1194768},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1759257872460,"stop":1759257872693,"duration":233},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1759257872693,"stop":1759257873265,"duration":572},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1759257873266,"stop":1759257883902,"duration":10636},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1759257883903,"stop":1759257883915,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1759257883915,"stop":1759257885181,"duration":1266},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1759257885181,"stop":1759257885181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1759257885181,"stop":1759257885181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"f1b04950c9c8d74e","name":"log","source":"f1b04950c9c8d74e.txt","type":"text/plain","size":14900}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"forked_github_branch::0","time":{"start":1759258166573,"stop":1759258166889,"duration":316},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1759258166573,"stop":1759258166573,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1759258166890,"stop":1759258166890,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1759258166891,"stop":1759258167050,"duration":159},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1759258167051,"stop":1759258167561,"duration":510},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1759258167564,"stop":1759258169607,"duration":2043},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1759258169607,"stop":1759258169607,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1759258169607,"stop":1759258169607,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1759258169607,"stop":1759258169607,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"14787-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4deb8652b588bb59","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":28,"broken":77,"skipped":0,"passed":164,"unknown":14,"total":283},"items":[{"uid":"ad9abb219e4b950d","reportUrl":"../3697//#testresult/ad9abb219e4b950d","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-r2928efd/0","time":{"start":1759170521822,"stop":1759170521822,"duration":0}},{"uid":"432173d2c55ac6f7","reportUrl":"../3679//#testresult/432173d2c55ac6f7","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-ns70d5al/0","time":{"start":1759127329101,"stop":1759127329101,"duration":0}},{"uid":"8b0822b47b795dd5","reportUrl":"../3677//#testresult/8b0822b47b795dd5","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-yjop9hy9/0","time":{"start":1759084149557,"stop":1759084149557,"duration":0}},{"uid":"24f844672d292611","reportUrl":"../3676//#testresult/24f844672d292611","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-bmu6v86y/0","time":{"start":1759040958420,"stop":1759040958420,"duration":0}},{"uid":"3a436290b05cf592","reportUrl":"../3675//#testresult/3a436290b05cf592","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-gjhwg7n5/0","time":{"start":1758997442371,"stop":1758997442371,"duration":0}},{"uid":"85adda385ed6db00","reportUrl":"../3674//#testresult/85adda385ed6db00","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-ultl2ur6/0","time":{"start":1758954325395,"stop":1758954325395,"duration":0}},{"uid":"9cc4aae541c0ed6c","reportUrl":"../3672//#testresult/9cc4aae541c0ed6c","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-opvc8cqk/0","time":{"start":1758911214172,"stop":1758911214172,"duration":0}},{"uid":"8a7dd8a1552f3500","reportUrl":"../3669//#testresult/8a7dd8a1552f3500","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-d2px6aan/0","time":{"start":1758824804193,"stop":1758824804193,"duration":0}},{"uid":"9866c4e264e19be3","reportUrl":"../3664//#testresult/9866c4e264e19be3","status":"passed","time":{"start":1758782760672,"stop":1758783053994,"duration":293322}},{"uid":"76f37239a639dc5","reportUrl":"../3659//#testresult/76f37239a639dc5","status":"passed","time":{"start":1758741759601,"stop":1758742135818,"duration":376217}},{"uid":"516dbcfdf938ae01","reportUrl":"../3650//#testresult/516dbcfdf938ae01","status":"passed","time":{"start":1758696599734,"stop":1758696902745,"duration":303011}},{"uid":"55c496ef70d72c7d","reportUrl":"../3647//#testresult/55c496ef70d72c7d","status":"failed","statusDetails":"AssertionError: Failed to install repo-policy-compliance requirements: ERROR: Cannot install -r /home/ubuntu/repo_policy_compliance/requirements.txt (line 26) and pydantic-core==2.39.0 because these package versions have conflicting dependencies.\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts","time":{"start":1758653155260,"stop":1758653200592,"duration":45332}},{"uid":"f6b7d77c044b5916","reportUrl":"../3643//#testresult/f6b7d77c044b5916","status":"failed","statusDetails":"AssertionError: Failed to install repo-policy-compliance requirements: ERROR: Cannot install -r /home/ubuntu/repo_policy_compliance/requirements.txt (line 26) and pydantic-core==2.39.0 because these package versions have conflicting dependencies.\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts","time":{"start":1758609848833,"stop":1758609886106,"duration":37273}},{"uid":"959782058863a252","reportUrl":"../3640//#testresult/959782058863a252","status":"failed","statusDetails":"AssertionError: Failed to install repo-policy-compliance requirements: ERROR: Cannot install -r /home/ubuntu/repo_policy_compliance/requirements.txt (line 26) and pydantic-core==2.39.0 because these package versions have conflicting dependencies.\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts","time":{"start":1758567113011,"stop":1758567156411,"duration":43400}},{"uid":"18272d71fc470d03","reportUrl":"../3635//#testresult/18272d71fc470d03","status":"failed","statusDetails":"AssertionError: Failed to install repo-policy-compliance requirements: ERROR: Cannot install -r /home/ubuntu/repo_policy_compliance/requirements.txt (line 26) and pydantic-core==2.39.0 because these package versions have conflicting dependencies.\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts","time":{"start":1758523466069,"stop":1758523516864,"duration":50795}},{"uid":"1a855077dc785b7f","reportUrl":"../3634//#testresult/1a855077dc785b7f","status":"failed","statusDetails":"AssertionError: Failed to install repo-policy-compliance requirements: ERROR: Cannot install -r /home/ubuntu/repo_policy_compliance/requirements.txt (line 26) and pydantic-core==2.39.0 because these package versions have conflicting dependencies.\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts","time":{"start":1758480274371,"stop":1758480316719,"duration":42348}},{"uid":"666f97d73d86eb5e","reportUrl":"../3633//#testresult/666f97d73d86eb5e","status":"failed","statusDetails":"AssertionError: Failed to install repo-policy-compliance requirements: ERROR: Cannot install -r /home/ubuntu/repo_policy_compliance/requirements.txt (line 26) and pydantic-core==2.39.0 because these package versions have conflicting dependencies.\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts","time":{"start":1758437053438,"stop":1758437091746,"duration":38308}},{"uid":"2a72ce52411a19bc","reportUrl":"../3632//#testresult/2a72ce52411a19bc","status":"failed","statusDetails":"AssertionError: Failed to install repo-policy-compliance requirements: ERROR: Cannot install -r /home/ubuntu/repo_policy_compliance/requirements.txt (line 26) and pydantic-core==2.39.0 because these package versions have conflicting dependencies.\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts","time":{"start":1758394039208,"stop":1758394080569,"duration":41361}},{"uid":"a8636ac242aa3126","reportUrl":"../3631//#testresult/a8636ac242aa3126","status":"failed","statusDetails":"AssertionError: Failed to install repo-policy-compliance requirements: ERROR: Cannot install -r /home/ubuntu/repo_policy_compliance/requirements.txt (line 26) and pydantic-core==2.39.0 because these package versions have conflicting dependencies.\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts","time":{"start":1758350530628,"stop":1758350578019,"duration":47391}},{"uid":"24f2260b43334071","reportUrl":"../3630//#testresult/24f2260b43334071","status":"failed","statusDetails":"AssertionError: Failed to install repo-policy-compliance requirements: ERROR: Cannot install -r /home/ubuntu/repo_policy_compliance/requirements.txt (line 26) and pydantic-core==2.39.0 because these package versions have conflicting dependencies.\nERROR: ResolutionImpossible: for help visit https://pip.pypa.io/en/latest/topics/dependency-resolution/#dealing-with-dependency-conflicts","time":{"start":1758307566018,"stop":1758307616745,"duration":50727}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"dd4342101921d57f.json","parameterValues":[]}