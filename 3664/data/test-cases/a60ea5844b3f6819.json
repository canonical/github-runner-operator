{"uid":"a60ea5844b3f6819","name":"test_prometheus_metrics","fullName":"tests.integration.test_prometheus_metrics#test_prometheus_metrics","historyId":"8ad402f8a81c79aa3fa21a6fb8e0f79a","time":{"start":1758782912242,"stop":1758783420114,"duration":507872},"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","descriptionHtml":"<pre><code>arrange: given a prometheus charm application.\nact: when GitHub runner is integrated.\nassert: the datasource is registered and basic metrics are available.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1758781706901,"stop":1758781706902,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju","time":{"start":1758781706902,"stop":1758781707261,"duration":359},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1758781706902,"stop":1758781706902,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1758781706902,"stop":1758781706902,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"prometheus_app","time":{"start":1758781707262,"stop":1758781739232,"duration":31970},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_app","time":{"start":1758781739232,"stop":1758781846235,"duration":107003},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"traefik_ingress","time":{"start":1758781846235,"stop":1758781848851,"duration":2616},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1758781848851,"stop":1758781849823,"duration":972},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1758781849823,"stop":1758781849823,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1758781849823,"stop":1758781849835,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1758781849823,"stop":1758781849823,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1758781849823,"stop":1758781849823,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1758781849835,"stop":1758781849861,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1758781849861,"stop":1758781849861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1758781849861,"stop":1758781849861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1758781849861,"stop":1758781849861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1758781849861,"stop":1758781849861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1758781849861,"stop":1758781849861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1758781849861,"stop":1758781849861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1758781849861,"stop":1758781849861,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1758781849862,"stop":1758781849862,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1758781849862,"stop":1758781849862,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1758781849862,"stop":1758781849862,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1758781849862,"stop":1758781849862,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1758781849862,"stop":1758781849862,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1758781849862,"stop":1758781849862,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1758781849863,"stop":1758781849863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1758781849863,"stop":1758781849865,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1758781849863,"stop":1758781849863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1758781849863,"stop":1758781849863,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1758781849865,"stop":1758781849880,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1758781849880,"stop":1758781849918,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1758781849918,"stop":1758781852527,"duration":2609},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1758781852527,"stop":1758782901012,"duration":1048485},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_app_cos_agent","time":{"start":1758782901012,"stop":1758782906891,"duration":5879},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_password","time":{"start":1758782906891,"stop":1758782909476,"duration":2585},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1758782909476,"stop":1758782909858,"duration":382},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1758782909858,"stop":1758782910500,"duration":642},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1758782910500,"stop":1758782912239,"duration":1739},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1758782912239,"stop":1758782912240,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1758782912240,"stop":1758782912240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","status":"passed","steps":[],"attachments":[{"uid":"68637e4ffe0c0cb3","name":"log","source":"68637e4ffe0c0cb3.txt","type":"text/plain","size":67310}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1758783420115,"stop":1758783420115,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1758783420115,"stop":1758783420757,"duration":642},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1758783420761,"stop":1758783420762,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1758783420763,"stop":1758783421228,"duration":465},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1758783421229,"stop":1758783421346,"duration":117},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::finalizer","time":{"start":1758783421351,"stop":1758783421351,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1758783421352,"stop":1758783421972,"duration":620},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1758783421974,"stop":1758783421974,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1758783421974,"stop":1758783421974,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1758783421974,"stop":1758783421975,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju::0","time":{"start":1758783421974,"stop":1758783421974,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"openstack"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_prometheus_metrics"},{"name":"host","value":"github-runner"},{"name":"thread","value":"28025-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_prometheus_metrics"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"7252533592695534","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":19,"skipped":0,"passed":79,"unknown":4,"total":102},"items":[{"uid":"d981252bc0a3f05a","reportUrl":"../3659//#testresult/d981252bc0a3f05a","status":"passed","time":{"start":1758742167977,"stop":1758742731267,"duration":563290}},{"uid":"8e689189267e6baa","reportUrl":"../3650//#testresult/8e689189267e6baa","status":"passed","time":{"start":1758696635096,"stop":1758697115168,"duration":480072}},{"uid":"c77bda0f1f9b61b2","reportUrl":"../3647//#testresult/c77bda0f1f9b61b2","status":"passed","time":{"start":1758655326756,"stop":1758655803048,"duration":476292}},{"uid":"cf6717b8543312f","reportUrl":"../3643//#testresult/cf6717b8543312f","status":"passed","time":{"start":1758612281382,"stop":1758612769199,"duration":487817}},{"uid":"423671fa9b8d06e3","reportUrl":"../3640//#testresult/423671fa9b8d06e3","status":"passed","time":{"start":1758568833268,"stop":1758569305958,"duration":472690}},{"uid":"ad022374032a8b5d","reportUrl":"../3635//#testresult/ad022374032a8b5d","status":"passed","time":{"start":1758525458347,"stop":1758525944695,"duration":486348}},{"uid":"a3896e65d8fe2e83","reportUrl":"../3634//#testresult/a3896e65d8fe2e83","status":"passed","time":{"start":1758482331767,"stop":1758482839753,"duration":507986}},{"uid":"8ac8fee00a08b582","reportUrl":"../3633//#testresult/8ac8fee00a08b582","status":"passed","time":{"start":1758438882283,"stop":1758439385696,"duration":503413}},{"uid":"b847b516118b6a97","reportUrl":"../3632//#testresult/b847b516118b6a97","status":"passed","time":{"start":1758395786336,"stop":1758396285372,"duration":499036}},{"uid":"6d58bcd1abd14928","reportUrl":"../3631//#testresult/6d58bcd1abd14928","status":"passed","time":{"start":1758353220222,"stop":1758353708161,"duration":487939}},{"uid":"9abad2c03e080f34","reportUrl":"../3630//#testresult/9abad2c03e080f34","status":"passed","time":{"start":1758307908214,"stop":1758308394288,"duration":486074}},{"uid":"6a77f14f154d380a","reportUrl":"../3629//#testresult/6a77f14f154d380a","status":"passed","time":{"start":1758266520119,"stop":1758267071368,"duration":551249}},{"uid":"ac50f620a518b067","reportUrl":"../3625//#testresult/ac50f620a518b067","status":"passed","time":{"start":1758178124955,"stop":1758178670017,"duration":545062}},{"uid":"7a05c8a7fc1a9e92","reportUrl":"../3624//#testresult/7a05c8a7fc1a9e92","status":"passed","time":{"start":1758137598661,"stop":1758138082507,"duration":483846}},{"uid":"4bd450bf77fe6d7","reportUrl":"../3603//#testresult/4bd450bf77fe6d7","status":"passed","time":{"start":1758094229640,"stop":1758094719131,"duration":489491}},{"uid":"53e495c896911cf0","reportUrl":"../3598//#testresult/53e495c896911cf0","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-uoaerpxt/0","time":{"start":1758047973942,"stop":1758047973942,"duration":0}},{"uid":"1c0715dea8eff45e","reportUrl":"../3594//#testresult/1c0715dea8eff45e","status":"passed","time":{"start":1757920960578,"stop":1757921513859,"duration":553281}},{"uid":"4a08b08a09ceaa44","reportUrl":"../3588//#testresult/4a08b08a09ceaa44","status":"passed","time":{"start":1757875561758,"stop":1757876046463,"duration":484705}},{"uid":"37f2bc99e3ac4f66","reportUrl":"../3587//#testresult/37f2bc99e3ac4f66","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-gmow5cjv/0 [idle] waiting: Waiting for image over integration.\n  github-runner-image-builder-gmow5cjv/0 [executing] active: Building image.","time":{"start":1757831366804,"stop":1757831366804,"duration":0}},{"uid":"7ab4bd3d70606800","reportUrl":"../3586//#testresult/7ab4bd3d70606800","status":"passed","time":{"start":1757789649469,"stop":1757790140756,"duration":491287}}]},"tags":["asyncio","openstack"]},"source":"a60ea5844b3f6819.json","parameterValues":[]}