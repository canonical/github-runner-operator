{"uid":"5ac4cb1c0e8dc90d","name":"test_check_runner","fullName":"tests.integration.test_charm_runner#test_check_runner","historyId":"12a68b8b2db69a504c7ce4ec1d8371c1","time":{"start":1770879220887,"stop":1770879381997,"duration":161110},"description":"\n    arrange: A working application with one runner.\n    act: Run check_runner action.\n    assert: Action returns result with one runner.\n    ","descriptionHtml":"<pre><code>arrange: A working application with one runner.\nact: Run check_runner action.\nassert: Action returns result with one runner.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":3,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1770879011989,"stop":1770879011989,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1770879011989,"stop":1770879220886,"duration":208897},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1770879011990,"stop":1770879012323,"duration":333},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1770879011990,"stop":1770879011990,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1770879012323,"stop":1770879012323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1770879012323,"stop":1770879012328,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1770879012323,"stop":1770879012323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"cli_base_option","time":{"start":1770879012328,"stop":1770879012328,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"available_charm_files","time":{"start":1770879012328,"stop":1770879012329,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"artifact_catalog","time":{"start":1770879012329,"stop":1770879012329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1770879012329,"stop":1770879012329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1770879012329,"stop":1770879012329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1770879012329,"stop":1770879012329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1770879012329,"stop":1770879012329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"selected_artifact","time":{"start":1770879012329,"stop":1770879012329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"deployment_context","time":{"start":1770879012329,"stop":1770879012329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1770879012329,"stop":1770879012329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1770879012329,"stop":1770879012329,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1770879012330,"stop":1770879012330,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1770879012330,"stop":1770879012345,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1770879012345,"stop":1770879015765,"duration":3420},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1770879015765,"stop":1770879015765,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1770879015765,"stop":1770879220886,"duration":205121},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1770879220886,"stop":1770879220886,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1770879220886,"stop":1770879220886,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1770879220886,"stop":1770879220886,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A working application with one runner.\n    act: Run check_runner action.\n    assert: Action returns result with one runner.\n    ","status":"passed","steps":[],"attachments":[{"uid":"7f6a2843fc061875","name":"log","source":"7f6a2843fc061875.txt","type":"text/plain","size":2919}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1770879381998,"stop":1770879537102,"duration":155104},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1770879537102,"stop":1770879537102,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1770880094411,"stop":1770880094412,"duration":1},"status":"broken","statusMessage":"websockets.exceptions.ConnectionClosedOK: received 1000 (OK); then sent 1000 (OK)\n","statusTrace":"  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.12/site-packages/allure_commons/_allure.py\", line 231, in __call__\n    return self._fixture_function(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 300, in finalizer\n    event_loop.run_until_complete(async_finalizer())\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.12/site-packages/nest_asyncio.py\", line 98, in run_until_complete\n    return f.result()\n           ^^^^^^^^^^\n  File \"/usr/lib/python3.12/asyncio/futures.py\", line 203, in result\n    raise self._exception.with_traceback(self._exception_tb)\n  File \"/usr/lib/python3.12/asyncio/tasks.py\", line 314, in __step_run_and_handle_result\n    result = coro.send(None)\n             ^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 292, in async_finalizer\n    await gen_obj.__anext__()\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/tests/integration/conftest.py\", line 656, in app_openstack_runner_fixture\n    app_log = await get_github_runner_manager_service_log(unit=application.units[0])\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/tests/integration/helpers/common.py\", line 495, in get_github_runner_manager_service_log\n    return_code, stdout, stderr = await run_in_unit(\n                                  ^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/tests/integration/helpers/common.py\", line 75, in run_in_unit\n    action: Action = await unit.run(command, timeout)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.12/site-packages/juju/unit.py\", line 256, in run\n    res = await action.Run(\n          ^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.12/site-packages/juju/client/facade.py\", line 482, in wrapper\n    reply = await f(*args, **kwargs)\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.12/site-packages/juju/client/_client7.py\", line 258, in Run\n    reply = await self.rpc(msg)\n            ^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.12/site-packages/juju/client/facade.py\", line 680, in rpc\n    result = await self.connection.rpc(msg, encoder=TypeEncoder)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.12/site-packages/juju/client/connection.py\", line 574, in rpc\n    await self._ws.send(outgoing)\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.12/site-packages/websockets/legacy/protocol.py\", line 628, in send\n    await self.ensure_open()\n  File \"/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.12/site-packages/websockets/legacy/protocol.py\", line 929, in ensure_open\n    raise self.connection_closed_exc()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1770880094413,"stop":1770880094413,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1770880094413,"stop":1770880094788,"duration":375},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1770880094790,"stop":1770880095032,"duration":242},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1770880095032,"stop":1770880095033,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1770880095033,"stop":1770880095033,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1770880095033,"stop":1770880095033,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_runner"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12238-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_runner"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"77e232293d6b987b","status":"passed","time":{"start":1770879127915,"stop":1770879291638,"duration":163723}},{"uid":"570caa06a38f1c11","status":"unknown","time":{}},{"uid":"f08471fb757153cf","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":48,"broken":107,"skipped":0,"passed":325,"unknown":36,"total":516},"items":[{"uid":"895e95206682fe8f","reportUrl":"../5000//#testresult/895e95206682fe8f","status":"passed","time":{"start":1770835826790,"stop":1770835990468,"duration":163678}},{"uid":"746d7b6f1f6ae748","reportUrl":"../4983//#testresult/746d7b6f1f6ae748","status":"passed","time":{"start":1770792811354,"stop":1770792974486,"duration":163132}},{"uid":"d71ccd3d14bcd76e","reportUrl":"../4974//#testresult/d71ccd3d14bcd76e","status":"unknown","time":{}},{"uid":"f03333d3333b1973","reportUrl":"../4953//#testresult/f03333d3333b1973","status":"unknown","time":{}},{"uid":"e7547efe589fe55c","reportUrl":"../4951//#testresult/e7547efe589fe55c","status":"unknown","time":{}},{"uid":"310047aaafe294d2","reportUrl":"../4942//#testresult/310047aaafe294d2","status":"unknown","time":{}},{"uid":"ddce8dddbd509561","reportUrl":"../4931//#testresult/ddce8dddbd509561","status":"unknown","time":{}},{"uid":"614a783e9bdc09d","reportUrl":"../4930//#testresult/614a783e9bdc09d","status":"passed","time":{"start":1770532438737,"stop":1770532599903,"duration":161166}},{"uid":"d952965acadc61fa","reportUrl":"../4929//#testresult/d952965acadc61fa","status":"passed","time":{"start":1770488553754,"stop":1770488714954,"duration":161200}},{"uid":"580cf32c6cc8ea08","reportUrl":"../4927//#testresult/580cf32c6cc8ea08","status":"passed","time":{"start":1770445793387,"stop":1770445955499,"duration":162112}},{"uid":"4c1676d7ba9777b4","reportUrl":"../4926//#testresult/4c1676d7ba9777b4","status":"unknown","time":{}},{"uid":"5a479cb156f381fa","reportUrl":"../4921//#testresult/5a479cb156f381fa","status":"passed","time":{"start":1770359713716,"stop":1770359875426,"duration":161710}},{"uid":"48e11b883946b0b7","reportUrl":"../4914//#testresult/48e11b883946b0b7","status":"passed","time":{"start":1770316563258,"stop":1770316725032,"duration":161774}},{"uid":"54e01431e09a855d","reportUrl":"../4906//#testresult/54e01431e09a855d","status":"unknown","time":{}},{"uid":"f6c1d1876fb4636e","reportUrl":"../4897//#testresult/f6c1d1876fb4636e","status":"passed","time":{"start":1770229993855,"stop":1770230156705,"duration":162850}},{"uid":"8ed53e1ab8547b14","reportUrl":"../4888//#testresult/8ed53e1ab8547b14","status":"passed","time":{"start":1770186824541,"stop":1770186987363,"duration":162822}},{"uid":"3b814467432e070f","reportUrl":"../4868//#testresult/3b814467432e070f","status":"passed","time":{"start":1770100419774,"stop":1770100582493,"duration":162719}},{"uid":"a78e6a4bf862c323","reportUrl":"../4842//#testresult/a78e6a4bf862c323","status":"passed","time":{"start":1770016396792,"stop":1770016560015,"duration":163223}},{"uid":"8b707203faa96e2d","reportUrl":"../4834//#testresult/8b707203faa96e2d","status":"passed","time":{"start":1769970211380,"stop":1769970374592,"duration":163212}},{"uid":"2a01aab7ade57a2e","reportUrl":"../4833//#testresult/2a01aab7ade57a2e","status":"passed","time":{"start":1769927694010,"stop":1769927857728,"duration":163718}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"5ac4cb1c0e8dc90d.json","parameterValues":[]}