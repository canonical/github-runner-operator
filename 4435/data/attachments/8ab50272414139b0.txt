06:54:30 INFO Waiting for model:
  test-nob0u11u/0 [idle] active: 
06:55:00 INFO Waiting for model:
  test-nob0u11u/0 [idle] active: 
06:55:04 INFO Current reconcile ID: 3ba4ecdb-5637-4714-a063-f68b4e343ae0
06:55:04 INFO Waiting for reconcile ID: 3ba4ecdb-5637-4714-a063-f68b4e343ae0
06:56:05 INFO Current reconcile ID: 3ba4ecdb-5637-4714-a063-f68b4e343ae0
06:56:05 INFO Current reconcile ID: 3ba4ecdb-5637-4714-a063-f68b4e343ae0, expected reconcile ID: 3ba4ecdb-5637-4714-a063-f68b4e343ae0
06:56:05 INFO Waiting for reconcile ID: 3ba4ecdb-5637-4714-a063-f68b4e343ae0
06:57:06 INFO Current reconcile ID: ca0d2d06-90c7-4fbd-816f-1ba8720ada6a
06:57:06 INFO Current reconcile ID: ca0d2d06-90c7-4fbd-816f-1ba8720ada6a, expected reconcile ID: 3ba4ecdb-5637-4714-a063-f68b4e343ae0
06:57:10 INFO Waiting for model:
  test-nob0u11u/0 [idle] active: 
06:57:40 INFO Waiting for model:
  test-nob0u11u/0 [idle] active: 
06:57:43 INFO Current reconcile ID: 52a5c2fc-a75b-40d9-8c9f-fd6a56ce49cc
06:57:43 INFO Waiting for reconcile ID: 52a5c2fc-a75b-40d9-8c9f-fd6a56ce49cc
06:58:44 INFO Current reconcile ID: 52a5c2fc-a75b-40d9-8c9f-fd6a56ce49cc
06:58:44 INFO Current reconcile ID: 52a5c2fc-a75b-40d9-8c9f-fd6a56ce49cc, expected reconcile ID: 52a5c2fc-a75b-40d9-8c9f-fd6a56ce49cc
06:58:44 INFO Waiting for reconcile ID: 52a5c2fc-a75b-40d9-8c9f-fd6a56ce49cc
06:59:45 INFO Current reconcile ID: 47ede8ba-ef2d-4641-bd48-3db09ef47cc8
06:59:45 INFO Current reconcile ID: 47ede8ba-ef2d-4641-bd48-3db09ef47cc8, expected reconcile ID: 52a5c2fc-a75b-40d9-8c9f-fd6a56ce49cc
06:59:46 INFO Application log: 
2025-12-18 06:22:27,301 - INFO - root - Starting GitHub runner manager service version: 0.10.0
2025-12-18 06:22:27,306 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-12-18 06:22:27,307 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-12-18 06:22:27,307 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-12-18 06:22:27,307 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-12-18 06:22:27,307 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:22:27,307 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 0b5ed284-2a1c-4fea-9283-2ca42094601a
2025-12-18 06:22:27,325 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-12-18 06:22:27,325 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:22:27,325 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:22:27,681 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:22:28,942 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:22:29,825 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:22:31,203 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:22:31,203 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:22:31,203 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:22:31,237 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:22:31,237 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:22:31,237 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:22:31,238 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:22:31,238 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:22:31,238 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:22:31,238 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:22:33,306 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:22:34,213 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:22:34,213 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-12-18 06:22:34,213 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:22:34,213 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:22:35,704 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:22:36,615 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:22:36,615 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:22:36,615 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:22:36,615 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:22:36,615 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-12-18 06:22:36,616 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:22:36,616 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:22:36,616 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:22:36,616 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:22:36,616 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:22:41,953 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:22:41] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:22:41,959 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:22:41] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:22:41,965 - INFO - github_runner_manager.http_server - Attempting to acquire the lock: unlocked
2025-12-18 06:22:41,965 - INFO - github_runner_manager.http_server - Flushing runners...
2025-12-18 06:22:41,983 - INFO - github_runner_manager.http_server - Flushing busy: False
2025-12-18 06:22:41,983 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:22:41,983 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:22:42,327 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:22:43,697 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:22:44,705 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:22:46,202 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:22:46,202 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:22:46,202 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:22:46,236 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:22:46,236 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:22:46,237 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:22:46,237 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:22:46,237 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:22:46,237 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:22:46,237 - INFO - github_runner_manager.manager.runner_manager - runner_manager::flush_runners. mode FlushMode.FLUSH_IDLE
2025-12-18 06:22:46,237 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:22:47,640 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:22:48,620 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:22:48,620 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-12-18 06:22:48,620 - INFO - github_runner_manager.manager.runner_manager - Runners to flush: set()
2025-12-18 06:22:48,620 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: []
2025-12-18 06:22:48,620 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:22:48,620 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-12-18 06:22:48,620 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:22:48,620 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: []
2025-12-18 06:22:48,620 - INFO - github_runner_manager.manager.runner_manager - Deleted VMs: []
2025-12-18 06:22:48,620 - INFO - github_runner_manager.http_server - Flushed 0 runners
2025-12-18 06:22:48,620 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:22:48] "[35m[1mPOST /runner/flush?flush-busy=False HTTP/1.1[0m" 204 -
2025-12-18 06:23:05,961 - INFO - root - Starting GitHub runner manager service version: 0.10.0
2025-12-18 06:23:05,967 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-12-18 06:23:05,968 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-12-18 06:23:05,968 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-12-18 06:23:05,968 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-12-18 06:23:05,968 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:23:05,968 - INFO - github_runner_manager.reconcile_service - Reconcile ID: e1df1d28-7863-46c7-9cc2-8fb0552f30c2
2025-12-18 06:23:05,987 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-12-18 06:23:05,987 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:23:05,988 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:23:06,334 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:23:07,717 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:23:08,581 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:23:10,086 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:23:10,086 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:23:10,086 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:23:10,125 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:23:10,125 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:23:10,125 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:23:10,125 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:23:10,125 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:23:10,125 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:23:10,125 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:23:11,566 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:23:12,513 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:23:12,514 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 2
2025-12-18 06:23:12,514 - INFO - github_runner_manager.manager.runner_manager - Creating 2 runners
2025-12-18 06:23:12,957 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='283964', url=None))
2025-12-18 06:23:13,015 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='283965', url=None))
2025-12-18 06:23:14,614 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-nob0u11u-0-n-5b31d7e6f824 created successfully
2025-12-18 06:23:14,717 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-nob0u11u-0-n-a059bbffb89b created successfully
2025-12-18 06:23:14,718 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:23:16,321 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:23:17,325 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:23:17,326 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-a059bbffb89b: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:23:17,326 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-5b31d7e6f824: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:23:17,326 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:23:17,326 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:23:17,326 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:23:17,326 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-a059bbffb89b', instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>), RunnerInstance(name='test-nob0u11u-0-n-5b31d7e6f824', instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-12-18 06:23:17,326 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:23:17,326 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:23:17,326 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:23:17,326 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 2
2025-12-18 06:23:17,326 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:23:20,606 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:23:20] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:25:17,340 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:25:17,340 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 904407fe-ac35-43b1-a44b-8fd7bca9b47b
2025-12-18 06:25:17,359 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-12-18 06:25:17,359 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:25:17,359 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:25:17,719 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:25:19,082 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:25:19,888 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:25:21,238 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:25:21,238 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 2 key files, clean up 0 key files
2025-12-18 06:25:21,238 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:25:21,282 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:25:21,282 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:25:21,282 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:25:21,282 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:25:21,282 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:25:21,282 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:25:21,282 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:25:22,983 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:25:23,926 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:25:23,926 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 2 to 2
2025-12-18 06:25:23,926 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:25:23,926 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:25:25,564 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:25:26,491 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:25:26,492 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-a059bbffb89b: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:25:26,492 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-5b31d7e6f824: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:25:26,492 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:25:26,492 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:25:26,492 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:25:26,492 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-a059bbffb89b', instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>), RunnerInstance(name='test-nob0u11u-0-n-5b31d7e6f824', instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-12-18 06:25:26,492 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:25:26,492 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:25:26,492 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:25:26,492 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:25:26,492 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:25:39,811 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:25:39] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:25:39,817 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:25:39,835 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:25:40,171 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:25:43,228 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:25:44,228 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:25:44,228 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:25:44] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:26:15,840 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:26:15] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:26:15,845 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:26:15,867 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:26:16,217 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:26:17,759 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:26:18,613 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:26:18,614 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:26:18] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:26:49,872 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:26:49] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:26:49,877 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:26:49,900 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:26:50,225 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:26:51,860 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:26:52,784 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:26:52,785 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:26:52] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:26:53,902 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:26:53] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:26:53,908 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:26:53,926 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:26:54,267 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:26:56,153 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:26:56,995 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:26:56,996 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:26:56] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:26:58,768 - INFO - root - Starting GitHub runner manager service version: 0.10.0
2025-12-18 06:26:58,773 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-12-18 06:26:58,774 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-12-18 06:26:58,774 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-12-18 06:26:58,774 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-12-18 06:26:58,774 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:26:58,774 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 9677775d-3065-4643-b555-7f62fedb17b9
2025-12-18 06:26:58,793 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-12-18 06:26:58,794 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:26:58,794 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:26:59,156 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:27:00,813 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:27:01,726 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:27:04,124 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:27:04,125 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 2 key files, clean up 0 key files
2025-12-18 06:27:04,125 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:27:04,161 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:27:04,161 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:27:04,161 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:27:04,161 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:27:04,161 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:27:04,162 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:27:04,162 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:27:05,792 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:27:06,814 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:27:06,814 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 2 to 0
2025-12-18 06:27:06,814 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 2 runners
2025-12-18 06:27:06,815 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:27:08,465 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:27:09,591 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:27:09,591 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-12-18 06:27:09,592 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: {'283965', '283964'}
2025-12-18 06:27:09,592 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['283965', '283964']
2025-12-18 06:27:09,592 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['283965', '283964']
2025-12-18 06:27:10,082 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: ['283965', '283964']
2025-12-18 06:27:10,083 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-nob0u11u-0-n-a059bbffb89b'), InstanceID('test-nob0u11u-0-n-5b31d7e6f824')]
2025-12-18 06:27:10,083 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-nob0u11u-0-n-a059bbffb89b
2025-12-18 06:27:10,085 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-nob0u11u-0-n-5b31d7e6f824
2025-12-18 06:27:10,916 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-12-18 06:27:10,967 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-12-18 06:27:11,010 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-12-18 06:27:11,023 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-12-18 06:27:11,529 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-12-18 06:27:11,545 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.151.122.148, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-12-18 06:27:11,545 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-nob0u11u-0-n-a059bbffb89b: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-12-18 06:27:11,578 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-12-18 06:27:11,593 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.151.122.95, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-12-18 06:27:11,593 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-nob0u11u-0-n-5b31d7e6f824: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-12-18 06:27:11,658 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-12-18 06:27:11,676 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-12-18 06:27:11,677 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-nob0u11u-0-n-a059bbffb89b'), InstanceID('test-nob0u11u-0-n-5b31d7e6f824')]
2025-12-18 06:27:11,678 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-nob0u11u-0-n-a059bbffb89b
2025-12-18 06:27:11,680 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-nob0u11u-0-n-5b31d7e6f824
2025-12-18 06:27:12,289 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-nob0u11u-0-n-5b31d7e6f824 (true delete: True)
2025-12-18 06:27:12,291 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-nob0u11u-0-n-5b31d7e6f824
2025-12-18 06:27:12,291 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-nob0u11u-0-n-a059bbffb89b (true delete: True)
2025-12-18 06:27:12,293 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-nob0u11u-0-n-a059bbffb89b
2025-12-18 06:27:12,325 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-nob0u11u-0-n-a059bbffb89b
2025-12-18 06:27:12,326 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-nob0u11u-0-n-5b31d7e6f824
2025-12-18 06:27:12,326 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: [InstanceID('test-nob0u11u-0-n-a059bbffb89b'), InstanceID('test-nob0u11u-0-n-5b31d7e6f824')]
2025-12-18 06:27:12,327 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:27:13,425 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:27:13] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:27:14,008 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc))]
2025-12-18 06:27:15,003 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:27:15,003 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-a059bbffb89b: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-12-18 06:27:15,003 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-5b31d7e6f824: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-12-18 06:27:15,003 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:27:15,003 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:27:15,003 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:27:15,003 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-a059bbffb89b', instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-a059bbffb89b'), metadata=RunnerMetadata(platform_name='github', runner_id='283964', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>), RunnerInstance(name='test-nob0u11u-0-n-5b31d7e6f824', instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-5b31d7e6f824'), metadata=RunnerMetadata(platform_name='github', runner_id='283965', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 23, 14, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>)]
2025-12-18 06:27:15,003 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:27:15,003 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:27:15,004 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:27:15,004 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -2
2025-12-18 06:27:15,004 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:29:15,091 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:29:15,091 - INFO - github_runner_manager.reconcile_service - Reconcile ID: a5455538-8dff-47d0-a286-fc85ddeb438b
2025-12-18 06:29:15,109 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-12-18 06:29:15,109 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:29:15,109 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:29:15,446 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:29:16,813 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:29:17,635 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:29:19,074 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:29:19,074 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:29:19,074 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:29:19,107 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:29:19,107 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:29:19,107 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:29:19,107 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:29:19,107 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:29:19,107 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:29:19,107 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:29:20,462 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:29:21,373 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:29:21,373 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-12-18 06:29:21,373 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:29:21,373 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:29:22,754 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:29:23,805 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:29:23,805 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:29:23,805 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:29:23,805 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:29:23,805 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-12-18 06:29:23,805 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:29:23,805 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:29:23,805 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:29:23,805 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:29:23,805 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:29:36,082 - INFO - root - Starting GitHub runner manager service version: 0.10.0
2025-12-18 06:29:36,087 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-12-18 06:29:36,088 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-12-18 06:29:36,088 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-12-18 06:29:36,088 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-12-18 06:29:36,088 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:29:36,089 - INFO - github_runner_manager.reconcile_service - Reconcile ID: e9703c57-5739-4f5c-a5ee-5a7b66634cb2
2025-12-18 06:29:36,107 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:29:36,107 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:29:36,107 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:29:36,452 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:29:37,864 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:29:39,427 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:29:40,714 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:29:40,715 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:29:40,715 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:29:40,748 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:29:40,748 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:29:40,749 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:29:40,749 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:29:40,749 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:29:40,749 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:29:40,749 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:29:42,237 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:29:43,132 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:29:43,133 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 1
2025-12-18 06:29:43,133 - INFO - github_runner_manager.manager.runner_manager - Creating 1 runners
2025-12-18 06:29:43,607 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='284010', url=None))
2025-12-18 06:29:45,133 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-nob0u11u-0-n-f9fb998c2b52 created successfully
2025-12-18 06:29:45,134 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:29:46,294 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:29:47,161 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:29:47,161 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-f9fb998c2b52: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:29:47,161 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:29:47,161 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:29:47,161 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:29:47,161 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-f9fb998c2b52', instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-12-18 06:29:47,161 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:29:47,162 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:29:47,162 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:29:47,162 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 1
2025-12-18 06:29:47,162 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:29:50,737 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:29:50] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:31:47,262 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:31:47,263 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 63c09fff-413f-47c0-8758-d0f08dffad76
2025-12-18 06:31:47,281 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:31:47,281 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:31:47,281 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:31:47,612 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:31:48,643 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:31:49,572 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:31:50,679 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:31:50,679 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:31:50,679 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:31:50,714 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:31:50,714 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:31:50,714 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:31:50,714 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:31:50,714 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:31:50,714 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:31:50,714 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:31:51,852 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:31:52,867 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:31:52,867 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-12-18 06:31:52,867 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:31:52,867 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:31:54,132 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:31:55,186 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:31:55,187 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-f9fb998c2b52: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:31:55,187 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:31:55,187 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:31:55,187 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:31:55,187 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-f9fb998c2b52', instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-12-18 06:31:55,187 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:31:55,187 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:31:55,187 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:31:55,187 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:31:55,187 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:32:09,935 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:32:09] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:32:09,940 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:32:09,959 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:32:10,299 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:32:11,486 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:32:12,402 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:32:12,403 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:32:12] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:32:43,966 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:32:43] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:32:43,971 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:32:43,989 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:32:44,353 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:32:45,517 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:32:46,644 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:32:46,645 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:32:46] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:33:17,989 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:33:17] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:33:17,995 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:33:18,013 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:33:18,356 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:33:19,535 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:33:20,537 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:33:20,538 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:33:20] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:33:52,062 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:33:52] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:33:52,068 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:33:52,090 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:33:52,440 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:33:53,499 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:33:54,345 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:33:54,346 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:33:54] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:33:55,260 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:33:55,260 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 124bb93e-3d0b-472e-9cf4-79138b5347fb
2025-12-18 06:33:55,282 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:33:55,282 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:33:55,282 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:33:55,614 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:33:56,109 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:33:56] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:33:56,115 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:33:56,132 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:33:56,478 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:33:56,769 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:33:57,684 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:33:57,804 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:33:58,657 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:33:58,658 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:33:58] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:33:58,899 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:33:58,899 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:33:58,899 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:33:58,935 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:33:58,936 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:33:58,936 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:33:58,936 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:33:58,936 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:33:58,936 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:33:58,936 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:34:00,047 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:34:00,169 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:34:00] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:34:00,174 - INFO - github_runner_manager.http_server - Attempting to acquire the lock: locked
2025-12-18 06:34:01,013 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:34:01,013 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-12-18 06:34:01,013 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:34:01,013 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:34:02,198 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:34:03,020 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:34:03,021 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-f9fb998c2b52: state=PlatformRunnerState.IDLE, health=HealthState.HEALTHY
2025-12-18 06:34:03,021 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:34:03,021 - INFO - github_runner_manager.manager.runner_scaler - Found 1 idle runners: [RunnerInstance(name='test-nob0u11u-0-n-f9fb998c2b52', instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), platform_state=<PlatformRunnerState.IDLE: '2'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-12-18 06:34:03,021 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:34:03,021 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-12-18 06:34:03,021 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): {'test-nob0u11u-0-n-f9fb998c2b52'}
2025-12-18 06:34:03,021 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:34:03,021 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:34:03,021 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:34:03,021 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:34:03,021 - INFO - github_runner_manager.http_server - Flushing runners...
2025-12-18 06:34:03,040 - INFO - github_runner_manager.http_server - Flushing busy: False
2025-12-18 06:34:03,040 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:34:03,040 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:34:03,392 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:34:04,507 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:34:05,481 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:34:06,844 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:34:06,844 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:34:06,844 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:34:06,878 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:34:06,878 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:34:06,878 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:34:06,878 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:34:06,878 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:34:06,878 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:34:06,878 - INFO - github_runner_manager.manager.runner_manager - runner_manager::flush_runners. mode FlushMode.FLUSH_IDLE
2025-12-18 06:34:06,878 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:34:07,976 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:34:08,954 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:34:08,954 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-12-18 06:34:08,954 - INFO - github_runner_manager.manager.runner_manager - Runners to flush: {'284010'}
2025-12-18 06:34:08,954 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['284010']
2025-12-18 06:34:08,954 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['284010']
2025-12-18 06:34:09,359 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: ['284010']
2025-12-18 06:34:09,359 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-nob0u11u-0-n-f9fb998c2b52')]
2025-12-18 06:34:09,359 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-nob0u11u-0-n-f9fb998c2b52
2025-12-18 06:34:10,154 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-12-18 06:34:10,210 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-12-18 06:34:10,740 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-12-18 06:34:10,755 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.151.122.20, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-12-18 06:34:10,755 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-nob0u11u-0-n-f9fb998c2b52: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-12-18 06:34:10,800 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.151.122.20, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-12-18 06:34:10,800 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-nob0u11u-0-n-f9fb998c2b52: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-12-18 06:34:10,800 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-12-18 06:34:10,800 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-nob0u11u-0-n-f9fb998c2b52')]
2025-12-18 06:34:10,801 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-nob0u11u-0-n-f9fb998c2b52
2025-12-18 06:34:11,396 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-nob0u11u-0-n-f9fb998c2b52 (true delete: True)
2025-12-18 06:34:11,396 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-nob0u11u-0-n-f9fb998c2b52
2025-12-18 06:34:11,429 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-nob0u11u-0-n-f9fb998c2b52
2025-12-18 06:34:11,429 - INFO - github_runner_manager.manager.runner_manager - Deleted VMs: [InstanceID('test-nob0u11u-0-n-f9fb998c2b52')]
2025-12-18 06:34:11,429 - INFO - github_runner_manager.http_server - Flushed 0 runners
2025-12-18 06:34:11,430 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:34:11] "[35m[1mPOST /runner/flush?flush-busy=False HTTP/1.1[0m" 204 -
2025-12-18 06:36:03,129 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:36:03,130 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 5c8827b5-0578-43c2-a114-639a46ede893
2025-12-18 06:36:03,147 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:36:03,147 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:36:03,147 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:36:03,496 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:36:04,551 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.DELETED: '3'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:36:05,406 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.DELETED: '3'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:36:06,702 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:36:06,703 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:36:06,703 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:36:06,738 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['284010']
2025-12-18 06:36:06,738 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['284010']
2025-12-18 06:36:07,181 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: ['284010']
2025-12-18 06:36:07,181 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-nob0u11u-0-n-f9fb998c2b52')]
2025-12-18 06:36:07,181 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-nob0u11u-0-n-f9fb998c2b52
2025-12-18 06:36:07,803 - WARNING - github_runner_manager.metrics.runner - Failed to create SSH connection for pulling metrics: test-nob0u11u-0-n-f9fb998c2b52
2025-12-18 06:36:07,804 - WARNING - github_runner_manager.metrics.runner - No metrics pulled for test-nob0u11u-0-n-f9fb998c2b52
2025-12-18 06:36:07,804 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: [InstanceID('test-nob0u11u-0-n-f9fb998c2b52')]
2025-12-18 06:36:07,805 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-nob0u11u-0-n-f9fb998c2b52
2025-12-18 06:36:08,350 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-nob0u11u-0-n-f9fb998c2b52 (true delete: True)
2025-12-18 06:36:08,350 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-nob0u11u-0-n-f9fb998c2b52
2025-12-18 06:36:08,383 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - Failed to delete key: test-nob0u11u-0-n-f9fb998c2b52
2025-12-18 06:36:08,383 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: [InstanceID('test-nob0u11u-0-n-f9fb998c2b52')]
2025-12-18 06:36:08,383 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:36:09,417 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.DELETED: '3'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:36:10,301 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.DELETED: '3'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:36:10,301 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-12-18 06:36:10,301 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:36:10,302 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:36:11,282 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.DELETED: '3'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc))]
2025-12-18 06:36:12,211 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.DELETED: '3'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:36:12,212 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-f9fb998c2b52: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-12-18 06:36:12,212 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:36:12,212 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:36:12,212 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:36:12,212 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-f9fb998c2b52', instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-f9fb998c2b52'), metadata=RunnerMetadata(platform_name='github', runner_id='284010', url=None), state=<VMState.DELETED: '3'>, created_at=datetime.datetime(2025, 12, 18, 6, 29, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.DELETED: '3'>)]
2025-12-18 06:36:12,212 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:36:12,212 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:36:12,212 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:36:12,212 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:36:12,212 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:36:31,230 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:36:31] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:36:31,236 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:36:31,255 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:36:31,595 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:36:32,601 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:36:33,689 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:36:33,689 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:36:33] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:37:05,295 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:37:05] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:37:05,300 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:37:05,323 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:37:05,684 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:37:06,671 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:37:07,647 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:37:07,647 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:37:07] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:37:39,316 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:37:39] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:37:39,322 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:37:39,344 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:37:39,703 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:37:40,588 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:37:41,477 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:37:41,477 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:37:41] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:38:12,312 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:38:12,312 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 75499be9-a4f7-402f-9f59-c65fb541e9de
2025-12-18 06:38:12,349 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:38:12,349 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:38:12,349 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:38:12,359 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:38:12] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:38:12,372 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:38:12,407 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:38:12,738 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:38:13,123 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:38:13,859 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:38:14,011 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:38:14,875 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:38:14,982 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:38:14,982 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:38:14] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:38:15,814 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:38:15,815 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:38:15,815 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:38:15,854 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:38:15,854 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:38:15,854 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:38:15,854 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:38:15,854 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:38:15,854 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:38:15,854 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:38:16,825 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:38:17,753 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:38:17,753 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 1
2025-12-18 06:38:17,753 - INFO - github_runner_manager.manager.runner_manager - Creating 1 runners
2025-12-18 06:38:18,223 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='284070', url=None))
2025-12-18 06:38:19,953 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-nob0u11u-0-n-c2493cb5fd2f created successfully
2025-12-18 06:38:19,953 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:38:20,954 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc))]
2025-12-18 06:38:21,773 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:38:21,774 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-c2493cb5fd2f: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:38:21,774 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:38:21,774 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:38:21,774 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:38:21,774 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-c2493cb5fd2f', instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-12-18 06:38:21,774 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:38:21,774 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:38:21,775 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:38:21,775 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 1
2025-12-18 06:38:21,775 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:38:46,381 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:38:46] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:38:46,387 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:38:46,406 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:38:46,766 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:38:47,832 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc))]
2025-12-18 06:38:48,707 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:38:48,707 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:38:48] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:39:20,413 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:39:20] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:39:20,419 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:39:20,441 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:39:20,825 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:39:21,876 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc))]
2025-12-18 06:39:22,763 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:39:22,763 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:39:22] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:39:54,450 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:39:54] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:39:54,455 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:39:54,479 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:39:54,850 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:39:55,869 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc))]
2025-12-18 06:39:56,724 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:39:56,725 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:39:56] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:39:58,470 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:39:58] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:39:58,475 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:39:58,493 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:39:58,848 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:39:59,874 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc))]
2025-12-18 06:40:00,845 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:40:00,846 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:40:00] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:40:14,618 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:40:14] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:40:14,624 - INFO - github_runner_manager.http_server - Attempting to acquire the lock: unlocked
2025-12-18 06:40:14,624 - INFO - github_runner_manager.http_server - Flushing runners...
2025-12-18 06:40:14,642 - INFO - github_runner_manager.http_server - Flushing busy: False
2025-12-18 06:40:14,642 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:40:14,642 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:40:14,983 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:40:15,993 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc))]
2025-12-18 06:40:16,990 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:40:17,970 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:40:17,970 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:40:17,970 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:40:18,002 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:40:18,003 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:40:18,003 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:40:18,003 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:40:18,003 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:40:18,003 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:40:18,003 - INFO - github_runner_manager.manager.runner_manager - runner_manager::flush_runners. mode FlushMode.FLUSH_IDLE
2025-12-18 06:40:18,003 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:40:19,040 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc))]
2025-12-18 06:40:19,971 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:40:19,971 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-12-18 06:40:19,971 - INFO - github_runner_manager.manager.runner_manager - Runners to flush: set()
2025-12-18 06:40:19,971 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: []
2025-12-18 06:40:19,971 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:40:19,971 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-12-18 06:40:19,971 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:40:19,971 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: []
2025-12-18 06:40:19,971 - INFO - github_runner_manager.manager.runner_manager - Deleted VMs: []
2025-12-18 06:40:19,971 - INFO - github_runner_manager.http_server - Flushed 0 runners
2025-12-18 06:40:19,972 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:40:19] "[35m[1mPOST /runner/flush?flush-busy=False HTTP/1.1[0m" 204 -
2025-12-18 06:40:22,500 - INFO - root - Starting GitHub runner manager service version: 0.10.0
2025-12-18 06:40:22,506 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-12-18 06:40:22,506 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-12-18 06:40:22,506 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-12-18 06:40:22,507 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-12-18 06:40:22,507 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:40:22,507 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 2b382866-0dae-470a-b548-3d7ea5d0b8c7
2025-12-18 06:40:22,525 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-12-18 06:40:22,525 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:40:22,525 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:40:22,873 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:40:23,892 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc))]
2025-12-18 06:40:24,806 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:40:25,863 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:40:25,864 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:40:25,864 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:40:25,899 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:40:25,899 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:40:25,899 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:40:25,899 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:40:25,899 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:40:25,899 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:40:25,899 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:40:26,939 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc))]
2025-12-18 06:40:28,029 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:40:28,029 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 0
2025-12-18 06:40:28,029 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 1 runners
2025-12-18 06:40:28,030 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:40:28,979 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc))]
2025-12-18 06:40:29,984 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:40:29,985 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-12-18 06:40:29,985 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: {'284070'}
2025-12-18 06:40:29,985 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['284070']
2025-12-18 06:40:29,985 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['284070']
2025-12-18 06:40:30,370 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 284070
2025-12-18 06:40:30,370 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-12-18 06:40:30,370 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-nob0u11u-0-n-c2493cb5fd2f')]
2025-12-18 06:40:30,370 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-nob0u11u-0-n-c2493cb5fd2f
2025-12-18 06:40:31,179 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-12-18 06:40:31,259 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-12-18 06:40:31,796 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-12-18 06:40:31,871 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.151.122.85, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-12-18 06:40:31,871 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-nob0u11u-0-n-c2493cb5fd2f: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-12-18 06:40:31,871 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-12-18 06:40:31,872 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-nob0u11u-0-n-c2493cb5fd2f')]
2025-12-18 06:40:31,873 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-nob0u11u-0-n-c2493cb5fd2f
2025-12-18 06:40:32,414 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-nob0u11u-0-n-c2493cb5fd2f (true delete: True)
2025-12-18 06:40:32,414 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-nob0u11u-0-n-c2493cb5fd2f
2025-12-18 06:40:32,453 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-nob0u11u-0-n-c2493cb5fd2f
2025-12-18 06:40:32,453 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: [InstanceID('test-nob0u11u-0-n-c2493cb5fd2f')]
2025-12-18 06:40:32,803 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:40:33,841 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc))]
2025-12-18 06:40:34,671 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:40:34,671 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-c2493cb5fd2f: state=PlatformRunnerState.BUSY, health=HealthState.HEALTHY
2025-12-18 06:40:34,671 - INFO - github_runner_manager.manager.runner_scaler - Found 1 busy runners: [RunnerInstance(name='test-nob0u11u-0-n-c2493cb5fd2f', instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), platform_state=<PlatformRunnerState.BUSY: '1'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 38, 20, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-12-18 06:40:34,671 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:40:34,671 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:40:34,671 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-12-18 06:40:34,671 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:40:34,671 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: {'test-nob0u11u-0-n-c2493cb5fd2f'}
2025-12-18 06:40:34,672 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:40:34,672 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -1
2025-12-18 06:40:34,672 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:40:37,153 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:40:37] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:42:34,748 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:42:34,748 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 68f54b3f-3f63-4c51-8d51-cc4c7b9ceede
2025-12-18 06:42:34,766 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-12-18 06:42:34,767 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:42:34,767 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:42:35,162 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:42:36,608 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:42:37,440 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:42:38,483 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:42:38,483 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:42:38,483 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:42:38,514 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['284070']
2025-12-18 06:42:38,514 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['284070']
2025-12-18 06:42:38,867 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 284070
2025-12-18 06:42:38,868 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:42:38,868 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:42:38,868 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:42:38,868 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:42:38,868 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:42:39,830 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:42:40,778 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:42:40,778 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-12-18 06:42:40,778 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:42:40,778 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:42:41,691 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:42:42,600 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:42:42,600 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:42:42,600 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:42:42,600 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:42:42,600 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-12-18 06:42:42,600 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:42:42,600 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:42:42,600 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:42:42,600 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:42:42,600 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:42:57,189 - INFO - root - Starting GitHub runner manager service version: 0.10.0
2025-12-18 06:42:57,195 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-12-18 06:42:57,195 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-12-18 06:42:57,195 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-12-18 06:42:57,195 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-12-18 06:42:57,196 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:42:57,196 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 091f220b-0845-4ef3-ae90-cdabbacc832b
2025-12-18 06:42:57,214 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:42:57,214 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:42:57,214 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:42:57,584 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:42:58,565 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:42:59,668 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:43:00,653 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:43:00,653 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:43:00,653 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:43:00,689 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['284070']
2025-12-18 06:43:00,689 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['284070']
2025-12-18 06:43:01,049 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 284070
2025-12-18 06:43:01,049 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:43:01,049 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:43:01,049 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:43:01,050 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:43:01,050 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:43:02,009 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:43:02,947 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:43:02,947 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 1
2025-12-18 06:43:02,947 - INFO - github_runner_manager.manager.runner_manager - Creating 1 runners
2025-12-18 06:43:03,439 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='284098', url=None))
2025-12-18 06:43:04,819 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-nob0u11u-0-n-c235ce24d29c created successfully
2025-12-18 06:43:04,821 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:43:05,750 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:43:06,626 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:43:06,627 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-c235ce24d29c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:43:06,627 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:43:06,627 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:43:06,627 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:43:06,627 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-c235ce24d29c', instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-12-18 06:43:06,627 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:43:06,627 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:43:06,627 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:43:06,627 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 1
2025-12-18 06:43:06,627 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:43:11,853 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:43:11] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:45:06,716 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:45:06,716 - INFO - github_runner_manager.reconcile_service - Reconcile ID: e8b0c44f-19d7-4104-b098-2117ae10fdba
2025-12-18 06:45:06,758 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:45:06,758 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:45:06,758 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:45:07,109 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:45:08,192 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:45:09,361 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:45:10,390 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:45:10,390 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:45:10,390 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:45:10,429 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['284070']
2025-12-18 06:45:10,429 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['284070']
2025-12-18 06:45:10,856 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 284070
2025-12-18 06:45:10,857 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:45:10,857 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:45:10,857 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:45:10,857 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:45:10,857 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:45:11,960 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:45:12,775 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:45:12,776 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-12-18 06:45:12,776 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:45:12,776 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:45:13,782 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:45:14,673 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:45:14,673 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-c235ce24d29c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:45:14,673 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:45:14,673 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:45:14,673 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:45:14,673 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-c235ce24d29c', instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-12-18 06:45:14,673 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:45:14,673 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:45:14,674 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:45:14,674 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:45:14,674 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:45:31,525 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:45:31] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:45:31,530 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:45:31,549 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:45:31,899 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:45:33,942 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:45:34,868 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:45:34,868 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:45:34] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:46:06,564 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:46:06] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:46:06,570 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:46:06,591 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:46:06,939 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:46:07,909 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:46:08,768 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:46:08,769 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:46:08] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:46:39,595 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:46:39] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:46:39,601 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:46:39,619 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:46:52,165 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:46:53,191 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:46:54,822 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:46:54,823 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:46:54] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:47:14,774 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:47:14,774 - INFO - github_runner_manager.reconcile_service - Reconcile ID: a0d744ad-90e6-48dc-906d-713b80434174
2025-12-18 06:47:14,792 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:47:14,792 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:47:14,793 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:47:15,145 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:47:16,091 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:47:17,044 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:47:18,100 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:47:18,101 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:47:18,101 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:47:18,135 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['284070']
2025-12-18 06:47:18,136 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['284070']
2025-12-18 06:47:18,495 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 284070
2025-12-18 06:47:18,495 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:47:18,495 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:47:18,495 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:47:18,495 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:47:18,495 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:47:19,463 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:47:20,264 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:47:20,264 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-12-18 06:47:20,264 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:47:20,264 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:47:21,173 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:47:22,110 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:47:22,111 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-c235ce24d29c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:47:22,111 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:47:22,111 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:47:22,111 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:47:22,111 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-c235ce24d29c', instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-12-18 06:47:22,111 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:47:22,111 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:47:22,111 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:47:22,111 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:47:22,111 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:47:25,671 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:47:25] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:47:25,676 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:47:25,694 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:47:26,034 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:47:26,903 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:47:27,789 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:47:27,790 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:47:27] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:47:58,703 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:47:58] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:47:58,710 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:47:58,731 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:47:59,093 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:48:00,052 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:48:00,876 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:48:00,876 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:48:00] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:48:31,742 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:48:31] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:48:31,748 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:48:31,766 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:48:32,125 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:48:33,084 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:48:33,969 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:48:33,970 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:48:33] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:49:04,777 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:49:04] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:49:04,784 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:49:04,805 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:49:05,163 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:49:06,166 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:49:07,046 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:49:07,047 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:49:07] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:49:22,172 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:49:22,172 - INFO - github_runner_manager.reconcile_service - Reconcile ID: c694f152-f08d-4c69-8eb9-1731fceffc43
2025-12-18 06:49:22,190 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:49:22,190 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:49:22,190 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:49:22,556 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:49:23,554 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:49:24,360 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:49:25,323 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:49:25,323 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:49:25,323 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:49:25,357 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['284070']
2025-12-18 06:49:25,357 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['284070']
2025-12-18 06:49:25,735 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 284070
2025-12-18 06:49:25,735 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:49:25,735 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:49:25,735 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:49:25,735 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:49:25,735 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:49:26,752 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:49:27,616 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:49:27,616 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-12-18 06:49:27,616 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:49:27,616 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:49:28,687 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:49:29,672 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:49:29,672 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-c235ce24d29c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:49:29,672 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:49:29,672 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:49:29,672 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:49:29,672 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-c235ce24d29c', instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-12-18 06:49:29,672 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:49:29,672 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:49:29,673 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:49:29,673 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:49:29,673 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:49:38,816 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:49:38] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:49:38,822 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:49:38,840 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:49:39,233 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:49:40,234 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:49:41,048 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-c2493cb5fd2f'), metadata=RunnerMetadata(platform_name='github', runner_id='284070', url=None))])
2025-12-18 06:49:41,049 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:49:41] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:50:11,848 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:50:11] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:50:11,854 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:50:11,872 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:50:12,223 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:50:13,260 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:50:14,114 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:50:14,114 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:50:14] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:50:45,868 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:50:45] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:50:45,874 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:50:45,892 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:50:46,228 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:50:47,379 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:50:48,306 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:50:48,306 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:50:48] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:51:19,929 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:51:19] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:51:19,935 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:51:19,953 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:51:20,427 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:51:21,577 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:51:22,552 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:51:22,553 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:51:22] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:51:29,692 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:51:29,692 - INFO - github_runner_manager.reconcile_service - Reconcile ID: d3496ee3-91a9-491b-823c-46ecef10c1f7
2025-12-18 06:51:29,715 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:51:29,715 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:51:29,715 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:51:30,046 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:51:31,038 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:51:31,978 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:51:32,975 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:51:32,975 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:51:32,975 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:51:33,011 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:51:33,011 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:51:33,011 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:51:33,011 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:51:33,011 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:51:33,012 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:51:33,012 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:51:34,052 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:51:34,965 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:51:34,965 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-12-18 06:51:34,965 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:51:34,965 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:51:35,887 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:51:36,794 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:51:36,794 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-c235ce24d29c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-12-18 06:51:36,794 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:51:36,794 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:51:36,794 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:51:36,794 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-c235ce24d29c', instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>)]
2025-12-18 06:51:36,794 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:51:36,794 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:51:36,795 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:51:36,795 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:51:36,795 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:51:38,272 - INFO - root - Starting GitHub runner manager service version: 0.10.0
2025-12-18 06:51:38,278 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-12-18 06:51:38,279 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-12-18 06:51:38,279 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-12-18 06:51:38,279 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-12-18 06:51:38,279 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:51:38,279 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 01cffdad-2434-4626-b8cc-5815f3b4bef7
2025-12-18 06:51:38,297 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-12-18 06:51:38,297 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:51:38,297 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:51:38,644 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:51:40,233 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:51:41,153 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:51:42,206 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:51:42,206 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:51:42,206 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:51:42,241 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['284098']
2025-12-18 06:51:42,241 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['284098']
2025-12-18 06:51:42,623 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: ['284098']
2025-12-18 06:51:42,623 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-nob0u11u-0-n-c235ce24d29c')]
2025-12-18 06:51:42,624 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-nob0u11u-0-n-c235ce24d29c
2025-12-18 06:51:43,399 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-12-18 06:51:43,458 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-12-18 06:51:44,096 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-12-18 06:51:44,199 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-12-18 06:51:44,200 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: [InstanceID('test-nob0u11u-0-n-c235ce24d29c')]
2025-12-18 06:51:44,201 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-nob0u11u-0-n-c235ce24d29c
2025-12-18 06:51:44,830 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-nob0u11u-0-n-c235ce24d29c (true delete: True)
2025-12-18 06:51:44,830 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-nob0u11u-0-n-c235ce24d29c
2025-12-18 06:51:44,861 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-nob0u11u-0-n-c235ce24d29c
2025-12-18 06:51:44,861 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: [InstanceID('test-nob0u11u-0-n-c235ce24d29c')]
2025-12-18 06:51:45,208 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:51:46,283 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:51:47,239 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:51:47,240 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 0
2025-12-18 06:51:47,240 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 1 runners
2025-12-18 06:51:47,240 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:51:48,232 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:51:49,209 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:51:49,209 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: {'284098'}
2025-12-18 06:51:49,210 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: set()
2025-12-18 06:51:49,210 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['284098']
2025-12-18 06:51:49,210 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['284098']
2025-12-18 06:51:49,579 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: ['284098']
2025-12-18 06:51:49,579 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-nob0u11u-0-n-c235ce24d29c')]
2025-12-18 06:51:49,579 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-nob0u11u-0-n-c235ce24d29c
2025-12-18 06:51:50,334 - WARNING - github_runner_manager.metrics.runner - Failed to create SSH connection for pulling metrics: test-nob0u11u-0-n-c235ce24d29c
2025-12-18 06:51:50,334 - WARNING - github_runner_manager.metrics.runner - No metrics pulled for test-nob0u11u-0-n-c235ce24d29c
2025-12-18 06:51:50,335 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-nob0u11u-0-n-c235ce24d29c')]
2025-12-18 06:51:50,336 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-nob0u11u-0-n-c235ce24d29c
2025-12-18 06:51:50,890 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-nob0u11u-0-n-c235ce24d29c (true delete: True)
2025-12-18 06:51:50,890 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-nob0u11u-0-n-c235ce24d29c
2025-12-18 06:51:50,919 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - Failed to delete key: test-nob0u11u-0-n-c235ce24d29c
2025-12-18 06:51:50,920 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: [InstanceID('test-nob0u11u-0-n-c235ce24d29c')]
2025-12-18 06:51:50,920 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:51:51,970 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc))]
2025-12-18 06:51:52,818 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:51:52,819 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-c235ce24d29c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-12-18 06:51:52,819 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:51:52,819 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:51:52,819 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:51:52,819 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-c235ce24d29c', instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-c235ce24d29c'), metadata=RunnerMetadata(platform_name='github', runner_id='284098', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 43, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>)]
2025-12-18 06:51:52,819 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:51:52,819 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:51:52,819 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:51:52,819 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -1
2025-12-18 06:51:52,819 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:51:52,941 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:51:52] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:53:52,849 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:53:52,849 - INFO - github_runner_manager.reconcile_service - Reconcile ID: c5db084b-6e4f-415b-bf0b-d559488b5121
2025-12-18 06:53:52,868 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-12-18 06:53:52,868 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:53:52,868 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:53:53,223 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:53:54,248 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:53:55,247 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:53:56,192 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:53:56,192 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:53:56,192 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:53:56,227 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:53:56,227 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:53:56,227 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:53:56,227 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:53:56,228 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:53:56,228 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:53:56,228 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:53:57,134 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:53:57,944 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:53:57,944 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-12-18 06:53:57,944 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:53:57,944 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:53:58,870 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:53:59,722 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:53:59,722 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:53:59,722 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:53:59,722 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:53:59,722 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-12-18 06:53:59,722 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:53:59,722 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:53:59,722 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:53:59,722 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:53:59,722 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:54:31,231 - INFO - root - Starting GitHub runner manager service version: 0.10.0
2025-12-18 06:54:31,265 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-12-18 06:54:31,266 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-12-18 06:54:31,266 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-12-18 06:54:31,266 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-12-18 06:54:31,266 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:54:31,266 - INFO - github_runner_manager.reconcile_service - Reconcile ID: e7aee89f-0bd3-4246-9e48-e2414785d62c
2025-12-18 06:54:31,284 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:54:31,284 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:54:31,285 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:54:31,623 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:54:32,542 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:54:33,413 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:54:34,406 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:54:34,407 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:54:34,407 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:54:34,437 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:54:34,437 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:54:34,437 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:54:34,437 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:54:34,437 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:54:34,438 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:54:34,438 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:54:35,412 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:54:36,226 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:54:36,226 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 1
2025-12-18 06:54:36,226 - INFO - github_runner_manager.manager.runner_manager - Creating 1 runners
2025-12-18 06:54:36,802 - WARNING - github_runner_manager.repo_policy_compliance_client - Repo policy compliance service is marked for deprecation. Consider using `allow_external_contributor` option instead.
2025-12-18 06:54:36,811 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='284166', url=None))
2025-12-18 06:54:38,296 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-nob0u11u-0-n-60f23c92afb4 created successfully
2025-12-18 06:54:38,296 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:54:39,227 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc))]
2025-12-18 06:54:40,161 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:54:40,161 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-60f23c92afb4: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-12-18 06:54:40,161 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:54:40,161 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:54:40,161 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:54:40,161 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-60f23c92afb4', instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-12-18 06:54:40,161 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:54:40,161 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:54:40,162 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:54:40,162 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 1
2025-12-18 06:54:40,162 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:54:45,905 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:54:45] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:56:40,263 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:56:40,263 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 3ba4ecdb-5637-4714-a063-f68b4e343ae0
2025-12-18 06:56:40,280 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-12-18 06:56:40,280 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:56:40,280 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:56:40,668 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:56:41,685 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc))]
2025-12-18 06:56:42,617 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:56:43,610 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:56:43,610 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:56:43,610 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:56:43,642 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:56:43,642 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:56:43,642 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:56:43,642 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:56:43,642 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:56:43,642 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:56:43,642 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:56:44,782 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc))]
2025-12-18 06:56:45,697 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:56:45,698 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-12-18 06:56:45,698 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:56:45,698 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:56:47,220 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc))]
2025-12-18 06:56:48,053 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:56:48,053 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-60f23c92afb4: state=PlatformRunnerState.IDLE, health=HealthState.HEALTHY
2025-12-18 06:56:48,053 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:56:48,053 - INFO - github_runner_manager.manager.runner_scaler - Found 1 idle runners: [RunnerInstance(name='test-nob0u11u-0-n-60f23c92afb4', instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), platform_state=<PlatformRunnerState.IDLE: '2'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-12-18 06:56:48,054 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:56:48,054 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-12-18 06:56:48,054 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): {'test-nob0u11u-0-n-60f23c92afb4'}
2025-12-18 06:56:48,054 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:56:48,054 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:56:48,054 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:56:48,054 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:57:06,090 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:57:06] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:57:06,096 - INFO - github_runner_manager.http_server - Checking runners...
2025-12-18 06:57:06,114 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:57:06,459 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:57:07,549 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc))]
2025-12-18 06:57:08,654 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:57:08,655 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:57:08] "GET /runner/check HTTP/1.1" 200 -
2025-12-18 06:57:11,399 - INFO - root - Starting GitHub runner manager service version: 0.10.0
2025-12-18 06:57:11,430 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-12-18 06:57:11,431 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-12-18 06:57:11,431 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-12-18 06:57:11,431 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-12-18 06:57:11,431 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:57:11,431 - INFO - github_runner_manager.reconcile_service - Reconcile ID: e8347889-67f8-40e7-9b6b-b8a62597e07c
2025-12-18 06:57:11,450 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-12-18 06:57:11,450 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:57:11,450 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:57:11,802 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:57:12,940 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc))]
2025-12-18 06:57:13,918 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:57:14,982 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:57:14,982 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-12-18 06:57:14,982 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:57:15,016 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:57:15,016 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:57:15,016 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:57:15,016 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:57:15,016 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:57:15,016 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:57:15,016 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:57:16,020 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc))]
2025-12-18 06:57:16,873 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:57:16,873 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 0
2025-12-18 06:57:16,873 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 1 runners
2025-12-18 06:57:16,873 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:57:18,061 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc))]
2025-12-18 06:57:18,949 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:57:18,949 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-12-18 06:57:18,949 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: {'284166'}
2025-12-18 06:57:18,950 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['284166']
2025-12-18 06:57:18,950 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['284166']
2025-12-18 06:57:19,379 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: ['284166']
2025-12-18 06:57:19,380 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-nob0u11u-0-n-60f23c92afb4')]
2025-12-18 06:57:19,380 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-nob0u11u-0-n-60f23c92afb4
2025-12-18 06:57:20,172 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-12-18 06:57:20,250 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-12-18 06:57:20,775 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-12-18 06:57:20,791 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.151.122.241, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-12-18 06:57:20,791 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-nob0u11u-0-n-60f23c92afb4: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-12-18 06:57:20,836 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.151.122.241, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-12-18 06:57:20,836 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-nob0u11u-0-n-60f23c92afb4: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-12-18 06:57:20,836 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-12-18 06:57:20,837 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-nob0u11u-0-n-60f23c92afb4')]
2025-12-18 06:57:20,838 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-nob0u11u-0-n-60f23c92afb4
2025-12-18 06:57:21,828 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-nob0u11u-0-n-60f23c92afb4 (true delete: True)
2025-12-18 06:57:21,828 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-nob0u11u-0-n-60f23c92afb4
2025-12-18 06:57:21,861 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-nob0u11u-0-n-60f23c92afb4
2025-12-18 06:57:21,861 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: [InstanceID('test-nob0u11u-0-n-60f23c92afb4')]
2025-12-18 06:57:21,862 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:57:22,916 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc))]
2025-12-18 06:57:23,891 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:57:23,891 - INFO - github_runner_manager.manager.runner_scaler - Runner test-nob0u11u-0-n-60f23c92afb4: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-12-18 06:57:23,892 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:57:23,892 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:57:23,892 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:57:23,892 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-nob0u11u-0-n-60f23c92afb4', instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-nob0u11u-0-n-60f23c92afb4'), metadata=RunnerMetadata(platform_name='github', runner_id='284166', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 12, 18, 6, 54, 38, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>)]
2025-12-18 06:57:23,892 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:57:23,892 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:57:23,892 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:57:23,892 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -1
2025-12-18 06:57:23,892 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-12-18 06:57:26,068 - INFO - werkzeug - 127.0.0.1 - - [18/Dec/2025 06:57:26] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-12-18 06:59:23,905 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-12-18 06:59:23,905 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 52a5c2fc-a75b-40d9-8c9f-fd6a56ce49cc
2025-12-18 06:59:23,923 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-12-18 06:59:23,923 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-12-18 06:59:23,923 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:59:24,274 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-12-18 06:59:25,389 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-12-18 06:59:26,320 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:59:27,347 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-12-18 06:59:27,347 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-12-18 06:59:27,347 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-12-18 06:59:27,382 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-12-18 06:59:27,382 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-12-18 06:59:27,382 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-12-18 06:59:27,382 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-12-18 06:59:27,382 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-12-18 06:59:27,382 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-12-18 06:59:27,382 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:59:28,386 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:59:29,556 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:59:29,556 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-12-18 06:59:29,556 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-12-18 06:59:29,556 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-12-18 06:59:30,732 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-12-18 06:59:31,584 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-12-18 06:59:31,584 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-12-18 06:59:31,584 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-12-18 06:59:31,584 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-12-18 06:59:31,584 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-12-18 06:59:31,584 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-12-18 06:59:31,584 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-12-18 06:59:31,584 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-12-18 06:59:31,584 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-12-18 06:59:31,584 - INFO - github_runner_manager.reconcile_service - End reconciliation

06:59:47 INFO Reactive log: 
cat: '/var/log/reactive_runner/*.log': No such file or directory

06:59:48 INFO Metrics log: 
{"timestamp": 1766038956.6163092, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 9.29006028175354}
{"timestamp": 1766038997.3265605, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 2, "duration": 11.33823561668396}
{"timestamp": 1766039126.4924283, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 2, "duration": 9.132539749145508}
{"timestamp": 1766039177.0, "event": "runner_installed", "flavor": "test-nob0u11u", "duration": 183.0}
{"timestamp": 1766039176.0, "event": "runner_installed", "flavor": "test-nob0u11u", "duration": 182.0}
{"timestamp": 1766039235.0038548, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 16.209562301635742}
{"timestamp": 1766039363.80541, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 8.695358037948608}
{"timestamp": 1766039387.1621418, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 11.053925514221191}
{"timestamp": 1766039515.1873143, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 7.905606508255005}
{"timestamp": 1766039643.0212748, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 1, "active_runners": 0, "expected_runners": 1, "duration": 7.738630533218384}
{"timestamp": 1766039609.0, "event": "runner_installed", "flavor": "test-nob0u11u", "duration": 224.0}
{"timestamp": 1766039772.2125058, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 9.064444065093994}
{"timestamp": 1766039901.774338, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 9.424839496612549}
{"timestamp": 1766039971.0, "event": "runner_installed", "flavor": "test-nob0u11u", "duration": 71.0}
{"timestamp": 1766040006.0, "event": "runner_start", "flavor": "test-nob0u11u", "workflow": "Workflow Dispatch Wait Tests", "repo": "canonical/github-runner-operator", "github_event": "workflow_dispatch", "idle": 35.0, "queue_duration": 1.0}
{"timestamp": 1766040034.6720438, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 1, "idle_runners": 0, "active_runners": 1, "expected_runners": 0, "duration": 12.146279096603394}
{"timestamp": 1766040162.6005092, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 7.833303928375244}
{"timestamp": 1766040186.6276295, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 9.412808179855347}
{"timestamp": 1766040314.6739817, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 7.915555000305176}
{"timestamp": 1766040442.1114924, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 7.318409442901611}
{"timestamp": 1766040569.6729875, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 7.482022285461426}
{"timestamp": 1766040696.7948515, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 7.079617977142334}
{"timestamp": 1766040652.0, "event": "runner_installed", "flavor": "test-nob0u11u", "duration": 468.0}
{"timestamp": 1766040688.0, "event": "runner_start", "flavor": "test-nob0u11u", "workflow": "Workflow Dispatch Tests", "repo": "canonical/github-runner-operator", "github_event": "workflow_dispatch", "idle": 36.0, "queue_duration": 2.0}
{"timestamp": 1766040693.0, "event": "runner_stop", "flavor": "test-nob0u11u", "workflow": "Workflow Dispatch Tests", "repo": "canonical/github-runner-operator", "github_event": "workflow_dispatch", "status": "normal", "job_duration": 5.0, "job_conclusion": "success"}
{"timestamp": 1766040712.8194318, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 14.521276950836182}
{"timestamp": 1766040839.7225728, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 6.8542046546936035}
{"timestamp": 1766040880.1617708, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 8.876529216766357}
{"timestamp": 1766041008.0541484, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 1, "active_runners": 0, "expected_runners": 1, "duration": 7.773105144500732}
{"timestamp": 1766040971.0, "event": "runner_installed", "flavor": "test-nob0u11u", "duration": 93.0}
{"timestamp": 1766041043.8923006, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 12.442025423049927}
{"timestamp": 1766041171.5845256, "event": "reconciliation", "flavor": "test-nob0u11u", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 7.66091775894165}

06:59:48 INFO OpenStack servers: []
06:59:48 INFO Model status:

Model                   Controller           Cloud/Region         Version  SLA          Timestamp
test-charm-runner-xr2s  github-pr-b73ad-lxd  localhost/localhost  3.6.12   unsupported  06:59:48Z

App                                   Version  Status  Scale  Charm          Channel      Rev  Exposed  Message
github-runner-image-builder-nob0u11u           active      1  any-charm      latest/beta  124  no       
test-nob0u11u                                  active      1  github-runner                 0  yes      

Unit                                     Workload  Agent  Machine  Public address  Ports     Message
github-runner-image-builder-nob0u11u/0*  active    idle   0        10.95.57.167              
test-nob0u11u/0*                         active    idle   1        10.95.57.253    8080/tcp  

Machine  State    Address       Inst id        Base          AZ             Message
0        started  10.95.57.167  juju-5d162a-0  ubuntu@24.04  github-runner  Running
1        started  10.95.57.253  juju-5d162a-1  ubuntu@22.04  github-runner  Running

06:59:49 INFO Juju error logs:

machine-0: 06:20:21 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 06:20:21 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 06:21:21 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 06:21:21 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-test-nob0u11u-0: 06:22:23 ERROR unit.test-nob0u11u/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-nob0u11u-0/charm/./src/charm.py", line 119, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-nob0u11u-0/charm/./src/charm.py", line 354, in _on_config_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-nob0u11u-0/charm/./src/charm.py", line 524, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-nob0u11u-0: 06:22:24 ERROR unit.test-nob0u11u/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-nob0u11u-0/charm/./src/charm.py", line 119, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-nob0u11u-0/charm/./src/charm.py", line 317, in _on_start
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-nob0u11u-0/charm/./src/charm.py", line 524, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found

06:59:49 INFO Forgetting model main...