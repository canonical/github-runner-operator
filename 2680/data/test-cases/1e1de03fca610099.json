{"uid":"1e1de03fca610099","name":"test_runner_flush_busy_lifecycle","fullName":"tests.integration.test_runner_manager_openstack#test_runner_flush_busy_lifecycle","historyId":"f69bd419aa94e65098c0eff5bbefb950","time":{"start":1746772252996,"stop":1746772316257,"duration":63261},"description":"\n    Arrange: RunnerManager with one idle runner.\n    Act:\n        1. Run a long workflow.\n        3. Run flush idle runner.\n        4. Run flush busy runner.\n    Assert:\n        1. Runner takes the job and become busy.\n        3. Busy runner still exists.\n        4. No runners exists.\n    ","descriptionHtml":"<pre><code>Arrange: RunnerManager with one idle runner.\nAct:\n    1. Run a long workflow.\n    3. Run flush idle runner.\n    4. Run flush busy runner.\nAssert:\n    1. Runner takes the job and become busy.\n    3. Busy runner still exists.\n    4. No runners exists.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"pytestconfig","time":{"start":1746771861063,"stop":1746771861063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1746771861063,"stop":1746771861063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1746771861063,"stop":1746771861063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager_user","time":{"start":1746771861063,"stop":1746771861063,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1746771861064,"stop":1746771861064,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_test_image","time":{"start":1746771861064,"stop":1746771861064,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1746771861064,"stop":1746771861064,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"prefix","time":{"start":1746771861064,"stop":1746771861064,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1746771861064,"stop":1746771861064,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1746771861064,"stop":1746771861064,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1746771861064,"stop":1746771861064,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1746771861065,"stop":1746771861065,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_path","time":{"start":1746771861065,"stop":1746771861065,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1746771861065,"stop":1746771861065,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1746771861065,"stop":1746771861065,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1746771861065,"stop":1746771861065,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1746771861065,"stop":1746771861065,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1746771861065,"stop":1746771861065,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1746771861065,"stop":1746771861068,"duration":3},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1746771861068,"stop":1746771861068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1746771861068,"stop":1746771861084,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_label","time":{"start":1746771861068,"stop":1746771861068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1746771861068,"stop":1746771861068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_runner_manager","time":{"start":1746771861084,"stop":1746771861086,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1746771861087,"stop":1746771861087,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_dir_base_path","time":{"start":1746771861087,"stop":1746771861087,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client_for_manager","time":{"start":1746771861088,"stop":1746771861122,"duration":34},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_platform","time":{"start":1746771861122,"stop":1746771861122,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager","time":{"start":1746771861122,"stop":1746771861122,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1746772160291,"stop":1746772160640,"duration":349},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1746772160640,"stop":1746772161355,"duration":715},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1746772161355,"stop":1746772163536,"duration":2181},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1746772163536,"stop":1746772163536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager_with_one_runner","time":{"start":1746772163536,"stop":1746772252995,"duration":89459},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Arrange: RunnerManager with one idle runner.\n    Act:\n        1. Run a long workflow.\n        3. Run flush idle runner.\n        4. Run flush busy runner.\n    Assert:\n        1. Runner takes the job and become busy.\n        3. Busy runner still exists.\n        4. No runners exists.\n    ","status":"passed","steps":[],"attachments":[{"uid":"b20792bd509962c2","name":"log","source":"b20792bd509962c2.txt","type":"text/plain","size":14088}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1746772316259,"stop":1746772316259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1746772589799,"stop":1746772590306,"duration":507},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager::finalizer","time":{"start":1746772590308,"stop":1746772590308,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_dir_base_path::0","time":{"start":1746772590309,"stop":1746772590310,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_runner_manager::finalizer","time":{"start":1746772590310,"stop":1746772590310,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1746772590310,"stop":1746772592084,"duration":1774},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1746772592089,"stop":1746772592090,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager_user::0","time":{"start":1746772592089,"stop":1746772592089,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1746772592090,"stop":1746772592090,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1746772592090,"stop":1746772592090,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_runner_manager_openstack"},{"name":"host","value":"github-runner"},{"name":"thread","value":"9193-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_runner_manager_openstack"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5766b6d70f65de86","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":11,"broken":20,"skipped":0,"passed":86,"unknown":9,"total":126},"items":[{"uid":"d6f5812041d4ec41","reportUrl":"../2674//#testresult/d6f5812041d4ec41","status":"passed","time":{"start":1746728907808,"stop":1746728961550,"duration":53742}},{"uid":"d8905b2f34449d16","reportUrl":"../2666//#testresult/d8905b2f34449d16","status":"passed","time":{"start":1746687613127,"stop":1746687670208,"duration":57081}},{"uid":"501b247fc7d956e7","reportUrl":"../2663//#testresult/501b247fc7d956e7","status":"passed","time":{"start":1746644731003,"stop":1746644792643,"duration":61640}},{"uid":"969a74a53db93185","reportUrl":"../2597//#testresult/969a74a53db93185","status":"passed","time":{"start":1746384964660,"stop":1746385033945,"duration":69285}},{"uid":"83d98d9d37d66c50","reportUrl":"../2594//#testresult/83d98d9d37d66c50","status":"passed","time":{"start":1746253870194,"stop":1746253971212,"duration":101018}},{"uid":"428f2d944f301a47","reportUrl":"../2592//#testresult/428f2d944f301a47","status":"passed","time":{"start":1746210818279,"stop":1746210909134,"duration":90855}},{"uid":"1c4663de9403633a","reportUrl":"../2573//#testresult/1c4663de9403633a","status":"passed","time":{"start":1746167516032,"stop":1746167705029,"duration":188997}},{"uid":"263461bf777bb8b","reportUrl":"../2572//#testresult/263461bf777bb8b","status":"passed","time":{"start":1746124239577,"stop":1746124395511,"duration":155934}},{"uid":"6de70a7f484b2240","reportUrl":"../2571//#testresult/6de70a7f484b2240","status":"passed","time":{"start":1746083223446,"stop":1746083291195,"duration":67749}},{"uid":"2b49770b778c2207","reportUrl":"../2570//#testresult/2b49770b778c2207","status":"passed","time":{"start":1746044699585,"stop":1746044782469,"duration":82884}},{"uid":"a2b1a827c78925da","reportUrl":"../2549//#testresult/a2b1a827c78925da","status":"passed","time":{"start":1745951903254,"stop":1745951968681,"duration":65427}},{"uid":"77e6ab51e1dcf64","reportUrl":"../2541//#testresult/77e6ab51e1dcf64","status":"passed","time":{"start":1745911566683,"stop":1745911635606,"duration":68923}},{"uid":"861d4e9dd473266e","reportUrl":"../2530//#testresult/861d4e9dd473266e","status":"passed","time":{"start":1745865704431,"stop":1745865770614,"duration":66183}},{"uid":"ebd03ceb4c98e234","reportUrl":"../2516//#testresult/ebd03ceb4c98e234","status":"passed","time":{"start":1745822028485,"stop":1745822094751,"duration":66266}},{"uid":"dad268be1665f2e4","reportUrl":"../2511//#testresult/dad268be1665f2e4","status":"passed","time":{"start":1745778489587,"stop":1745778554951,"duration":65364}},{"uid":"c362992f9d2d6de5","reportUrl":"../2510//#testresult/c362992f9d2d6de5","status":"passed","time":{"start":1745735257242,"stop":1745735319460,"duration":62218}},{"uid":"9692fb3ed2ce5bad","reportUrl":"../2509//#testresult/9692fb3ed2ce5bad","status":"passed","time":{"start":1745692034923,"stop":1745692165840,"duration":130917}},{"uid":"62e7e5af725cab88","reportUrl":"../2508//#testresult/62e7e5af725cab88","status":"passed","time":{"start":1745648898701,"stop":1745648966765,"duration":68064}},{"uid":"325d49d87a343f5c","reportUrl":"../2505//#testresult/325d49d87a343f5c","status":"passed","time":{"start":1745607123962,"stop":1745607183917,"duration":59955}},{"uid":"783dcbb020884764","reportUrl":"../2497//#testresult/783dcbb020884764","status":"passed","time":{"start":1745564081181,"stop":1745564143777,"duration":62596}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"1e1de03fca610099.json","parameterValues":[]}