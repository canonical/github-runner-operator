18:23:57 WARNING unexpected facade SSHServer received from the controller
18:23:57 INFO Adding model github-pr-b51b1-lxd:test-charm-fork-path-change-cz8l on cloud localhost
18:23:57 WARNING unexpected facade SSHServer received from the controller
18:23:57 WARNING unexpected facade SSHSession received from the controller
18:23:57 WARNING unexpected facade SSHTunneler received from the controller
18:23:59 INFO Deploying ch:amd64/jammy/github-runner-image-builder-68
18:24:22 INFO Deploying local:jammy/github-runner-0
18:24:23 INFO Waiting for model:
  test-rfgzwfpl/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-rfgzwfpl/0 [allocating] waiting: waiting for machine
18:24:53 INFO Waiting for model:
  test-rfgzwfpl/0 [allocating] waiting: waiting for machine
  github-runner-image-builder-rfgzwfpl/0 [allocating] waiting: waiting for machine
18:25:23 INFO Waiting for model:
  test-rfgzwfpl/0 [allocating] waiting: agent initialising
  github-runner-image-builder-rfgzwfpl/0 [executing] maintenance: installing charm software
18:25:53 INFO Waiting for model:
  test-rfgzwfpl/0 [executing] maintenance: installing charm software
  github-runner-image-builder-rfgzwfpl/0 [executing] maintenance: Setting up Builder.
18:26:24 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] maintenance: Setting up Builder.
18:26:54 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] maintenance: Setting up Builder.
18:27:24 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] blocked: Please provide image integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] maintenance: Setting up Builder.
18:27:54 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] blocked: image integration required.
18:28:24 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:28:54 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:29:24 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:29:54 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:30:24 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:30:55 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:31:25 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:31:55 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:32:25 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:32:55 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:33:25 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:33:56 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:34:26 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:34:56 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:35:26 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:35:56 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:36:26 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: Building image.
18:36:57 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] waiting: Waiting for image over integration.
  github-runner-image-builder-rfgzwfpl/0 [executing] active: 
18:37:27 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] active: 
18:37:39 INFO GitHub token rate limit: Rate(reset=2025-05-04 19:36:58+00:00, remaining=4985, limit=5000)
18:37:51 INFO test_path_config_change
18:37:51 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] active: 
18:38:21 INFO Waiting for model:
  test-rfgzwfpl/0 [executing] maintenance: Reconciling runners
18:38:52 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] active: 
18:39:16 INFO Ensure there is a runner (this calls reconcile)
18:41:47 INFO Waiting for model:
  test-rfgzwfpl/0 [executing] active: 
18:42:17 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] active: 
18:42:25 INFO Reconciling (again)
18:43:34 INFO Waiting for model:
  test-rfgzwfpl/0 [executing] active: 
18:44:04 INFO Waiting for model:
  test-rfgzwfpl/0 [idle] active: 
18:44:12 INFO runners: ['test-rfgzwfpl-0-n-ea46097bf58f']
18:44:13 INFO runners in github repo: [SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-2b7531b8b321"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-48e4da507360"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-5f2121621395"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-67cdb4df7e58"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-6d5c11f0f3c2"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-82099ee6a50f"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-b4751fed99ea"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-bc924c982862"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-f60f74213ab1"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps6-2-n-fb1d29d0b54b"), SelfHostedActionsRunner(name="os-amd-jammy-staging-ps7-0-n-82b3a5f4fc12"), SelfHostedActionsRunner(name="test-c4avfbch-0-n-b1b8150a0716"), SelfHostedActionsRunner(name="test-om3xwic7-0-n-1581a159ce6b"), SelfHostedActionsRunner(name="test-qd3vkl53-0-n-431207a4d5e4"), SelfHostedActionsRunner(name="test-t46zinmh-0-r-eb715fecbc68"), SelfHostedActionsRunner(name="test-yw5pzqc9-0-n-ee611808d7bc")]
18:44:14 INFO Model status:

Model                             Controller           Cloud/Region         Version  SLA          Timestamp
test-charm-fork-path-change-cz8l  github-pr-b51b1-lxd  localhost/localhost  3.6.5    unsupported  18:44:14Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-rfgzwfpl           active      1  github-runner-image-builder  latest/edge   68  no       
test-rfgzwfpl                                  active      1  github-runner                               0  no       

Unit                                     Workload  Agent  Machine  Public address  Ports  Message
github-runner-image-builder-rfgzwfpl/0*  active    idle   0        10.220.132.114         
test-rfgzwfpl/0*                         active    idle   1        10.220.132.2           

Machine  State    Address         Inst id        Base          AZ  Message
0        started  10.220.132.114  juju-251809-0  ubuntu@22.04      Running
1        started  10.220.132.2    juju-251809-1  ubuntu@22.04      Running

18:44:14 INFO Juju error logs:

machine-0: 18:25:09 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 18:25:09 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-rfgzwfpl-0: 18:25:09 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 18:25:16 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 18:25:16 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-test-rfgzwfpl-0: 18:25:16 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-github-runner-image-builder-rfgzwfpl-0: 18:25:58 ERROR unit.github-runner-image-builder-rfgzwfpl/0.juju-log Pipx command failed, code: 1, out: None, err: None
unit-test-rfgzwfpl-0: 18:25:58 ERROR unit.test-rfgzwfpl/0.juju-log Command python3 -m pip uninstall github_runner_manager failed with code 2: b'ERROR: Exception:\nTraceback (most recent call last):\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/cli/base_command.py", line 105, in _run_wrapper\n    status = _inner_run()\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/cli/base_command.py", line 96, in _inner_run\n    return self.run(options, args)\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/commands/uninstall.py", line 106, in run\n    uninstall_pathset = req.uninstall(\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/req/req_install.py", line 723, in uninstall\n    uninstalled_pathset.remove(auto_confirm, verbose)\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/req/req_uninstall.py", line 364, in remove\n    if auto_confirm or self._allowed_to_proceed(verbose):\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/req/req_uninstall.py", line 404, in _allowed_to_proceed\n    return ask("Proceed (Y/n)? ", ("y", "n", "")) != "n"\n  File "/usr/local/lib/python3.10/dist-packages/pip/_internal/utils/misc.py", line 229, in ask\n    response = input(message)\nEOFError: EOF when reading a line\n'
unit-test-rfgzwfpl-0: 18:42:56 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:01 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:01 ERROR unit.test-rfgzwfpl/0.juju-log Failed to get SSH connection while removing test-rfgzwfpl-0-n-ea46097bf58f
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 311, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key
unit-test-rfgzwfpl-0: 18:43:04 ERROR unit.test-rfgzwfpl/0.juju-log Invalid pulled metrics. No runner_installed information for test-rfgzwfpl-0-n-ea46097bf58f.
unit-test-rfgzwfpl-0: 18:43:04 ERROR unit.test-rfgzwfpl/0.juju-log No metrics returned after deleting test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:11 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:14 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:19 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:22 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:22 ERROR unit.test-rfgzwfpl/0.juju-log Failed to get SSH connection while removing test-rfgzwfpl-0-n-ea46097bf58f
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 311, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key
unit-test-rfgzwfpl-0: 18:43:25 ERROR unit.test-rfgzwfpl/0.juju-log Invalid pulled metrics. No runner_installed information for test-rfgzwfpl-0-n-ea46097bf58f.
unit-test-rfgzwfpl-0: 18:43:25 ERROR unit.test-rfgzwfpl/0.juju-log No metrics returned after deleting test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:30 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:33 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:38 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:41 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:41 ERROR unit.test-rfgzwfpl/0.juju-log Failed to get SSH connection while removing test-rfgzwfpl-0-n-ea46097bf58f
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 311, in _delete_runner
    ssh_conn = self._openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key
unit-test-rfgzwfpl-0: 18:43:43 ERROR unit.test-rfgzwfpl/0.juju-log Invalid pulled metrics. No runner_installed information for test-rfgzwfpl-0-n-ea46097bf58f.
unit-test-rfgzwfpl-0: 18:43:43 ERROR unit.test-rfgzwfpl/0.juju-log No metrics returned after deleting test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:49 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f
unit-test-rfgzwfpl-0: 18:43:53 ERROR unit.test-rfgzwfpl/0.juju-log Unable to get SSH connection for instance test-rfgzwfpl-0-n-ea46097bf58f, marking as unhealthy.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 132, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 142, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/openstack_cloud.py", line 341, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-rfgzwfpl-0-n-ea46097bf58f, key path: /home/runner-manager/.ssh/test-rfgzwfpl-0-n-ea46097bf58f.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/var/lib/juju/agents/unit-test-rfgzwfpl-0/charm/venv/github_runner_manager/openstack_cloud/health_checks.py", line 135, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.instance_id}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-rfgzwfpl-0-n-ea46097bf58f

18:44:14 INFO Forgetting model main...