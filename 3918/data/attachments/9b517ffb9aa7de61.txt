06:43:47 INFO Application log: 
2025-11-16 06:37:53,250 - INFO - root - Starting GitHub runner manager service version: 0.6.3
2025-11-16 06:37:53,255 - INFO - github_runner_manager.http_server - Starting the server...
2025-11-16 06:37:53,255 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-11-16 06:37:53,256 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-11-16 06:37:53,256 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 0e4e07b1-5d55-468c-9c03-2691edf7fb95
2025-11-16 06:37:53,267 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-11-16 06:37:53,267 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-11-16 06:37:53,274 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-11-16 06:37:53,275 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-11-16 06:37:53,275 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:37:53,605 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-11-16 06:37:54,335 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-11-16 06:37:55,144 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:37:55,835 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-11-16 06:37:55,835 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-11-16 06:37:55,835 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-11-16 06:37:55,861 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-11-16 06:37:55,861 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-11-16 06:37:55,861 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-11-16 06:37:55,861 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-11-16 06:37:55,861 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-11-16 06:37:55,861 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-11-16 06:37:55,861 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:37:56,583 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-11-16 06:37:57,377 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:37:57,377 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-11-16 06:37:57,377 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-11-16 06:37:57,377 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:37:58,054 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-11-16 06:37:58,844 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:37:58,844 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-11-16 06:37:58,844 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-11-16 06:37:58,845 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-11-16 06:37:58,845 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-11-16 06:37:58,845 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-11-16 06:37:58,845 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-11-16 06:37:58,845 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-11-16 06:37:58,845 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-11-16 06:37:58,846 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-11-16 06:38:07,814 - INFO - werkzeug - 127.0.0.1 - - [16/Nov/2025 06:38:07] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-11-16 06:38:07,822 - INFO - werkzeug - 127.0.0.1 - - [16/Nov/2025 06:38:07] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-11-16 06:38:07,830 - INFO - github_runner_manager.http_server - Attempting to acquire the lock: unlocked
2025-11-16 06:38:07,830 - INFO - github_runner_manager.http_server - Flushing runners...
2025-11-16 06:38:07,848 - INFO - github_runner_manager.http_server - Flushing busy: False
2025-11-16 06:38:07,848 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-11-16 06:38:07,848 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:38:08,224 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-11-16 06:38:08,948 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-11-16 06:38:09,579 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:38:10,301 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-11-16 06:38:10,301 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-11-16 06:38:10,301 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-11-16 06:38:10,324 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-11-16 06:38:10,324 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-11-16 06:38:10,324 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-11-16 06:38:10,324 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-11-16 06:38:10,325 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-11-16 06:38:10,325 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-11-16 06:38:10,325 - INFO - github_runner_manager.manager.runner_manager - runner_manager::flush_runners. mode FlushMode.FLUSH_IDLE
2025-11-16 06:38:10,325 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:38:11,053 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-11-16 06:38:11,812 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:38:11,812 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-11-16 06:38:11,812 - INFO - github_runner_manager.manager.runner_manager - Runners to flush: set()
2025-11-16 06:38:11,812 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: []
2025-11-16 06:38:11,812 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-11-16 06:38:11,812 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-11-16 06:38:11,812 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-11-16 06:38:11,812 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: []
2025-11-16 06:38:11,812 - INFO - github_runner_manager.manager.runner_manager - Deleted VMs: []
2025-11-16 06:38:11,812 - INFO - github_runner_manager.http_server - Flushed 0 runners
2025-11-16 06:38:11,813 - INFO - werkzeug - 127.0.0.1 - - [16/Nov/2025 06:38:11] "[35m[1mPOST /runner/flush?flush-busy=False HTTP/1.1[0m" 204 -
2025-11-16 06:38:29,004 - INFO - root - Starting GitHub runner manager service version: 0.6.3
2025-11-16 06:38:29,009 - INFO - github_runner_manager.http_server - Starting the server...
2025-11-16 06:38:29,010 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-11-16 06:38:29,010 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-11-16 06:38:29,010 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 8b638af9-b914-4084-91d5-6f90fd5375b2
2025-11-16 06:38:29,031 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-11-16 06:38:29,031 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-11-16 06:38:29,032 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-11-16 06:38:29,031 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-11-16 06:38:29,032 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:38:29,373 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-11-16 06:38:30,043 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-11-16 06:38:30,750 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:38:31,441 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-11-16 06:38:31,441 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-11-16 06:38:31,441 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-11-16 06:38:31,469 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-11-16 06:38:31,469 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-11-16 06:38:31,469 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-11-16 06:38:31,469 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-11-16 06:38:31,469 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-11-16 06:38:31,469 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-11-16 06:38:31,469 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:38:32,228 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-11-16 06:38:32,933 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:38:32,933 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 2
2025-11-16 06:38:32,933 - INFO - github_runner_manager.manager.runner_manager - Creating 2 runners
2025-11-16 06:38:33,399 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='179829', url=None))
2025-11-16 06:38:33,588 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='179830', url=None))
2025-11-16 06:38:34,755 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-pv8lctzl-0-n-a774f7a3eaf6 created successfully
2025-11-16 06:38:34,979 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-pv8lctzl-0-n-56c99bb3201c created successfully
2025-11-16 06:38:34,980 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:38:35,682 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc))]
2025-11-16 06:38:36,367 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:38:36,367 - INFO - github_runner_manager.manager.runner_scaler - Runner test-pv8lctzl-0-n-a774f7a3eaf6: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-11-16 06:38:36,367 - INFO - github_runner_manager.manager.runner_scaler - Runner test-pv8lctzl-0-n-56c99bb3201c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-11-16 06:38:36,367 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-11-16 06:38:36,367 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-11-16 06:38:36,367 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-11-16 06:38:36,367 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-pv8lctzl-0-n-a774f7a3eaf6', instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>), RunnerInstance(name='test-pv8lctzl-0-n-56c99bb3201c', instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-11-16 06:38:36,367 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-11-16 06:38:36,367 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-11-16 06:38:36,368 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-11-16 06:38:36,368 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 2
2025-11-16 06:38:36,368 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-11-16 06:38:43,550 - INFO - werkzeug - 127.0.0.1 - - [16/Nov/2025 06:38:43] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-11-16 06:40:36,460 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-11-16 06:40:36,460 - INFO - github_runner_manager.reconcile_service - Reconcile ID: e1e20c40-17ca-435f-8399-32431f237772
2025-11-16 06:40:36,478 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-11-16 06:40:36,478 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-11-16 06:40:36,478 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:40:36,818 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-11-16 06:40:37,512 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc))]
2025-11-16 06:40:38,165 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:40:38,920 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-11-16 06:40:38,920 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 2 key files, clean up 0 key files
2025-11-16 06:40:38,920 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-11-16 06:40:38,945 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-11-16 06:40:38,945 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-11-16 06:40:38,945 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-11-16 06:40:38,945 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-11-16 06:40:38,945 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-11-16 06:40:38,945 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-11-16 06:40:38,945 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:40:39,680 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc))]
2025-11-16 06:40:40,377 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:40:40,377 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 2 to 2
2025-11-16 06:40:40,377 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-11-16 06:40:40,377 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:40:41,704 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc))]
2025-11-16 06:40:42,399 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:40:42,399 - INFO - github_runner_manager.manager.runner_scaler - Runner test-pv8lctzl-0-n-a774f7a3eaf6: state=PlatformRunnerState.IDLE, health=HealthState.HEALTHY
2025-11-16 06:40:42,399 - INFO - github_runner_manager.manager.runner_scaler - Runner test-pv8lctzl-0-n-56c99bb3201c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-11-16 06:40:42,399 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-11-16 06:40:42,399 - INFO - github_runner_manager.manager.runner_scaler - Found 1 idle runners: [RunnerInstance(name='test-pv8lctzl-0-n-a774f7a3eaf6', instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), platform_state=<PlatformRunnerState.IDLE: '2'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-11-16 06:40:42,399 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-11-16 06:40:42,399 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-pv8lctzl-0-n-56c99bb3201c', instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-11-16 06:40:42,399 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): {'test-pv8lctzl-0-n-a774f7a3eaf6'}
2025-11-16 06:40:42,399 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-11-16 06:40:42,400 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-11-16 06:40:42,400 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-11-16 06:40:42,400 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-11-16 06:41:03,154 - INFO - werkzeug - 127.0.0.1 - - [16/Nov/2025 06:41:03] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-11-16 06:41:03,160 - INFO - github_runner_manager.http_server - Checking runners...
2025-11-16 06:41:03,181 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:41:03,513 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-11-16 06:41:04,397 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc))]
2025-11-16 06:41:05,097 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:41:05,097 - INFO - werkzeug - 127.0.0.1 - - [16/Nov/2025 06:41:05] "GET /runner/check HTTP/1.1" 200 -
2025-11-16 06:41:06,176 - INFO - werkzeug - 127.0.0.1 - - [16/Nov/2025 06:41:06] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-11-16 06:41:06,183 - INFO - github_runner_manager.http_server - Checking runners...
2025-11-16 06:41:06,200 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:41:06,534 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-11-16 06:41:07,390 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc))]
2025-11-16 06:41:08,105 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:41:08,106 - INFO - werkzeug - 127.0.0.1 - - [16/Nov/2025 06:41:08] "GET /runner/check HTTP/1.1" 200 -
2025-11-16 06:41:09,965 - INFO - root - Starting GitHub runner manager service version: 0.6.3
2025-11-16 06:41:09,970 - INFO - github_runner_manager.http_server - Starting the server...
2025-11-16 06:41:09,970 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
2025-11-16 06:41:09,970 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-11-16 06:41:09,970 - INFO - github_runner_manager.reconcile_service - Reconcile ID: f18d0383-d178-4019-a6dd-c7e364cc7761
 * Debug mode: off
2025-11-16 06:41:09,989 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-11-16 06:41:09,989 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-11-16 06:41:09,989 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-11-16 06:41:09,989 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-11-16 06:41:09,989 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:41:10,349 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-11-16 06:41:11,101 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc))]
2025-11-16 06:41:11,775 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:41:13,229 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-11-16 06:41:13,229 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 2 key files, clean up 0 key files
2025-11-16 06:41:13,229 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-11-16 06:41:13,257 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-11-16 06:41:13,258 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-11-16 06:41:13,258 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-11-16 06:41:13,258 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-11-16 06:41:13,258 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-11-16 06:41:13,258 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-11-16 06:41:13,258 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:41:14,092 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc))]
2025-11-16 06:41:14,750 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:41:14,750 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 2 to 0
2025-11-16 06:41:14,750 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 2 runners
2025-11-16 06:41:14,750 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:41:15,607 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc))]
2025-11-16 06:41:16,411 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:41:16,412 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-11-16 06:41:16,412 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: {'179829', '179830'}
2025-11-16 06:41:16,412 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['179829', '179830']
2025-11-16 06:41:16,412 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['179829', '179830']
2025-11-16 06:41:16,852 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: ['179830', '179829']
2025-11-16 06:41:16,852 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), InstanceID('test-pv8lctzl-0-n-56c99bb3201c')]
2025-11-16 06:41:16,852 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-pv8lctzl-0-n-a774f7a3eaf6
2025-11-16 06:41:16,852 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-pv8lctzl-0-n-56c99bb3201c
2025-11-16 06:41:17,619 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-11-16 06:41:17,677 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-11-16 06:41:18,274 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-11-16 06:41:18,300 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.151.122.217, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-11-16 06:41:18,300 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-pv8lctzl-0-n-a774f7a3eaf6: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-11-16 06:41:18,336 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.151.122.217, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-11-16 06:41:18,336 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-pv8lctzl-0-n-a774f7a3eaf6: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-11-16 06:41:18,336 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-11-16 06:41:22,445 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-11-16 06:41:22,504 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-11-16 06:41:23,217 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/runner-installed.timestamp on instance 10.151.122.210, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/runner-installed.timestamp': No such file or directory

2025-11-16 06:41:23,217 - WARNING - github_runner_manager.metrics.runner - Failed to pull file runner-installed.timestamp metrics for test-pv8lctzl-0-n-56c99bb3201c: Unable to get file size of /home/ubuntu/metrics-exchange/runner-installed.timestamp.
2025-11-16 06:41:23,272 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.151.122.210, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-11-16 06:41:23,272 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-pv8lctzl-0-n-56c99bb3201c: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-11-16 06:41:23,308 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.151.122.210, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-11-16 06:41:23,308 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-pv8lctzl-0-n-56c99bb3201c: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-11-16 06:41:23,308 - WARNING - github_runner_manager.metrics.runner - No metrics pulled for test-pv8lctzl-0-n-56c99bb3201c
2025-11-16 06:41:23,308 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), InstanceID('test-pv8lctzl-0-n-56c99bb3201c')]
2025-11-16 06:41:23,309 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-pv8lctzl-0-n-56c99bb3201c
2025-11-16 06:41:23,311 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-pv8lctzl-0-n-a774f7a3eaf6
2025-11-16 06:41:23,886 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-pv8lctzl-0-n-a774f7a3eaf6 (true delete: True)
2025-11-16 06:41:23,886 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-pv8lctzl-0-n-a774f7a3eaf6
2025-11-16 06:41:23,901 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-pv8lctzl-0-n-56c99bb3201c (true delete: True)
2025-11-16 06:41:23,901 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-pv8lctzl-0-n-56c99bb3201c
2025-11-16 06:41:23,912 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-pv8lctzl-0-n-a774f7a3eaf6
2025-11-16 06:41:23,928 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-pv8lctzl-0-n-56c99bb3201c
2025-11-16 06:41:23,928 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: [InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), InstanceID('test-pv8lctzl-0-n-56c99bb3201c')]
2025-11-16 06:41:23,929 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:41:24,537 - INFO - werkzeug - 127.0.0.1 - - [16/Nov/2025 06:41:24] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-11-16 06:41:24,795 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc))]
2025-11-16 06:41:25,463 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:41:25,463 - INFO - github_runner_manager.manager.runner_scaler - Runner test-pv8lctzl-0-n-a774f7a3eaf6: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-11-16 06:41:25,463 - INFO - github_runner_manager.manager.runner_scaler - Runner test-pv8lctzl-0-n-56c99bb3201c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-11-16 06:41:25,463 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-11-16 06:41:25,463 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-11-16 06:41:25,463 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-11-16 06:41:25,463 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-pv8lctzl-0-n-a774f7a3eaf6', instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-a774f7a3eaf6'), metadata=RunnerMetadata(platform_name='github', runner_id='179829', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>), RunnerInstance(name='test-pv8lctzl-0-n-56c99bb3201c', instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-pv8lctzl-0-n-56c99bb3201c'), metadata=RunnerMetadata(platform_name='github', runner_id='179830', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 11, 16, 6, 38, 35, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>)]
2025-11-16 06:41:25,463 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-11-16 06:41:25,463 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-11-16 06:41:25,464 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-11-16 06:41:25,464 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -2
2025-11-16 06:41:25,464 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-11-16 06:43:25,511 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-11-16 06:43:25,512 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 86bf1396-ea1f-436f-b6bb-9561fd84f4dd
2025-11-16 06:43:25,529 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-11-16 06:43:25,529 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-11-16 06:43:25,529 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:43:25,873 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-11-16 06:43:26,784 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-11-16 06:43:27,491 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:43:28,242 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-11-16 06:43:28,242 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-11-16 06:43:28,242 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-11-16 06:43:28,268 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-11-16 06:43:28,268 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-11-16 06:43:28,268 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-11-16 06:43:28,268 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-11-16 06:43:28,268 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-11-16 06:43:28,268 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-11-16 06:43:28,268 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:43:29,086 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-11-16 06:43:29,991 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:43:29,991 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-11-16 06:43:29,991 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-11-16 06:43:29,991 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-11-16 06:43:30,757 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-11-16 06:43:31,440 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-11-16 06:43:31,440 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-11-16 06:43:31,440 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-11-16 06:43:31,440 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-11-16 06:43:31,440 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-11-16 06:43:31,440 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-11-16 06:43:31,440 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-11-16 06:43:31,441 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-11-16 06:43:31,441 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-11-16 06:43:31,441 - INFO - github_runner_manager.reconcile_service - End reconciliation

06:43:48 INFO Reactive log: 
cat: '/var/log/reactive_runner/*.log': No such file or directory

06:43:49 INFO Metrics log: 
{"timestamp": 1763275078.8455014, "event": "reconciliation", "flavor": "test-pv8lctzl", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 5.57005763053894}
{"timestamp": 1763275116.3679643, "event": "reconciliation", "flavor": "test-pv8lctzl", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 2, "duration": 7.335576295852661}
{"timestamp": 1763275242.3998177, "event": "reconciliation", "flavor": "test-pv8lctzl", "crashed_runners": 0, "idle_runners": 1, "active_runners": 0, "expected_runners": 2, "duration": 5.921080112457275}
{"timestamp": 1763275237.0, "event": "runner_installed", "flavor": "test-pv8lctzl", "duration": 122.0}
{"timestamp": 1763275285.4638476, "event": "reconciliation", "flavor": "test-pv8lctzl", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 15.474062204360962}
{"timestamp": 1763275411.4408736, "event": "reconciliation", "flavor": "test-pv8lctzl", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 5.910871505737305}

06:43:49 INFO OpenStack servers: []
06:43:51 INFO Model status:

Model                   Controller           Cloud/Region         Version  SLA          Timestamp
test-charm-runner-8afi  github-pr-ef1fa-lxd  localhost/localhost  3.6.11   unsupported  06:43:51Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-pv8lctzl           active      1  github-runner-image-builder  latest/edge  128  no       
test-pv8lctzl                                  active      1  github-runner                               0  no       

Unit                                     Workload  Agent  Machine  Public address  Ports  Message
github-runner-image-builder-pv8lctzl/0*  active    idle   0        10.139.168.144         
test-pv8lctzl/0*                         active    idle   1        10.139.168.162         

Machine  State    Address         Inst id        Base          AZ             Message
0        started  10.139.168.144  juju-fd88af-0  ubuntu@22.04  github-runner  Running
1        started  10.139.168.162  juju-fd88af-1  ubuntu@22.04  github-runner  Running

06:43:51 INFO Juju error logs:

machine-0: 06:25:07 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 06:25:07 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 06:25:20 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 06:25:20 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-pv8lctzl-0: 06:25:42 ERROR unit.github-runner-image-builder-pv8lctzl/0.juju-log Pipx command failed, code: 1, out: None, err: None
unit-test-pv8lctzl-0: 06:26:09 ERROR unit.test-pv8lctzl/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-pv8lctzl-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-pv8lctzl-0/charm/./src/charm.py", line 342, in _on_config_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-pv8lctzl-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-pv8lctzl-0: 06:26:10 ERROR unit.test-pv8lctzl/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-pv8lctzl-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-pv8lctzl-0/charm/./src/charm.py", line 313, in _on_start
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-pv8lctzl-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-pv8lctzl-0: 06:27:01 ERROR unit.test-pv8lctzl/0.juju-log image:0: Missing image in image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-pv8lctzl-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-pv8lctzl-0/charm/./src/charm.py", line 477, in _on_image_relation_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-pv8lctzl-0/charm/./src/charm.py", line 514, in _check_image_ready
    raise ImageNotFoundError("No image found in the image integration")
errors.ImageNotFoundError: No image found in the image integration

06:43:51 INFO Forgetting model main...