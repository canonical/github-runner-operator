{"uid":"539aa012b28946aa","name":"test_reactive_mode_scale_down","fullName":"tests.integration.test_reactive#test_reactive_mode_scale_down","historyId":"bb6817de59a8aff167470484d2d33ee6","time":{"start":1769799268461,"stop":1769800427840,"duration":1159379},"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","descriptionHtml":"<pre><code>arrange: Scale down the number of virtual machines to 2 and spawn a job.\nact:\n    1. Scale down the number of virtual machines to 0 and call reconcile.\n    2. Spawn a job.\nassert:\n    1. The job fails.\n    2. The job is queued and there is a message in the queue.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"pytestconfig","time":{"start":1769797452223,"stop":1769797452223,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1769797452223,"stop":1769797452223,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1769797452223,"stop":1769797452578,"duration":355},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1769797452223,"stop":1769797452223,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1769797452579,"stop":1769797452579,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1769797452579,"stop":1769797452833,"duration":254},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1769797452834,"stop":1769797453438,"duration":604},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1769797453438,"stop":1769797455306,"duration":1868},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1769797455306,"stop":1769797455306,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1769797455306,"stop":1769797455314,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mongodb","time":{"start":1769797455314,"stop":1769797456756,"duration":1442},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1769797455314,"stop":1769797455314,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1769797456756,"stop":1769797456756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1769797456756,"stop":1769797456770,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1769797456756,"stop":1769797456756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1769797456756,"stop":1769797456756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1769797456756,"stop":1769797456756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1769797456756,"stop":1769797456756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1769797456756,"stop":1769797456756,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1769797456770,"stop":1769797459448,"duration":2678},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1769797459448,"stop":1769797459448,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1769797459448,"stop":1769797662651,"duration":203203},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_reactive","time":{"start":1769797662651,"stop":1769797700901,"duration":38250},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1769799112053,"stop":1769799112053,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1769799112053,"stop":1769799268461,"duration":156408},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Scale down the number of virtual machines to 2 and spawn a job.\n    act:\n        1. Scale down the number of virtual machines to 0 and call reconcile.\n        2. Spawn a job.\n    assert:\n        1. The job fails.\n        2. The job is queued and there is a message in the queue.\n    ","status":"passed","steps":[],"attachments":[{"uid":"3b1b49248cafed6e","name":"log","source":"3b1b49248cafed6e.txt","type":"text/plain","size":8776}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1769800427840,"stop":1769800566043,"duration":138203},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1769800566043,"stop":1769800566043,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1769800566044,"stop":1769800566879,"duration":835},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1769800566044,"stop":1769800566044,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1769800566044,"stop":1769800566044,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1769800566881,"stop":1769800567317,"duration":436},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1769800567318,"stop":1769800567611,"duration":293},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1769800567612,"stop":1769800567612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1769800567612,"stop":1769800567612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1769800567612,"stop":1769800567612,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_reactive"},{"name":"host","value":"github-runner"},{"name":"thread","value":"14089-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_reactive"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"103935ee86f7e577","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":52,"broken":144,"skipped":56,"passed":216,"unknown":24,"total":492},"items":[{"uid":"484ca8c1a92f0a7","reportUrl":"../4827//#testresult/484ca8c1a92f0a7","status":"failed","statusDetails":"AssertionError: Queue test-ae6rs4ne expected: 0, received: 1","time":{"start":1769757250860,"stop":1769758328869,"duration":1078009}},{"uid":"8be6b8f21aabac91","reportUrl":"../4824//#testresult/8be6b8f21aabac91","status":"passed","time":{"start":1769712911282,"stop":1769714070427,"duration":1159145}},{"uid":"57ff2454085f9e04","reportUrl":"../4822//#testresult/57ff2454085f9e04","status":"failed","statusDetails":"AssertionError: Queue test-qeyikzc3 expected: 0, received: 1","time":{"start":1769686690491,"stop":1769687778566,"duration":1088075}},{"uid":"bd8d15addab83bde","reportUrl":"../4811//#testresult/bd8d15addab83bde","status":"failed","statusDetails":"AssertionError: Queue test-i0d772wo expected: 0, received: 1","time":{"start":1769583310647,"stop":1769584372551,"duration":1061904}},{"uid":"201384db83b9f6c1","reportUrl":"../4803//#testresult/201384db83b9f6c1","status":"failed","statusDetails":"AssertionError: Queue test-xcui4dlv expected: 0, received: 1","time":{"start":1769539969956,"stop":1769541048312,"duration":1078356}},{"uid":"41666c03c002a0a5","reportUrl":"../4793//#testresult/41666c03c002a0a5","status":"failed","statusDetails":"AssertionError: Queue test-un7l0vr1 expected: 0, received: 1","time":{"start":1769496640308,"stop":1769497697254,"duration":1056946}},{"uid":"3c3a93128765fac","reportUrl":"../4788//#testresult/3c3a93128765fac","status":"passed","time":{"start":1769453606183,"stop":1769454820463,"duration":1214280}},{"uid":"fb3e368944c03a0","reportUrl":"../4786//#testresult/fb3e368944c03a0","status":"passed","time":{"start":1769410327529,"stop":1769411526909,"duration":1199380}},{"uid":"1f188251317d20b","reportUrl":"../4777//#testresult/1f188251317d20b","status":"failed","statusDetails":"AssertionError: Queue test-slq4jiwt expected: 0, received: 1","time":{"start":1769366943763,"stop":1769367953488,"duration":1009725}},{"uid":"7980fbbdd18b2b84","reportUrl":"../4774//#testresult/7980fbbdd18b2b84","status":"passed","time":{"start":1769280559183,"stop":1769281707882,"duration":1148699}},{"uid":"c1349f72adbb09e7","reportUrl":"../4773//#testresult/c1349f72adbb09e7","status":"passed","time":{"start":1769237410873,"stop":1769238581475,"duration":1170602}},{"uid":"d2dca5b4430672f1","reportUrl":"../4772//#testresult/d2dca5b4430672f1","status":"failed","statusDetails":"AssertionError: Expected 1 job to be created","time":{"start":1769194211809,"stop":1769195366146,"duration":1154337}},{"uid":"c9c9f3ce394a51b4","reportUrl":"../4768//#testresult/c9c9f3ce394a51b4","status":"passed","time":{"start":1769151174062,"stop":1769152427428,"duration":1253366}},{"uid":"6cbf53f040c445ad","reportUrl":"../4766//#testresult/6cbf53f040c445ad","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1769107584038,"stop":1769107584038,"duration":0}},{"uid":"fd98980836408c7","reportUrl":"../4759//#testresult/fd98980836408c7","status":"failed","statusDetails":"AssertionError: Expected 1 job to be created","time":{"start":1769064613017,"stop":1769064771396,"duration":158379}},{"uid":"ec6df6205691476f","reportUrl":"../4754//#testresult/ec6df6205691476f","status":"failed","statusDetails":"AssertionError: Expected 1 job to be created","time":{"start":1769022127994,"stop":1769022297371,"duration":169377}},{"uid":"12cf90bc36c27e4a","reportUrl":"../4740//#testresult/12cf90bc36c27e4a","status":"passed","time":{"start":1768978410984,"stop":1768979571474,"duration":1160490}},{"uid":"8f60613cf7272b7f","reportUrl":"../4735//#testresult/8f60613cf7272b7f","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1768935217330,"stop":1768935217330,"duration":0}},{"uid":"3bfb7ba459d80b1d","reportUrl":"../4727//#testresult/3bfb7ba459d80b1d","status":"failed","statusDetails":"AssertionError: Queue test-del49oih expected: 0, received: 1","time":{"start":1768892013853,"stop":1768893081693,"duration":1067840}},{"uid":"9c096d18aed9615c","reportUrl":"../4719//#testresult/9c096d18aed9615c","status":"passed","time":{"start":1768848649985,"stop":1768849829290,"duration":1179305}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"539aa012b28946aa.json","parameterValues":[]}