{"uid":"c19bd2915b4d9bca","name":"test_reactive_mode_spawns_runner","fullName":"tests.integration.test_reactive#test_reactive_mode_spawns_runner","historyId":"10338128cf3b6c7e7e0ebb211783c25a","time":{"start":1757659665986,"stop":1757659970629,"duration":304643},"description":"\n    arrange: Place a message in the queue and dispatch a workflow.\n    act: Call reconcile.\n    assert: A runner is spawned to process the job and the message is removed from the queue.\n        The metrics are logged.\n    ","descriptionHtml":"<pre><code>arrange: Place a message in the queue and dispatch a workflow.\nact: Call reconcile.\nassert: A runner is spawned to process the job and the message is removed from the queue.\n    The metrics are logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1757658337180,"stop":1757658337181,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1757658337181,"stop":1757658337911,"duration":730},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1757658337181,"stop":1757658337181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1757658337181,"stop":1757658337181,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1757658337911,"stop":1757658337911,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1757658337911,"stop":1757658338324,"duration":413},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1757658338324,"stop":1757658338324,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1757658338324,"stop":1757658338971,"duration":647},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1757658338971,"stop":1757658340618,"duration":1647},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1757658340618,"stop":1757658340618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1757658340619,"stop":1757658340629,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1757658340619,"stop":1757658340619,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1757658340619,"stop":1757658340619,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1757658340629,"stop":1757658340629,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"mongodb","time":{"start":1757658340629,"stop":1757658343067,"duration":2438},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1757658343067,"stop":1757658343067,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1757658343067,"stop":1757658343067,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1757658343067,"stop":1757658343067,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1757658343067,"stop":1757658343067,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1757658343067,"stop":1757658343067,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1757658343067,"stop":1757658343067,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1757658343068,"stop":1757658343068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1757658343068,"stop":1757658343068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1757658343068,"stop":1757658343069,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1757658343068,"stop":1757658343068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1757658343068,"stop":1757658343068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1757658343068,"stop":1757658343068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1757658343068,"stop":1757658343068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1757658343068,"stop":1757658343068,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1757658343069,"stop":1757658343082,"duration":13},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1757658343083,"stop":1757658343105,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1757658343106,"stop":1757658345498,"duration":2392},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1757658345498,"stop":1757659463343,"duration":1117845},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_reactive","time":{"start":1757659463343,"stop":1757659505896,"duration":42553},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1757659505896,"stop":1757659665985,"duration":160089},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1757659505896,"stop":1757659505896,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: Place a message in the queue and dispatch a workflow.\n    act: Call reconcile.\n    assert: A runner is spawned to process the job and the message is removed from the queue.\n        The metrics are logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"c9a923c0c5fcc9d0","name":"log","source":"c9a923c0c5fcc9d0.txt","type":"text/plain","size":13774}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1757659970630,"stop":1757660126721,"duration":156091},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1757660126721,"stop":1757660126721,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1757662451833,"stop":1757662451833,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1757662451834,"stop":1757662452308,"duration":474},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1757662452309,"stop":1757662452405,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1757662452411,"stop":1757662452960,"duration":549},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1757662452962,"stop":1757662453664,"duration":702},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1757662453665,"stop":1757662453665,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1757662453665,"stop":1757662453665,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1757662453665,"stop":1757662453666,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_reactive"},{"name":"host","value":"github-runner"},{"name":"thread","value":"15779-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_reactive"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ed86755fc13f7397","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":22,"broken":39,"skipped":0,"passed":168,"unknown":19,"total":248},"items":[{"uid":"b8edef4ffc9fa3a3","reportUrl":"../3572//#testresult/b8edef4ffc9fa3a3","status":"passed","time":{"start":1757616323509,"stop":1757616627362,"duration":303853}},{"uid":"7f9c6048985abc3e","reportUrl":"../3569//#testresult/7f9c6048985abc3e","status":"passed","time":{"start":1757573385177,"stop":1757573689408,"duration":304231}},{"uid":"ded82566398f945","reportUrl":"../3565//#testresult/ded82566398f945","status":"passed","time":{"start":1757487187703,"stop":1757487491735,"duration":304032}},{"uid":"10b4195d7da7594e","reportUrl":"../3564//#testresult/10b4195d7da7594e","status":"failed","statusDetails":"AssertionError: Queue test-rjcrxr05 expected: 0, received: 1","time":{"start":1757443674212,"stop":1757443836753,"duration":162541}},{"uid":"f6d6d5fc4f4aa9e4","reportUrl":"../3559//#testresult/f6d6d5fc4f4aa9e4","status":"passed","time":{"start":1757400887323,"stop":1757401190873,"duration":303550}},{"uid":"2d6573662d8dfef3","reportUrl":"../3557//#testresult/2d6573662d8dfef3","status":"passed","time":{"start":1757357539850,"stop":1757357842973,"duration":303123}},{"uid":"e47e00795895fcdb","reportUrl":"../3553//#testresult/e47e00795895fcdb","status":"passed","time":{"start":1757318594808,"stop":1757318898388,"duration":303580}},{"uid":"4203cd97c18ff2a0","reportUrl":"../3550//#testresult/4203cd97c18ff2a0","status":"passed","time":{"start":1757270910877,"stop":1757271214532,"duration":303655}},{"uid":"e4ae85ca4f3cda2a","reportUrl":"../3549//#testresult/e4ae85ca4f3cda2a","status":"unknown","time":{}},{"uid":"fb6881a236083c9f","reportUrl":"../3547//#testresult/fb6881a236083c9f","status":"unknown","time":{}},{"uid":"d904de537b338f32","reportUrl":"../3546//#testresult/d904de537b338f32","status":"passed","time":{"start":1757098236421,"stop":1757098540342,"duration":303921}},{"uid":"bde602527e9d9c40","reportUrl":"../3536//#testresult/bde602527e9d9c40","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\n  test-ohrwnjkj/0 [idle] waiting: Waiting for image over integration.\n  github-runner-image-builder-ohrwnjkj/0 [executing] active: Building image.","time":{"start":1756967266240,"stop":1756967266240,"duration":0}},{"uid":"aac5a22b296cae79","reportUrl":"../3522//#testresult/aac5a22b296cae79","status":"passed","time":{"start":1756797356912,"stop":1756797661649,"duration":304737}},{"uid":"26dc41943a8ccf3c","reportUrl":"../3518//#testresult/26dc41943a8ccf3c","status":"passed","time":{"start":1756754064820,"stop":1756754369599,"duration":304779}},{"uid":"fd33fa5f15c4ca47","reportUrl":"../3515//#testresult/fd33fa5f15c4ca47","status":"passed","time":{"start":1756711992376,"stop":1756712298036,"duration":305660}},{"uid":"e380e91e335e8ac3","reportUrl":"../3512//#testresult/e380e91e335e8ac3","status":"passed","time":{"start":1756665870558,"stop":1756666174846,"duration":304288}},{"uid":"d505f9f5058992aa","reportUrl":"../3511//#testresult/d505f9f5058992aa","status":"passed","time":{"start":1756622848438,"stop":1756623153129,"duration":304691}},{"uid":"91492f8912b60a8e","reportUrl":"../3510//#testresult/91492f8912b60a8e","status":"passed","time":{"start":1756579465029,"stop":1756579769183,"duration":304154}},{"uid":"a618b092c0aeefe0","reportUrl":"../3509//#testresult/a618b092c0aeefe0","status":"passed","time":{"start":1756536376222,"stop":1756536680228,"duration":304006}},{"uid":"f5cfd04d5887d08f","reportUrl":"../3508//#testresult/f5cfd04d5887d08f","status":"passed","time":{"start":1756493458160,"stop":1756493762142,"duration":303982}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"c19bd2915b4d9bca.json","parameterValues":[]}