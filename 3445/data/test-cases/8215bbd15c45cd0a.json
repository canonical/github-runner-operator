{"uid":"8215bbd15c45cd0a","name":"test_flush_runner_and_resource_config","fullName":"tests.integration.test_charm_runner#test_flush_runner_and_resource_config","historyId":"67136ca3912cd0242f3fc7742c7d8c81","time":{"start":1755931538837,"stop":1755931933090,"duration":394253},"description":"\n    arrange: A working application with two runners.\n    act:\n        1. Run Check_runner action. Record the runner names for later.\n        2. Flush runners.\n        3. Dispatch a workflow to make runner busy and call flush_runner action.\n\n    assert:\n        1. Two runner exists.\n        2. Runners are recreated.\n        3. The runner is not flushed since by default it flushes idle.\n\n    Test are combined to reduce number of runner spawned.\n    ","descriptionHtml":"<pre><code>arrange: A working application with two runners.\nact:\n    1. Run Check_runner action. Record the runner names for later.\n    2. Flush runners.\n    3. Dispatch a workflow to make runner busy and call flush_runner action.\n\nassert:\n    1. Two runner exists.\n    2. Runners are recreated.\n    3. The runner is not flushed since by default it flushes idle.\n\nTest are combined to reduce number of runner spawned.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1755930237112,"stop":1755930237112,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1755930237112,"stop":1755931148938,"duration":911826},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1755930237582,"stop":1755930237582,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1755930237592,"stop":1755930237592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1755930237592,"stop":1755930237592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1755930237592,"stop":1755930237592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1755930237592,"stop":1755930237592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1755930237592,"stop":1755930237592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1755930237592,"stop":1755930237592,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1755930237593,"stop":1755930237593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1755930237593,"stop":1755930237593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1755930237593,"stop":1755930237593,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1755930237601,"stop":1755930237618,"duration":17},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1755931534941,"stop":1755931535400,"duration":459},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1755931535400,"stop":1755931536417,"duration":1017},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1755931536418,"stop":1755931538835,"duration":2417},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1755931538835,"stop":1755931538835,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1755931538835,"stop":1755931538835,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1755931538835,"stop":1755931538836,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A working application with two runners.\n    act:\n        1. Run Check_runner action. Record the runner names for later.\n        2. Flush runners.\n        3. Dispatch a workflow to make runner busy and call flush_runner action.\n\n    assert:\n        1. Two runner exists.\n        2. Runners are recreated.\n        3. The runner is not flushed since by default it flushes idle.\n\n    Test are combined to reduce number of runner spawned.\n    ","status":"passed","steps":[],"attachments":[{"uid":"5dd7d051aff259b2","name":"log","source":"5dd7d051aff259b2.txt","type":"text/plain","size":2700}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1755931933091,"stop":1755932150414,"duration":217323},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1755932150414,"stop":1755932150414,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1755932974663,"stop":1755932975308,"duration":645},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1755932975436,"stop":1755932975563,"duration":127},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1755932975997,"stop":1755932975997,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1755932975997,"stop":1755932975997,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1755932975997,"stop":1755932975998,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_runner"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12089-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_runner"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"ec7419ef03a6e6eb","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":29,"broken":37,"skipped":13,"passed":121,"unknown":17,"total":217},"items":[{"uid":"7485cc4cfe05c071","reportUrl":"../3444//#testresult/7485cc4cfe05c071","status":"passed","time":{"start":1755888615924,"stop":1755888974314,"duration":358390}},{"uid":"bb87f5ea165f5846","reportUrl":"../3437//#testresult/bb87f5ea165f5846","status":"passed","time":{"start":1755845281718,"stop":1755845687823,"duration":406105}},{"uid":"41493ad6e8854c18","reportUrl":"../3430//#testresult/41493ad6e8854c18","status":"passed","time":{"start":1755801968648,"stop":1755802328372,"duration":359724}},{"uid":"c4f632960cca7fca","reportUrl":"../3424//#testresult/c4f632960cca7fca","status":"passed","time":{"start":1755759051683,"stop":1755759447999,"duration":396316}},{"uid":"c2e58879579edd7b","reportUrl":"../3416//#testresult/c2e58879579edd7b","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-wtdx7lc4/0 [idle] blocked: Please provide image integration.\n  github-runner-image-builder-wtdx7lc4/0 [allocating] waiting: waiting for machine","time":{"start":1755672924806,"stop":1755672924806,"duration":0}},{"uid":"84e3e848e438beec","reportUrl":"../3410//#testresult/84e3e848e438beec","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1755633696211,"stop":1755633696211,"duration":0}},{"uid":"37d23cc1ddcad6f","reportUrl":"../3390//#testresult/37d23cc1ddcad6f","status":"passed","time":{"start":1755586384722,"stop":1755586743199,"duration":358477}},{"uid":"4a076548967d4399","reportUrl":"../3388//#testresult/4a076548967d4399","status":"passed","time":{"start":1755543138539,"stop":1755543537097,"duration":398558}},{"uid":"fbaa69df7ad52daf","reportUrl":"../3387//#testresult/fbaa69df7ad52daf","status":"passed","time":{"start":1755499853063,"stop":1755500252855,"duration":399792}},{"uid":"bf19395006795d7b","reportUrl":"../3386//#testresult/bf19395006795d7b","status":"passed","time":{"start":1755456441313,"stop":1755456834444,"duration":393131}},{"uid":"6b55d67d49f32400","reportUrl":"../3385//#testresult/6b55d67d49f32400","status":"passed","time":{"start":1755413535775,"stop":1755413928792,"duration":393017}},{"uid":"48f59ad71d408991","reportUrl":"../3384//#testresult/48f59ad71d408991","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-dtjv1uml/0","time":{"start":1755370648372,"stop":1755370648372,"duration":0}},{"uid":"53d9cbf188da9c3e","reportUrl":"../3383//#testresult/53d9cbf188da9c3e","status":"passed","time":{"start":1755327236590,"stop":1755327596263,"duration":359673}},{"uid":"b8b66d6c3c615354","reportUrl":"../3378//#testresult/b8b66d6c3c615354","status":"passed","time":{"start":1755284413237,"stop":1755284814801,"duration":401564}},{"uid":"72647354b43f4ba7","reportUrl":"../3377//#testresult/72647354b43f4ba7","status":"passed","time":{"start":1755240651914,"stop":1755241079951,"duration":428037}},{"uid":"44cb9d8ce5132fae","reportUrl":"../3374//#testresult/44cb9d8ce5132fae","status":"passed","time":{"start":1755176309332,"stop":1755176715895,"duration":406563}},{"uid":"bb8268c5098bb1d5","reportUrl":"../3367//#testresult/bb8268c5098bb1d5","status":"passed","time":{"start":1755110941767,"stop":1755111340442,"duration":398675}},{"uid":"b3b6c0aab4363b67","reportUrl":"../3365//#testresult/b3b6c0aab4363b67","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1755072178155,"stop":1755072178155,"duration":0}},{"uid":"6e4838c5b139d78c","reportUrl":"../3357//#testresult/6e4838c5b139d78c","status":"passed","time":{"start":1755024722271,"stop":1755025095094,"duration":372823}},{"uid":"f6c44ce9af967f96","reportUrl":"../3353//#testresult/f6c44ce9af967f96","status":"skipped","statusDetails":"XFAIL aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1754989021626,"stop":1754989021626,"duration":0}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"8215bbd15c45cd0a.json","parameterValues":[]}