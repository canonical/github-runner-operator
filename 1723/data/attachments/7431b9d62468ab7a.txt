INFO     github_runner_manager.manager.runner_manager:runner_manager.py:132 Creating 1 runners
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:220 Creating openstack server with test-zaxlpito-0-23be25edbb09
WARNING  github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:349 Unable to SSH into test-zaxlpito-0-23be25edbb09 with address 10.145.193.147
Traceback (most recent call last):
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 338, in get_ssh_connection
    result = connection.run(f"echo {_TEST_STRING}", warn=True, timeout=_SSH_TIMEOUT)
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/decorator.py", line 232, in fun
    return caller(func, *(extras + args), **kw)
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/fabric/connection.py", line 22, in opens
    self.open()
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/fabric/connection.py", line 665, in open
    result = self.client.connect(**kwargs)
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/paramiko/client.py", line 409, in connect
    raise NoValidConnectionsError(errors)
paramiko.ssh_exception.NoValidConnectionsError: [Errno None] Unable to connect to port 22 on 10.145.193.147
WARNING  github_runner_manager.openstack_cloud.openstack_runner_manager:utilities.py:88 Retrying error in 60 seconds: Failed to SSH to test-zaxlpito-0-23be25edbb09 during creation possible due to setup not completed
INFO     paramiko.transport:transport.py:1944 Connected (version 2.0, client OpenSSH_9.6p1)
INFO     paramiko.transport:transport.py:1944 Authentication (publickey) successful!
INFO     github_runner_manager.openstack_cloud.openstack_runner_manager:openstack_runner_manager.py:672 Runner startup process found to be healthy on test-zaxlpito-0-23be25edbb09
INFO     paramiko.transport:transport.py:1944 Connected (version 2.0, client OpenSSH_9.6p1)
INFO     paramiko.transport:transport.py:1944 Authentication (publickey) successful!
INFO     github_runner_manager.openstack_cloud.openstack_runner_manager:openstack_runner_manager.py:705 Runner test-zaxlpito-0-23be25edbb09 found to be healthy
INFO     github_runner_manager.openstack_cloud.openstack_runner_manager:openstack_runner_manager.py:224 Runner test-zaxlpito-0-23be25edbb09 created successfully
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:158 Getting runners...
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:368 Getting all openstack servers managed by the charm
INFO     paramiko.transport:transport.py:1944 Connected (version 2.0, client OpenSSH_9.6p1)
INFO     paramiko.transport:transport.py:1944 Authentication (publickey) successful!
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:163 Found following runners: {'test-zaxlpito-0-23be25edbb09'}
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:158 Getting runners...
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:368 Getting all openstack servers managed by the charm
INFO     paramiko.transport:transport.py:1944 Connected (version 2.0, client OpenSSH_9.6p1)
INFO     paramiko.transport:transport.py:1944 Authentication (publickey) successful!
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:163 Found following runners: {'test-zaxlpito-0-23be25edbb09'}
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:158 Getting runners...
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:368 Getting all openstack servers managed by the charm
INFO     paramiko.transport:transport.py:1944 Connected (version 2.0, client OpenSSH_9.6p1)
INFO     paramiko.transport:transport.py:1944 Authentication (publickey) successful!
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:163 Found following runners: {'test-zaxlpito-0-23be25edbb09'}
INFO     tests.integration.helpers.common:common.py:525 Wait for condition not met, sleeping 10
INFO     tests.integration.helpers.common:common.py:525 Wait for condition not met, sleeping 10
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:158 Getting runners...
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:368 Getting all openstack servers managed by the charm
INFO     paramiko.transport:transport.py:1944 Connected (version 2.0, client OpenSSH_9.6p1)
INFO     paramiko.transport:transport.py:1944 Authentication (publickey) successful!
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:163 Found following runners: {'test-zaxlpito-0-23be25edbb09'}
WARNING  github_runner_manager.manager.runner_manager:runner_manager.py:171 Found runner instance on cloud but not registered on GitHub: {'test-zaxlpito-0-23be25edbb09'}
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:368 Getting all openstack servers managed by the charm
INFO     paramiko.transport:transport.py:1944 Connected (version 2.0, client OpenSSH_9.6p1)
INFO     paramiko.transport:transport.py:1944 Authentication (publickey) successful!
INFO     paramiko.transport:transport.py:1944 Connected (version 2.0, client OpenSSH_9.6p1)
INFO     paramiko.transport:transport.py:1944 Authentication (publickey) successful!
INFO     paramiko.transport.sftp:sftp.py:169 [chan 2] Opened sftp connection (server version 3)
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:281 Deleting openstack server with test-zaxlpito-0-23be25edbb09
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:410 Cleaning up SSH key files
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:423 Found 0 key files, clean up 0 key files
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:434 Cleaning up openstack keypairs
ERROR    github_runner_manager.metrics.runner:runner.py:559 runner-installed.timestamp not found for runner test-zaxlpito-0-24a47a2b7de8
Traceback (most recent call last):
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/metrics/runner.py", line 557, in _extract_file_from_storage
    file_content = metrics_storage.path.joinpath(filename).read_text(encoding="utf-8")
  File "/usr/lib/python3.10/pathlib.py", line 1134, in read_text
    with self.open(mode='r', encoding=encoding, errors=errors) as f:
  File "/usr/lib/python3.10/pathlib.py", line 1119, in open
    return self._accessor.open(self, mode, buffering, encoding, errors,
FileNotFoundError: [Errno 2] No such file or directory: '/home/ubuntu/runner-fs/test-zaxlpito-0-24a47a2b7de8/runner-installed.timestamp'
ERROR    github_runner_manager.metrics.runner:runner.py:456 installed timestamp not found for runner test-zaxlpito-0-24a47a2b7de8, will not extract any metrics.
WARNING  github_runner_manager.metrics.runner:runner.py:141 Not able to issue metrics for runner test-zaxlpito-0-24a47a2b7de8
INFO     tests.integration.test_runner_manager_openstack:test_runner_manager_openstack.py:451 issued_metrics_events: {<class 'github_runner_manager.metrics.events.RunnerInstalled'>: 1, <class 'github_runner_manager.metrics.events.RunnerStart'>: 1, <class 'github_runner_manager.metrics.events.RunnerStop'>: 1}
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:158 Getting runners...
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:368 Getting all openstack servers managed by the charm
ERROR    github_runner_manager.openstack_cloud.health_checks:health_checks.py:58 Unable to get SSH connection for instance test-zaxlpito-0-23be25edbb09, marking as unhealthy.
Traceback (most recent call last):
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/health_checks.py", line 130, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 138, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 324, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-zaxlpito-0-23be25edbb09, key path: /home/ubuntu/.ssh/test-zaxlpito-0-23be25edbb09.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/health_checks.py", line 133, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.server_name}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-zaxlpito-0-23be25edbb09
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:163 Found following runners: {'test-zaxlpito-0-23be25edbb09'}
WARNING  github_runner_manager.manager.runner_manager:runner_manager.py:171 Found runner instance on cloud but not registered on GitHub: {'test-zaxlpito-0-23be25edbb09'}
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:158 Getting runners...
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:368 Getting all openstack servers managed by the charm
ERROR    github_runner_manager.openstack_cloud.health_checks:health_checks.py:58 Unable to get SSH connection for instance test-zaxlpito-0-23be25edbb09, marking as unhealthy.
Traceback (most recent call last):
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/health_checks.py", line 130, in _get_ssh_connection
    ssh_conn = openstack_cloud.get_ssh_connection(instance)
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 138, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 324, in get_ssh_connection
    raise KeyfileError(
github_runner_manager.errors.KeyfileError: Missing keyfile for server: test-zaxlpito-0-23be25edbb09, key path: /home/ubuntu/.ssh/test-zaxlpito-0-23be25edbb09.key

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/health_checks.py", line 49, in check_runner
    ssh_conn = _get_ssh_connection(openstack_cloud=openstack_cloud, instance=instance)
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/utilities.py", line 77, in fn_with_retry
    return func(*args, **kwargs)
  File "/home/ubuntu/actions-runner/_work/github-runner-operator/github-runner-operator/.tox/integration-juju3.6/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/health_checks.py", line 133, in _get_ssh_connection
    raise _SSHError(f"Unable to get SSH connection to {instance.server_name}") from exc
github_runner_manager.openstack_cloud.health_checks._SSHError: Unable to get SSH connection to test-zaxlpito-0-23be25edbb09
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:163 Found following runners: {'test-zaxlpito-0-23be25edbb09'}
WARNING  github_runner_manager.manager.runner_manager:runner_manager.py:171 Found runner instance on cloud but not registered on GitHub: {'test-zaxlpito-0-23be25edbb09'}
INFO     tests.integration.helpers.common:common.py:525 Wait for condition not met, sleeping 60
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:158 Getting runners...
INFO     github_runner_manager.openstack_cloud.openstack_cloud:openstack_cloud.py:368 Getting all openstack servers managed by the charm
INFO     github_runner_manager.manager.runner_manager:runner_manager.py:163 Found following runners: set()