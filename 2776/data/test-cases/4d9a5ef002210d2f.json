{"uid":"4d9a5ef002210d2f","name":"test_update_interval","fullName":"tests.integration.test_charm_scheduled_events#test_update_interval","historyId":"d4085fdc5fea897b958d8615bae965d3","time":{"start":1748889739324,"stop":1748890363258,"duration":623934},"description":"\n    arrange: A working application with one runner.\n    act:\n        1.  a. Crash/delete the one runner\n        2.  Wait for 6 minutes, and then wait for ActiveStatus.\n    assert:\n        1. a. No runner exists.\n        2. a. One runner exists. The runner name should not be the same as the starting one.\n\n    This tests whether the reconcile-runner event is triggered, and updates the dependencies.\n    The reconciliation logic is tested with the reconcile-runners action.\n    ","descriptionHtml":"<pre><code>arrange: A working application with one runner.\nact:\n    1.  a. Crash/delete the one runner\n    2.  Wait for 6 minutes, and then wait for ActiveStatus.\nassert:\n    1. a. No runner exists.\n    2. a. One runner exists. The runner name should not be the same as the starting one.\n\nThis tests whether the reconcile-runner event is triggered, and updates the dependencies.\nThe reconciliation logic is tested with the reconcile-runners action.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"pytestconfig","time":{"start":1748888703417,"stop":1748888703417,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1748888703417,"stop":1748888703891,"duration":474},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1748888703417,"stop":1748888703417,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1748888703417,"stop":1748888703417,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1748888703891,"stop":1748888703891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1748888703891,"stop":1748888703891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1748888703891,"stop":1748888703891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1748888703891,"stop":1748888703891,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1748888703892,"stop":1748888703893,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1748888703892,"stop":1748888703892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1748888703892,"stop":1748888703892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1748888703892,"stop":1748888703892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1748888703892,"stop":1748888703892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1748888703892,"stop":1748888703892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1748888703892,"stop":1748888703892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1748888703892,"stop":1748888703892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1748888703892,"stop":1748888703892,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1748888703893,"stop":1748888703900,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1748888703893,"stop":1748888703893,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1748888703893,"stop":1748888703893,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1748888703893,"stop":1748888703893,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1748888703893,"stop":1748888703893,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1748888703893,"stop":1748888703893,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1748888703901,"stop":1748888703917,"duration":16},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1748888703917,"stop":1748888705594,"duration":1677},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1748888705594,"stop":1748889565860,"duration":860266},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_scheduled_events","time":{"start":1748889565860,"stop":1748889739323,"duration":173463},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1748889739323,"stop":1748889739323,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1748889739323,"stop":1748889739324,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A working application with one runner.\n    act:\n        1.  a. Crash/delete the one runner\n        2.  Wait for 6 minutes, and then wait for ActiveStatus.\n    assert:\n        1. a. No runner exists.\n        2. a. One runner exists. The runner name should not be the same as the starting one.\n\n    This tests whether the reconcile-runner event is triggered, and updates the dependencies.\n    The reconciliation logic is tested with the reconcile-runners action.\n    ","status":"passed","steps":[],"attachments":[{"uid":"3df95f8cef9045ea","name":"log","source":"3df95f8cef9045ea.txt","type":"text/plain","size":8793}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1748890363259,"stop":1748890363259,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1748890363260,"stop":1748890363356,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1748890363357,"stop":1748890367066,"duration":3709},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1748890367071,"stop":1748890369510,"duration":2439},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1748890369510,"stop":1748890369511,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1748890369511,"stop":1748890369511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1748890369511,"stop":1748890369511,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_scheduled_events"},{"name":"host","value":"github-runner"},{"name":"thread","value":"13209-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_scheduled_events"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"4be359cebe1427e6","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":5,"broken":33,"skipped":0,"passed":102,"unknown":15,"total":155},"items":[{"uid":"eda3f1a5c239e684","reportUrl":"../2774//#testresult/eda3f1a5c239e684","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ntest-q48z9rsx/0 [idle] blocked: Invalid token.","time":{"start":1748845490089,"stop":1748845490089,"duration":0}},{"uid":"c7ec35c15c84ea02","reportUrl":"../2770//#testresult/c7ec35c15c84ea02","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ntest-jrfla3p8/0 [idle] blocked: Invalid token.","time":{"start":1748802228387,"stop":1748802228387,"duration":0}},{"uid":"6ca335437daec5ae","reportUrl":"../2769//#testresult/6ca335437daec5ae","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ntest-foyb75y1/0 [idle] blocked: Invalid token.","time":{"start":1748759032156,"stop":1748759032156,"duration":0}},{"uid":"fbf7975bd209678","reportUrl":"../2768//#testresult/fbf7975bd209678","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ntest-d1ujwe6c/0 [idle] blocked: Invalid token.","time":{"start":1748715792630,"stop":1748715792630,"duration":0}},{"uid":"dd39534edeebac52","reportUrl":"../2767//#testresult/dd39534edeebac52","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ntest-pzyen1ko/0 [idle] blocked: Invalid token.","time":{"start":1748672630349,"stop":1748672630349,"duration":0}},{"uid":"f2dc493f4d098182","reportUrl":"../2766//#testresult/f2dc493f4d098182","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ntest-z4c1731y/0 [idle] blocked: Please provide image integration.\n  github-runner-image-builder-z4c1731y/0 [allocating] waiting: waiting for machine","time":{"start":1748629435654,"stop":1748629435654,"duration":0}},{"uid":"f62d8f6f207cc2c9","reportUrl":"../2765//#testresult/f62d8f6f207cc2c9","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ntest-j2bpq9qx/0 [idle] waiting: Waiting for image over integration.\n  github-runner-image-builder-j2bpq9qx/0 [executing] active: Building image.","time":{"start":1748586291522,"stop":1748586291522,"duration":0}},{"uid":"e73fd30d8ec8a823","reportUrl":"../2764//#testresult/e73fd30d8ec8a823","status":"unknown","time":{}},{"uid":"1d22133af5fdd1ee","reportUrl":"../2762//#testresult/1d22133af5fdd1ee","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ntest-vt5lsu3v/0 [idle] blocked: Invalid token.","time":{"start":1748456700315,"stop":1748456700315,"duration":0}},{"uid":"1dc059b4ee7bd41e","reportUrl":"../2759//#testresult/1dc059b4ee7bd41e","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ntest-r10zm18c/0 [idle] blocked: Invalid token.","time":{"start":1748413568017,"stop":1748413568017,"duration":0}},{"uid":"68f9ebd8ae3e320","reportUrl":"../2756//#testresult/68f9ebd8ae3e320","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\ntest-g78pj397/0 [idle] blocked: Invalid token.","time":{"start":1748370176263,"stop":1748370176263,"duration":0}},{"uid":"efe6779f5e19189c","reportUrl":"../2754//#testresult/efe6779f5e19189c","status":"passed","time":{"start":1748330215894,"stop":1748331138705,"duration":922811}},{"uid":"4fce7b2dcd123023","reportUrl":"../2748//#testresult/4fce7b2dcd123023","status":"passed","time":{"start":1748284889703,"stop":1748285613035,"duration":723332}},{"uid":"7314b1d7b551a875","reportUrl":"../2747//#testresult/7314b1d7b551a875","status":"passed","time":{"start":1748241987107,"stop":1748242612117,"duration":625010}},{"uid":"310606338e450fa1","reportUrl":"../2746//#testresult/310606338e450fa1","status":"passed","time":{"start":1748199369608,"stop":1748199997700,"duration":628092}},{"uid":"8c1807007f1dbe05","reportUrl":"../2745//#testresult/8c1807007f1dbe05","status":"passed","time":{"start":1748155206851,"stop":1748155887307,"duration":680456}},{"uid":"a1ed5d1a643ecc7a","reportUrl":"../2743//#testresult/a1ed5d1a643ecc7a","status":"passed","time":{"start":1748069044775,"stop":1748069672948,"duration":628173}},{"uid":"fc5cd455f2d43f29","reportUrl":"../2742//#testresult/fc5cd455f2d43f29","status":"passed","time":{"start":1748027238006,"stop":1748027906830,"duration":668824}},{"uid":"fe452faaea13f82b","reportUrl":"../2736//#testresult/fe452faaea13f82b","status":"passed","time":{"start":1747939201732,"stop":1747939886469,"duration":684737}},{"uid":"5bb8036c1e0b94d6","reportUrl":"../2727//#testresult/5bb8036c1e0b94d6","status":"passed","time":{"start":1747908250031,"stop":1747908875133,"duration":625102}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"4d9a5ef002210d2f.json","parameterValues":[]}