{"uid":"68e541a42379182e","name":"test_prometheus_metrics","fullName":"tests.integration.test_prometheus_metrics#test_prometheus_metrics","historyId":"8ad402f8a81c79aa3fa21a6fb8e0f79a","time":{"start":1765937938619,"stop":1765938414931,"duration":476312},"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","descriptionHtml":"<pre><code>arrange: given a prometheus charm application.\nact: when GitHub runner is integrated.\nassert: the datasource is registered and basic metrics are available.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1765937536571,"stop":1765937536571,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju","time":{"start":1765937536572,"stop":1765937536789,"duration":217},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1765937536572,"stop":1765937536572,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1765937536572,"stop":1765937536572,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"prometheus_app","time":{"start":1765937536789,"stop":1765937562424,"duration":25635},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_app","time":{"start":1765937562424,"stop":1765937652695,"duration":90271},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"traefik_ingress","time":{"start":1765937652695,"stop":1765937654681,"duration":1986},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1765937654681,"stop":1765937655312,"duration":631},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1765937655312,"stop":1765937655319,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1765937655312,"stop":1765937655312,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1765937655319,"stop":1765937655339,"duration":20},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_config","time":{"start":1765937655339,"stop":1765937655339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1765937655339,"stop":1765937655340,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1765937655339,"stop":1765937655339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1765937655339,"stop":1765937655339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1765937655339,"stop":1765937655339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1765937655339,"stop":1765937655339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_config","time":{"start":1765937655339,"stop":1765937655339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1765937655339,"stop":1765937655339,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1765937655340,"stop":1765937655351,"duration":11},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1765937655352,"stop":1765937657711,"duration":2359},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"dockerhub_mirror","time":{"start":1765937657711,"stop":1765937657711,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1765937657711,"stop":1765937897215,"duration":239504},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_app_cos_agent","time":{"start":1765937897215,"stop":1765937934306,"duration":37091},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"grafana_password","time":{"start":1765937934306,"stop":1765937935980,"duration":1674},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1765937935980,"stop":1765937936238,"duration":258},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1765937936238,"stop":1765937936953,"duration":715},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1765937936954,"stop":1765937938618,"duration":1664},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1765937938618,"stop":1765937938618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1765937938618,"stop":1765937938618,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: given a prometheus charm application.\n    act: when GitHub runner is integrated.\n    assert: the datasource is registered and basic metrics are available.\n    ","status":"passed","steps":[],"attachments":[{"uid":"b835ac4c610f19f2","name":"log","source":"b835ac4c610f19f2.txt","type":"text/plain","size":180881}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1765938414931,"stop":1765938414931,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1765938414932,"stop":1765938415346,"duration":414},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1765938415347,"stop":1765938415347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1765938415347,"stop":1765938415347,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1765938415347,"stop":1765938415750,"duration":403},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::finalizer","time":{"start":1765938415751,"stop":1765938415752,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1765938415752,"stop":1765938416113,"duration":361},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"k8s_juju::0","time":{"start":1765938416114,"stop":1765938416114,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1765938416114,"stop":1765938416114,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1765938416114,"stop":1765938416114,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1765938416114,"stop":1765938416115,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"openstack"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_prometheus_metrics"},{"name":"host","value":"github-runner"},{"name":"thread","value":"23549-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_prometheus_metrics"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"678acab79914bb","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":7,"broken":110,"skipped":0,"passed":105,"unknown":11,"total":233},"items":[{"uid":"3794051c75a414cd","reportUrl":"../4344//#testresult/3794051c75a414cd","status":"broken","statusDetails":"requests.exceptions.ConnectionError: HTTPConnectionPool(host='10.1.53.13', port=3000): Max retries exceeded with url: /api/datasources (Caused by NewConnectionError(\"HTTPConnection(host='10.1.53.13', port=3000): Failed to establish a new connection: [Errno 22] Invalid argument\"))","time":{"start":1765852957693,"stop":1765852998356,"duration":40663}},{"uid":"ecfdeda385111b9b","reportUrl":"../4332//#testresult/ecfdeda385111b9b","status":"passed","time":{"start":1765607107130,"stop":1765607582446,"duration":475316}},{"uid":"9953fe28340d1210","reportUrl":"../4330//#testresult/9953fe28340d1210","status":"passed","time":{"start":1765563968532,"stop":1765564446643,"duration":478111}},{"uid":"e1544910f1db6e47","reportUrl":"../4312//#testresult/e1544910f1db6e47","status":"passed","time":{"start":1765520713218,"stop":1765521188343,"duration":475125}},{"uid":"db2364949017ff58","reportUrl":"../4297//#testresult/db2364949017ff58","status":"passed","time":{"start":1765477531311,"stop":1765478007750,"duration":476439}},{"uid":"109e555b62ced38f","reportUrl":"../4292//#testresult/109e555b62ced38f","status":"unknown","time":{}},{"uid":"ca14f25487f16b15","reportUrl":"../4277//#testresult/ca14f25487f16b15","status":"passed","time":{"start":1765391319069,"stop":1765391795739,"duration":476670}},{"uid":"3fd19cc8e6bed82e","reportUrl":"../4270//#testresult/3fd19cc8e6bed82e","status":"passed","time":{"start":1765328315476,"stop":1765328793034,"duration":477558}},{"uid":"c06f3760232eefc4","reportUrl":"../4264//#testresult/c06f3760232eefc4","status":"passed","time":{"start":1765261559755,"stop":1765262035038,"duration":475283}},{"uid":"b0121fd2856df0f3","reportUrl":"../4256//#testresult/b0121fd2856df0f3","status":"passed","time":{"start":1765241283798,"stop":1765241760189,"duration":476391}},{"uid":"92348cf650bd8a3c","reportUrl":"../4253//#testresult/92348cf650bd8a3c","status":"passed","time":{"start":1765175151139,"stop":1765175626240,"duration":475101}},{"uid":"79536c89d6f0dda1","reportUrl":"../4251//#testresult/79536c89d6f0dda1","status":"passed","time":{"start":1765131992988,"stop":1765132469252,"duration":476264}},{"uid":"64a2a2f8952f4a11","reportUrl":"../4250//#testresult/64a2a2f8952f4a11","status":"passed","time":{"start":1765088691674,"stop":1765089173101,"duration":481427}},{"uid":"d1454cce16492f47","reportUrl":"../4249//#testresult/d1454cce16492f47","status":"passed","time":{"start":1765045467565,"stop":1765045942723,"duration":475158}},{"uid":"c83382f53ddd75d5","reportUrl":"../4235//#testresult/c83382f53ddd75d5","status":"passed","time":{"start":1765002291795,"stop":1765002768249,"duration":476454}},{"uid":"9618ab374f902d11","reportUrl":"../4232//#testresult/9618ab374f902d11","status":"passed","time":{"start":1764959388996,"stop":1764959926034,"duration":537038}},{"uid":"6bc6e70a79f3d64d","reportUrl":"../4218//#testresult/6bc6e70a79f3d64d","status":"passed","time":{"start":1764915970243,"stop":1764916446877,"duration":476634}},{"uid":"91b855fecd214d37","reportUrl":"../4217//#testresult/91b855fecd214d37","status":"passed","time":{"start":1764873066057,"stop":1764873543673,"duration":477616}},{"uid":"26717f91e09a8a07","reportUrl":"../4204//#testresult/26717f91e09a8a07","status":"failed","statusDetails":"AssertionError: Please specify the --openstack-network-name command line option\nassert ''","time":{"start":1764829174979,"stop":1764829174979,"duration":0}},{"uid":"8d2f34b2a665234","reportUrl":"../4203//#testresult/8d2f34b2a665234","status":"failed","statusDetails":"AssertionError: Please specify the --openstack-network-name command line option\nassert ''","time":{"start":1764785965568,"stop":1764785965568,"duration":0}}]},"tags":["asyncio","openstack"]},"source":"68e541a42379182e.json","parameterValues":[]}