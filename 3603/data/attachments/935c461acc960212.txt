07:09:32 INFO Waiting for model:
  test-to0fn0jw/0 [idle] active: 
07:09:48 INFO Current reconcile ID: 8fa2e784-a873-4429-a798-307cbec8aeed
07:09:48 INFO Waiting for reconcile ID: 8fa2e784-a873-4429-a798-307cbec8aeed
07:10:49 INFO Current reconcile ID: 8fa2e784-a873-4429-a798-307cbec8aeed
07:10:49 INFO Current reconcile ID: 8fa2e784-a873-4429-a798-307cbec8aeed, expected reconcile ID: 8fa2e784-a873-4429-a798-307cbec8aeed
07:10:49 INFO Waiting for reconcile ID: 8fa2e784-a873-4429-a798-307cbec8aeed
07:11:50 INFO Current reconcile ID: d8750179-8201-4ec3-903b-0a74a62e9274
07:11:50 INFO Current reconcile ID: d8750179-8201-4ec3-903b-0a74a62e9274, expected reconcile ID: 8fa2e784-a873-4429-a798-307cbec8aeed
07:11:52 INFO Application log: 
2025-09-17 06:45:12,971 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-17 06:45:12,985 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
2025-09-17 06:45:12,986 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Debug mode: off
2025-09-17 06:45:12,987 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 06:45:12,988 - INFO - github_runner_manager.reconcile_service - Reconcile ID: c782baa5-9d9b-4839-9f3e-eb99ae5d4cda
2025-09-17 06:45:13,026 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-17 06:45:13,027 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-17 06:45:13,050 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-17 06:45:13,050 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:45:13,050 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:45:15,108 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 06:45:16,275 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:45:18,028 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:45:18,028 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-17 06:45:18,028 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:45:18,067 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:45:18,068 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:45:18,068 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:45:18,068 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:45:18,068 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:45:18,068 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:45:18,068 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:45:19,473 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 06:45:20,653 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:45:20,654 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-09-17 06:45:20,654 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-17 06:45:20,654 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:45:22,212 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 06:45:23,390 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:45:23,390 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 06:45:23,390 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 06:45:23,390 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 06:45:23,390 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-17 06:45:23,391 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 06:45:23,391 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 06:45:23,392 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 06:45:23,393 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-17 06:45:23,393 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 06:45:26,927 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:45:26] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:45:26,947 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:45:26] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:45:26,970 - INFO - github_runner_manager.http_server - Attempting to acquire the lock: unlocked
2025-09-17 06:45:26,971 - INFO - github_runner_manager.http_server - Flushing runners...
2025-09-17 06:45:27,039 - INFO - github_runner_manager.http_server - Flushing busy: False
2025-09-17 06:45:27,039 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:45:27,039 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:45:29,557 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 06:45:30,760 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:45:32,486 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:45:32,486 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-17 06:45:32,486 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:45:32,525 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:45:32,526 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:45:32,526 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:45:32,526 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:45:32,526 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:45:32,526 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:45:32,526 - INFO - github_runner_manager.manager.runner_manager - runner_manager::flush_runners. mode FlushMode.FLUSH_IDLE
2025-09-17 06:45:32,526 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:45:34,262 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 06:45:35,833 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:45:35,834 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-09-17 06:45:35,834 - INFO - github_runner_manager.manager.runner_manager - Runners to flush: set()
2025-09-17 06:45:35,834 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: []
2025-09-17 06:45:35,834 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:45:35,834 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-09-17 06:45:35,834 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:45:35,835 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: []
2025-09-17 06:45:35,835 - INFO - github_runner_manager.manager.runner_manager - Deleted VMs: []
2025-09-17 06:45:35,835 - INFO - github_runner_manager.http_server - Flushed 0 runners
2025-09-17 06:45:35,836 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:45:35] "[35m[1mPOST /runner/flush?flush-busy=False HTTP/1.1[0m" 204 -
2025-09-17 06:45:55,607 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-17 06:45:55,619 - INFO - github_runner_manager.http_server - Starting the server...
2025-09-17 06:45:55,620 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-17 06:45:55,622 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 06:45:55,622 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 9c9cdfdd-885c-48d7-b5cd-8a35b9bfc424
2025-09-17 06:45:55,624 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-17 06:45:55,624 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-17 06:45:55,673 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-09-17 06:45:55,673 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:45:55,674 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:45:57,534 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 06:45:58,724 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:46:00,098 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:46:00,098 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-17 06:46:00,098 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:46:00,145 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:46:00,145 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:46:00,145 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:46:00,145 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:46:00,146 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:46:00,146 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:46:00,146 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:46:01,382 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 06:46:02,841 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:46:02,842 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 2
2025-09-17 06:46:02,842 - INFO - github_runner_manager.manager.runner_manager - Creating 2 runners
2025-09-17 06:46:03,557 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='171108', url=None))
2025-09-17 06:46:03,771 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='171109', url=None))
2025-09-17 06:46:07,185 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-to0fn0jw-0-n-c744d0d15c1e created successfully
2025-09-17 06:46:07,466 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-to0fn0jw-0-n-f5588d8621d9 created successfully
2025-09-17 06:46:07,478 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:46:08,716 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc))]
2025-09-17 06:46:09,479 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:46:09] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:46:09,833 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:46:09,833 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-c744d0d15c1e: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-17 06:46:09,833 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-f5588d8621d9: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-17 06:46:09,833 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 06:46:09,833 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 06:46:09,833 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 06:46:09,833 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-to0fn0jw-0-n-c744d0d15c1e', instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>), RunnerInstance(name='test-to0fn0jw-0-n-f5588d8621d9', instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-09-17 06:46:09,833 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 06:46:09,834 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 06:46:09,834 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 06:46:09,834 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 2
2025-09-17 06:46:09,834 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 06:48:09,842 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 06:48:09,842 - INFO - github_runner_manager.reconcile_service - Reconcile ID: f744a316-b1e4-4731-9b17-aec85e1c165c
2025-09-17 06:48:09,912 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-09-17 06:48:09,912 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:48:09,912 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:48:12,574 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc))]
2025-09-17 06:48:13,765 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:48:15,328 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:48:15,328 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 2 key files, clean up 0 key files
2025-09-17 06:48:15,328 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:48:15,369 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:48:15,369 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:48:15,369 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:48:15,369 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:48:15,370 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:48:15,370 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:48:15,370 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:48:17,018 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc))]
2025-09-17 06:48:18,228 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:48:18,228 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 2 to 2
2025-09-17 06:48:18,228 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-17 06:48:18,229 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:48:20,022 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc))]
2025-09-17 06:48:21,211 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:48:21,212 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-c744d0d15c1e: state=PlatformRunnerState.IDLE, health=HealthState.HEALTHY
2025-09-17 06:48:21,212 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-f5588d8621d9: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-17 06:48:21,212 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 06:48:21,212 - INFO - github_runner_manager.manager.runner_scaler - Found 1 idle runners: [RunnerInstance(name='test-to0fn0jw-0-n-c744d0d15c1e', instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), platform_state=<PlatformRunnerState.IDLE: '2'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-09-17 06:48:21,212 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 06:48:21,212 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-to0fn0jw-0-n-f5588d8621d9', instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-09-17 06:48:21,212 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): {'test-to0fn0jw-0-n-c744d0d15c1e'}
2025-09-17 06:48:21,212 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 06:48:21,213 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 06:48:21,213 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-17 06:48:21,213 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 06:48:30,135 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:48:30] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:48:30,157 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:48:30,235 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:48:32,648 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc))]
2025-09-17 06:48:33,822 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:48:33,824 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:48:33] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:48:36,133 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:48:36] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:48:36,154 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:48:36,232 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:48:39,590 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc))]
2025-09-17 06:48:40,741 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:48:40,743 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:48:40] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:48:44,958 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-17 06:48:44,976 - INFO - github_runner_manager.http_server - Starting the server...
2025-09-17 06:48:44,977 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-09-17 06:48:44,978 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 06:48:44,978 - INFO - github_runner_manager.reconcile_service - Reconcile ID: fb75f12f-eff3-44dc-95a0-02cc261ef6cc
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-17 06:48:45,028 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-17 06:48:45,028 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-17 06:48:45,045 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-17 06:48:45,046 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:48:45,046 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:48:47,354 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc))]
2025-09-17 06:48:48,472 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:48:50,375 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:48:50,376 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 2 key files, clean up 0 key files
2025-09-17 06:48:50,376 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:48:50,420 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:48:50,421 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:48:50,421 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:48:50,421 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:48:50,421 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:48:50,421 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:48:50,421 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:48:52,066 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc))]
2025-09-17 06:48:53,284 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:48:53,284 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 2 to 0
2025-09-17 06:48:53,284 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 2 runners
2025-09-17 06:48:53,285 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:48:54,826 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc))]
2025-09-17 06:48:55,934 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:48:55,935 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-09-17 06:48:55,935 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: {'171108', '171109'}
2025-09-17 06:48:55,935 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['171108', '171109']
2025-09-17 06:48:55,935 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['171108', '171109']
2025-09-17 06:48:56,501 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: ['171108', '171109']
2025-09-17 06:48:56,501 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), InstanceID('test-to0fn0jw-0-n-c744d0d15c1e')]
2025-09-17 06:48:56,502 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-to0fn0jw-0-n-f5588d8621d9
2025-09-17 06:48:56,503 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-to0fn0jw-0-n-c744d0d15c1e
2025-09-17 06:48:57,902 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-09-17 06:48:58,056 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-09-17 06:48:58,116 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-09-17 06:48:58,214 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-09-17 06:48:58,914 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:48:58] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:48:59,125 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-09-17 06:48:59,197 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.145.193.143, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-09-17 06:48:59,197 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-to0fn0jw-0-n-f5588d8621d9: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-09-17 06:48:59,249 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.145.193.143, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-09-17 06:48:59,249 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-to0fn0jw-0-n-f5588d8621d9: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-09-17 06:48:59,250 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-09-17 06:48:59,253 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-09-17 06:48:59,289 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.145.193.109, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-09-17 06:48:59,290 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-to0fn0jw-0-n-c744d0d15c1e: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-09-17 06:48:59,330 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.145.193.109, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-09-17 06:48:59,331 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-to0fn0jw-0-n-c744d0d15c1e: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-09-17 06:48:59,331 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-09-17 06:48:59,334 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), InstanceID('test-to0fn0jw-0-n-c744d0d15c1e')]
2025-09-17 06:48:59,336 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-to0fn0jw-0-n-f5588d8621d9
2025-09-17 06:48:59,343 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-to0fn0jw-0-n-c744d0d15c1e
2025-09-17 06:49:00,492 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-to0fn0jw-0-n-c744d0d15c1e (true delete: True)
2025-09-17 06:49:00,492 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-to0fn0jw-0-n-c744d0d15c1e
2025-09-17 06:49:00,505 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-to0fn0jw-0-n-f5588d8621d9 (true delete: True)
2025-09-17 06:49:00,505 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-to0fn0jw-0-n-f5588d8621d9
2025-09-17 06:49:00,519 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-to0fn0jw-0-n-c744d0d15c1e
2025-09-17 06:49:00,546 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-to0fn0jw-0-n-f5588d8621d9
2025-09-17 06:49:00,547 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: [InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), InstanceID('test-to0fn0jw-0-n-f5588d8621d9')]
2025-09-17 06:49:00,548 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:49:02,265 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc))]
2025-09-17 06:49:03,440 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:49:03,440 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-c744d0d15c1e: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-09-17 06:49:03,440 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-f5588d8621d9: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-09-17 06:49:03,440 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 06:49:03,441 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 06:49:03,441 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 06:49:03,441 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-to0fn0jw-0-n-c744d0d15c1e', instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-c744d0d15c1e'), metadata=RunnerMetadata(platform_name='github', runner_id='171109', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 6, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>), RunnerInstance(name='test-to0fn0jw-0-n-f5588d8621d9', instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f5588d8621d9'), metadata=RunnerMetadata(platform_name='github', runner_id='171108', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 46, 7, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>)]
2025-09-17 06:49:03,441 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 06:49:03,441 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 06:49:03,442 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 06:49:03,442 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -2
2025-09-17 06:49:03,442 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 06:51:03,541 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 06:51:03,541 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 01a4b180-1dab-4789-87fb-3b9a7efc1699
2025-09-17 06:51:03,595 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-17 06:51:03,595 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:51:03,595 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:51:05,283 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 06:51:06,498 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:51:07,603 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:51:07,603 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-17 06:51:07,603 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:51:07,637 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:51:07,637 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:51:07,637 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:51:07,637 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:51:07,637 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:51:07,638 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:51:07,638 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:51:08,804 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 06:51:09,951 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:51:09,951 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-09-17 06:51:09,951 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-17 06:51:09,951 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:51:11,210 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 06:51:12,326 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:51:12,326 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 06:51:12,326 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 06:51:12,326 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 06:51:12,326 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-17 06:51:12,327 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 06:51:12,327 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 06:51:12,328 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 06:51:12,328 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-17 06:51:12,329 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 06:51:25,676 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-17 06:51:25,690 - INFO - github_runner_manager.http_server - Starting the server...
2025-09-17 06:51:25,691 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
2025-09-17 06:51:25,691 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 06:51:25,691 - INFO - github_runner_manager.reconcile_service - Reconcile ID: bf18ddf5-f5e2-4ab6-b754-7d70cd447200
 * Debug mode: off
2025-09-17 06:51:25,720 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-17 06:51:25,720 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-17 06:51:25,763 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-09-17 06:51:25,763 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:51:25,763 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:51:27,671 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 06:51:28,818 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:51:30,456 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:51:30,457 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-17 06:51:30,457 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:51:30,488 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:51:30,489 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:51:30,489 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:51:30,489 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:51:30,489 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:51:30,489 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:51:30,489 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:51:31,992 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 06:51:33,132 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:51:33,132 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 1
2025-09-17 06:51:33,133 - INFO - github_runner_manager.manager.runner_manager - Creating 1 runners
2025-09-17 06:51:33,745 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='171114', url=None))
2025-09-17 06:51:37,258 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-to0fn0jw-0-n-0afde7d7ee99 created successfully
2025-09-17 06:51:37,259 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:51:38,528 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc))]
2025-09-17 06:51:39,569 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:51:39] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:51:39,700 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:51:39,700 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-0afde7d7ee99: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-17 06:51:39,700 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 06:51:39,700 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 06:51:39,700 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 06:51:39,700 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-to0fn0jw-0-n-0afde7d7ee99', instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-09-17 06:51:39,701 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 06:51:39,701 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 06:51:39,702 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 06:51:39,702 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 1
2025-09-17 06:51:39,702 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 06:53:39,793 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 06:53:39,794 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 11ffea28-5c17-4ac0-a67e-3d6ecfbd9143
2025-09-17 06:53:39,869 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-09-17 06:53:39,869 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:53:39,869 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:53:42,291 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc))]
2025-09-17 06:53:43,480 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:53:45,906 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:53:45,906 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-17 06:53:45,907 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:53:45,955 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:53:45,955 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:53:45,956 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:53:45,956 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:53:45,956 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:53:45,956 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:53:45,956 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:53:48,210 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc))]
2025-09-17 06:53:49,369 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:53:49,370 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-09-17 06:53:49,370 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-17 06:53:49,370 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:53:51,586 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc))]
2025-09-17 06:53:52,815 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:53:52,816 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-0afde7d7ee99: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-17 06:53:52,816 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 06:53:52,816 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 06:53:52,816 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 06:53:52,816 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-to0fn0jw-0-n-0afde7d7ee99', instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-09-17 06:53:52,816 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 06:53:52,816 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 06:53:52,817 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 06:53:52,817 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-17 06:53:52,817 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 06:54:01,252 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:54:01] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:54:01,277 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:54:01,363 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:54:03,605 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc))]
2025-09-17 06:54:04,690 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:54:04,692 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:54:04] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:54:37,456 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:54:37] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:54:37,485 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:54:37,562 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:54:39,714 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc))]
2025-09-17 06:54:40,881 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:54:40,883 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:54:40] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:54:43,300 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:54:43] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:54:43,331 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:54:43,408 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:54:45,775 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc))]
2025-09-17 06:54:46,969 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:54:46,970 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:54:46] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:54:49,654 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:54:49] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:54:49,675 - INFO - github_runner_manager.http_server - Attempting to acquire the lock: unlocked
2025-09-17 06:54:49,676 - INFO - github_runner_manager.http_server - Flushing runners...
2025-09-17 06:54:49,768 - INFO - github_runner_manager.http_server - Flushing busy: False
2025-09-17 06:54:49,769 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:54:49,769 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:54:51,989 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc))]
2025-09-17 06:54:53,133 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:54:55,128 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:54:55,129 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-17 06:54:55,129 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:54:55,169 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:54:55,169 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:54:55,169 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:54:55,169 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:54:55,170 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:54:55,170 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:54:55,170 - INFO - github_runner_manager.manager.runner_manager - runner_manager::flush_runners. mode FlushMode.FLUSH_IDLE
2025-09-17 06:54:55,170 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:54:56,753 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc))]
2025-09-17 06:54:57,893 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-0afde7d7ee99'), metadata=RunnerMetadata(platform_name='github', runner_id='171114', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 51, 36, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:54:57,894 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-09-17 06:54:57,894 - INFO - github_runner_manager.manager.runner_manager - Runners to flush: {'171114'}
2025-09-17 06:54:57,894 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['171114']
2025-09-17 06:54:57,894 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['171114']
2025-09-17 06:54:58,450 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: ['171114']
2025-09-17 06:54:58,450 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-to0fn0jw-0-n-0afde7d7ee99')]
2025-09-17 06:54:58,451 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-to0fn0jw-0-n-0afde7d7ee99
2025-09-17 06:54:59,844 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-09-17 06:54:59,979 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-09-17 06:55:01,482 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-09-17 06:55:01,535 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.145.193.43, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-09-17 06:55:01,535 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-to0fn0jw-0-n-0afde7d7ee99: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-09-17 06:55:01,588 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.145.193.43, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-09-17 06:55:01,591 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-to0fn0jw-0-n-0afde7d7ee99: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-09-17 06:55:01,592 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-09-17 06:55:01,593 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-to0fn0jw-0-n-0afde7d7ee99')]
2025-09-17 06:55:01,597 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-to0fn0jw-0-n-0afde7d7ee99
2025-09-17 06:55:02,666 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-to0fn0jw-0-n-0afde7d7ee99 (true delete: True)
2025-09-17 06:55:02,666 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-to0fn0jw-0-n-0afde7d7ee99
2025-09-17 06:55:02,698 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-to0fn0jw-0-n-0afde7d7ee99
2025-09-17 06:55:02,700 - INFO - github_runner_manager.manager.runner_manager - Deleted VMs: [InstanceID('test-to0fn0jw-0-n-0afde7d7ee99')]
2025-09-17 06:55:02,701 - INFO - github_runner_manager.http_server - Flushed 0 runners
2025-09-17 06:55:02,701 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:55:02] "[35m[1mPOST /runner/flush?flush-busy=False HTTP/1.1[0m" 204 -
2025-09-17 06:55:52,900 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 06:55:52,900 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 654715a0-034c-4c1c-972b-2c1f75d3a6b0
2025-09-17 06:55:52,976 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-09-17 06:55:52,976 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:55:52,976 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:55:55,081 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 06:55:56,292 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:55:57,698 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:55:57,699 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-17 06:55:57,699 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:55:57,734 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:55:57,734 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:55:57,734 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:55:57,734 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:55:57,734 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:55:57,734 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:55:57,734 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:55:59,934 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 06:56:01,209 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:56:01,209 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 1
2025-09-17 06:56:01,209 - INFO - github_runner_manager.manager.runner_manager - Creating 1 runners
2025-09-17 06:56:01,955 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='171121', url=None))
2025-09-17 06:56:04,754 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-to0fn0jw-0-n-75a4b4867664 created successfully
2025-09-17 06:56:04,755 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:56:06,076 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:56:07,288 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:56:07,289 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-75a4b4867664: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-17 06:56:07,289 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 06:56:07,289 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 06:56:07,289 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 06:56:07,289 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-to0fn0jw-0-n-75a4b4867664', instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-09-17 06:56:07,289 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 06:56:07,290 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 06:56:07,290 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 06:56:07,290 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 1
2025-09-17 06:56:07,290 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 06:56:23,335 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:56:23] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:56:23,363 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:56:23,480 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:56:25,779 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:56:26,938 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:56:26,939 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:56:26] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:56:59,321 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:56:59] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:56:59,347 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:56:59,406 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:57:01,770 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:57:03,029 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:57:03,031 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:57:03] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:57:35,626 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:57:35] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:57:35,652 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:57:35,738 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:57:37,760 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:57:38,960 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:57:38,962 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:57:38] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:58:07,391 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 06:58:07,391 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 4519eb52-807c-4883-ac1c-cb274f8f0af5
2025-09-17 06:58:07,473 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-09-17 06:58:07,473 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:58:07,473 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:58:09,372 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:58:10,663 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:58:11,933 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:58:11] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:58:12,011 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:58:12,096 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:58:12,120 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:58:12,121 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-17 06:58:12,121 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:58:12,155 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:58:12,155 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:58:12,155 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:58:12,155 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:58:12,156 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:58:12,156 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:58:12,156 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:58:13,503 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:58:14,053 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:58:14,925 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:58:14,926 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-09-17 06:58:14,926 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-17 06:58:14,926 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:58:15,214 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:58:15,215 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:58:15] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:58:16,150 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:58:17,371 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:58:17,372 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-75a4b4867664: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-17 06:58:17,372 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 06:58:17,372 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 06:58:17,372 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 06:58:17,372 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-to0fn0jw-0-n-75a4b4867664', instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-09-17 06:58:17,372 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 06:58:17,372 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 06:58:17,373 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 06:58:17,373 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-17 06:58:17,373 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 06:58:47,642 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:58:47] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:58:47,666 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:58:47,753 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:58:50,003 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:58:51,411 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:58:51,412 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:58:51] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:59:24,055 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:59:24] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:59:24,082 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:59:24,166 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:59:26,339 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:59:27,506 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:59:27,507 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:59:27] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:59:29,963 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:59:29] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:59:29,986 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 06:59:30,068 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:59:32,027 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:59:33,341 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:59:33,344 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:59:33] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 06:59:48,515 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:59:48] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 06:59:48,535 - INFO - github_runner_manager.http_server - Attempting to acquire the lock: unlocked
2025-09-17 06:59:48,535 - INFO - github_runner_manager.http_server - Flushing runners...
2025-09-17 06:59:48,597 - INFO - github_runner_manager.http_server - Flushing busy: False
2025-09-17 06:59:48,597 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 06:59:48,597 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:59:50,837 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:59:52,038 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:59:53,675 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 06:59:53,675 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-17 06:59:53,675 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 06:59:53,708 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 06:59:53,708 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:59:53,708 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 06:59:53,708 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:59:53,708 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 06:59:53,708 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 06:59:53,709 - INFO - github_runner_manager.manager.runner_manager - runner_manager::flush_runners. mode FlushMode.FLUSH_IDLE
2025-09-17 06:59:53,709 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 06:59:58,074 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 06:59:59,405 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 06:59:59,405 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-09-17 06:59:59,405 - INFO - github_runner_manager.manager.runner_manager - Runners to flush: set()
2025-09-17 06:59:59,405 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: []
2025-09-17 06:59:59,405 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 06:59:59,406 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-09-17 06:59:59,406 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 06:59:59,406 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: []
2025-09-17 06:59:59,406 - INFO - github_runner_manager.manager.runner_manager - Deleted VMs: []
2025-09-17 06:59:59,406 - INFO - github_runner_manager.http_server - Flushed 0 runners
2025-09-17 06:59:59,407 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 06:59:59] "[35m[1mPOST /runner/flush?flush-busy=False HTTP/1.1[0m" 204 -
2025-09-17 07:00:03,889 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-17 07:00:03,910 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-17 07:00:03,912 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-09-17 07:00:03,913 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-17 07:00:03,913 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-17 07:00:03,914 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 07:00:03,914 - INFO - github_runner_manager.reconcile_service - Reconcile ID: eab2d579-a424-424b-aeb4-0b0670992463
2025-09-17 07:00:03,991 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-17 07:00:03,991 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 07:00:03,991 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:00:06,037 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 07:00:07,159 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 07:00:08,488 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 07:00:08,489 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-17 07:00:08,489 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 07:00:08,583 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 07:00:08,584 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 07:00:08,584 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 07:00:08,584 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 07:00:08,584 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 07:00:08,584 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 07:00:08,584 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:00:10,038 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 07:00:11,230 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 07:00:11,231 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 0
2025-09-17 07:00:11,231 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 1 runners
2025-09-17 07:00:11,231 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:00:13,099 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc))]
2025-09-17 07:00:14,246 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 6, 56, 4, tzinfo=datetime.timezone.utc)), online=True, busy=True, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 07:00:14,247 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-09-17 07:00:14,247 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: {'171121'}
2025-09-17 07:00:14,247 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['171121']
2025-09-17 07:00:14,247 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['171121']
2025-09-17 07:00:14,710 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 171121
2025-09-17 07:00:14,710 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-09-17 07:00:14,710 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-to0fn0jw-0-n-75a4b4867664')]
2025-09-17 07:00:14,711 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-to0fn0jw-0-n-75a4b4867664
2025-09-17 07:00:16,103 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-09-17 07:00:16,222 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-09-17 07:00:17,480 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-09-17 07:00:17,580 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.145.193.222, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-09-17 07:00:17,581 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-to0fn0jw-0-n-75a4b4867664: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-09-17 07:00:17,581 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-09-17 07:00:17,583 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-to0fn0jw-0-n-75a4b4867664')]
2025-09-17 07:00:17,587 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-to0fn0jw-0-n-75a4b4867664
2025-09-17 07:00:17,597 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 07:00:17] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 07:00:18,902 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-to0fn0jw-0-n-75a4b4867664 (true delete: True)
2025-09-17 07:00:18,902 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-to0fn0jw-0-n-75a4b4867664
2025-09-17 07:00:18,932 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-to0fn0jw-0-n-75a4b4867664
2025-09-17 07:00:18,933 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: [InstanceID('test-to0fn0jw-0-n-75a4b4867664')]
2025-09-17 07:00:19,393 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:00:28,366 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 07:00:29,510 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:00:29,511 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 07:00:29,511 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 07:00:29,511 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 07:00:29,511 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-17 07:00:29,511 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 07:00:29,511 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 07:00:29,512 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 07:00:29,512 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -1
2025-09-17 07:00:29,512 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 07:02:29,609 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 07:02:29,610 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 9156bdd3-dd8a-4a38-a55c-3ae154bcd362
2025-09-17 07:02:29,686 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-17 07:02:29,686 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 07:02:29,686 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:02:31,782 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 07:02:33,053 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:02:34,471 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 07:02:34,471 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-17 07:02:34,472 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 07:02:34,504 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['171121']
2025-09-17 07:02:34,504 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['171121']
2025-09-17 07:02:34,978 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 171121
2025-09-17 07:02:34,979 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 07:02:34,979 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 07:02:34,979 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 07:02:34,979 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 07:02:34,979 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:02:36,448 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 07:02:37,679 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:02:37,679 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-09-17 07:02:37,679 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-17 07:02:37,679 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:02:39,096 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 07:02:40,238 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:02:40,238 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 07:02:40,238 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 07:02:40,238 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 07:02:40,238 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-17 07:02:40,239 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 07:02:40,239 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 07:02:40,239 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 07:02:40,239 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-17 07:02:40,239 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 07:03:41,629 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-17 07:03:41,646 - INFO - github_runner_manager.http_server - Starting the server...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-17 07:03:41,647 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
2025-09-17 07:03:41,648 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 07:03:41,648 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 8a20fc86-0c7d-4ec2-929c-0344f9f40a3b
2025-09-17 07:03:41,676 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-17 07:03:41,681 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-17 07:03:41,717 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-09-17 07:03:41,717 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 07:03:41,717 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:03:43,832 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 07:03:45,030 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:03:46,971 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 07:03:46,972 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-17 07:03:46,972 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 07:03:47,012 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['171121']
2025-09-17 07:03:47,012 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['171121']
2025-09-17 07:03:47,504 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 171121
2025-09-17 07:03:47,504 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 07:03:47,504 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 07:03:47,505 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 07:03:47,505 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 07:03:47,505 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:03:49,107 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 07:03:50,298 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:03:50,299 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 1
2025-09-17 07:03:50,299 - INFO - github_runner_manager.manager.runner_manager - Creating 1 runners
2025-09-17 07:03:50,971 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='171127', url=None))
2025-09-17 07:03:53,762 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-to0fn0jw-0-n-f9d314934536 created successfully
2025-09-17 07:03:53,762 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:03:55,285 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc))]
2025-09-17 07:03:55,412 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 07:03:55] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 07:03:56,475 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:03:56,476 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-f9d314934536: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-09-17 07:03:56,476 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 07:03:56,476 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 07:03:56,476 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 07:03:56,476 - INFO - github_runner_manager.manager.runner_scaler - Found 1 unhealthy runners: [RunnerInstance(name='test-to0fn0jw-0-n-f9d314934536', instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-09-17 07:03:56,477 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 07:03:56,477 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 07:03:56,478 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 07:03:56,478 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 1
2025-09-17 07:03:56,478 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 07:05:56,529 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 07:05:56,530 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 1b3c870d-e243-4266-9240-3815c3334263
2025-09-17 07:05:56,600 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 1. max_quantity: 0.
2025-09-17 07:05:56,601 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 07:05:56,601 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:05:58,689 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc))]
2025-09-17 07:05:59,908 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:06:01,364 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 07:06:01,365 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-17 07:06:01,365 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 07:06:01,392 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['171121']
2025-09-17 07:06:01,392 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['171121']
2025-09-17 07:06:01,884 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 171121
2025-09-17 07:06:01,885 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 07:06:01,885 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 07:06:01,885 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 07:06:01,885 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 07:06:01,885 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:06:05,460 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc))]
2025-09-17 07:06:06,654 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:06:06,655 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 1
2025-09-17 07:06:06,655 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-17 07:06:06,656 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:06:07,981 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc))]
2025-09-17 07:06:09,149 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:06:09,150 - INFO - github_runner_manager.manager.runner_scaler - Runner test-to0fn0jw-0-n-f9d314934536: state=PlatformRunnerState.IDLE, health=HealthState.HEALTHY
2025-09-17 07:06:09,150 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 07:06:09,150 - INFO - github_runner_manager.manager.runner_scaler - Found 1 idle runners: [RunnerInstance(name='test-to0fn0jw-0-n-f9d314934536', instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), platform_state=<PlatformRunnerState.IDLE: '2'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.ACTIVE: '2'>)]
2025-09-17 07:06:09,150 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 07:06:09,150 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-17 07:06:09,150 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): {'test-to0fn0jw-0-n-f9d314934536'}
2025-09-17 07:06:09,150 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 07:06:09,151 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 07:06:09,151 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-17 07:06:09,151 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 07:06:16,390 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 07:06:16] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 07:06:16,407 - INFO - github_runner_manager.http_server - Checking runners...
2025-09-17 07:06:16,469 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:06:18,688 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc))]
2025-09-17 07:06:19,858 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:06:19,859 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 07:06:19] "GET /runner/check HTTP/1.1" 200 -
2025-09-17 07:06:37,832 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-09-17 07:06:37,851 - INFO - github_runner_manager.http_server - Starting the server...
2025-09-17 07:06:37,852 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-09-17 07:06:37,854 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-09-17 07:06:37,854 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-09-17 07:06:37,855 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 07:06:37,855 - INFO - github_runner_manager.reconcile_service - Reconcile ID: ecfde698-3583-4458-9134-43e1b9a21cf7
2025-09-17 07:06:37,924 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-17 07:06:37,925 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 07:06:37,925 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:06:39,721 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc))]
2025-09-17 07:06:40,833 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:06:42,209 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 07:06:42,209 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 1 key files, clean up 0 key files
2025-09-17 07:06:42,209 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 07:06:42,239 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['171121', '171127']
2025-09-17 07:06:42,239 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['171121', '171127']
2025-09-17 07:06:43,008 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 171121
2025-09-17 07:06:43,008 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: ['171127']
2025-09-17 07:06:43,008 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-to0fn0jw-0-n-f9d314934536')]
2025-09-17 07:06:43,009 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-to0fn0jw-0-n-f9d314934536
2025-09-17 07:06:44,464 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-09-17 07:06:44,575 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-09-17 07:06:45,983 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-09-17 07:06:46,117 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-09-17 07:06:46,118 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: [InstanceID('test-to0fn0jw-0-n-f9d314934536')]
2025-09-17 07:06:46,121 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-to0fn0jw-0-n-f9d314934536
2025-09-17 07:06:47,028 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-to0fn0jw-0-n-f9d314934536 (true delete: True)
2025-09-17 07:06:47,028 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-to0fn0jw-0-n-f9d314934536
2025-09-17 07:06:47,073 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-to0fn0jw-0-n-f9d314934536
2025-09-17 07:06:47,074 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: [InstanceID('test-to0fn0jw-0-n-f9d314934536')]
2025-09-17 07:06:47,584 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:06:48,873 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc))]
2025-09-17 07:06:49,951 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-to0fn0jw-0-n-f9d314934536'), metadata=RunnerMetadata(platform_name='github', runner_id='171127', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 9, 17, 7, 3, 53, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:06:49,951 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 1 to 0
2025-09-17 07:06:49,951 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 1 runners
2025-09-17 07:06:49,952 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:06:51,761 - INFO - werkzeug - 127.0.0.1 - - [17/Sep/2025 07:06:51] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-09-17 07:06:51,863 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 07:06:53,014 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:06:53,014 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: {'171121'}
2025-09-17 07:06:53,015 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: set()
2025-09-17 07:06:53,015 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['171121']
2025-09-17 07:06:53,015 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['171121']
2025-09-17 07:06:53,582 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 171121
2025-09-17 07:06:53,583 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-09-17 07:06:53,583 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 07:06:53,583 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: []
2025-09-17 07:06:53,583 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: []
2025-09-17 07:06:53,583 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:06:54,925 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 07:06:56,094 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:06:56,095 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 07:06:56,095 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 07:06:56,095 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 07:06:56,095 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-17 07:06:56,096 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 07:06:56,096 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 07:06:56,097 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 07:06:56,097 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -1
2025-09-17 07:06:56,097 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 07:08:56,198 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 07:08:56,199 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 52e97329-96dd-4cae-b93f-9e23738773ae
2025-09-17 07:08:56,266 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-17 07:08:56,266 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 07:08:56,266 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:08:57,935 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 07:08:59,086 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:09:00,212 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 07:09:00,213 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-17 07:09:00,213 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 07:09:00,234 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: ['171121']
2025-09-17 07:09:00,234 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['171121']
2025-09-17 07:09:00,721 - WARNING - github_runner_manager.platform.github_provider - Delete runner attempt failed, busy runner: 171121
2025-09-17 07:09:00,721 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 07:09:00,721 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 07:09:00,721 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 07:09:00,721 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 07:09:00,721 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:09:01,830 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 07:09:03,018 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:09:03,018 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-09-17 07:09:03,018 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-17 07:09:03,018 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:09:04,136 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 07:09:05,299 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[RunnerIdentity(instance_id=InstanceID('test-to0fn0jw-0-n-75a4b4867664'), metadata=RunnerMetadata(platform_name='github', runner_id='171121', url=None))])
2025-09-17 07:09:05,299 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 07:09:05,299 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 07:09:05,299 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 07:09:05,299 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-17 07:09:05,300 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 07:09:05,300 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 07:09:05,300 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 07:09:05,300 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-17 07:09:05,300 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-09-17 07:11:05,397 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-09-17 07:11:05,397 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 8fa2e784-a873-4429-a798-307cbec8aeed
2025-09-17 07:11:05,463 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-09-17 07:11:05,463 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-09-17 07:11:05,463 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:11:07,303 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-09-17 07:11:08,488 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 07:11:09,788 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-09-17 07:11:09,788 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-09-17 07:11:09,788 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-09-17 07:11:09,810 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-09-17 07:11:09,810 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-09-17 07:11:09,810 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-09-17 07:11:09,810 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-09-17 07:11:09,810 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-09-17 07:11:09,810 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-09-17 07:11:09,810 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:11:11,121 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 07:11:12,293 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 07:11:12,293 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-09-17 07:11:12,293 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-09-17 07:11:12,293 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-09-17 07:11:13,780 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-09-17 07:11:14,967 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-09-17 07:11:14,967 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-09-17 07:11:14,967 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-09-17 07:11:14,968 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-09-17 07:11:14,968 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-09-17 07:11:14,968 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-09-17 07:11:14,968 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-09-17 07:11:14,968 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-09-17 07:11:14,969 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-09-17 07:11:14,969 - INFO - github_runner_manager.reconcile_service - End reconciliation

07:11:53 INFO Reactive log: 
cat: '/var/log/reactive_runner/*.log': No such file or directory

07:11:54 INFO Metrics log: 
{"timestamp": 1758091523.392066, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 10.340351819992065}
{"timestamp": 1758091569.8343542, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 2, "duration": 14.159826040267944}
{"timestamp": 1758091701.2127829, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 1, "active_runners": 0, "expected_runners": 2, "duration": 11.300140619277954}
{"timestamp": 1758091707.0, "event": "runner_installed", "flavor": "test-to0fn0jw", "duration": 140.0}
{"timestamp": 1758091661.0, "event": "runner_installed", "flavor": "test-to0fn0jw", "duration": 95.0}
{"timestamp": 1758091743.4417598, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 18.395237684249878}
{"timestamp": 1758091872.3274834, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 8.731707572937012}
{"timestamp": 1758091899.701625, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 13.937685251235962}
{"timestamp": 1758092032.8169324, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 12.947141170501709}
{"timestamp": 1758092069.0, "event": "runner_installed", "flavor": "test-to0fn0jw", "duration": 173.0}
{"timestamp": 1758092167.2901108, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 14.313419818878174}
{"timestamp": 1758092297.3728433, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 9.898994445800781}
{"timestamp": 1758092349.0, "event": "runner_installed", "flavor": "test-to0fn0jw", "duration": 185.0}
{"timestamp": 1758092380.0, "event": "runner_start", "flavor": "test-to0fn0jw", "workflow": "Workflow Dispatch Wait Tests", "repo": "canonical/github-runner-operator", "github_event": "workflow_dispatch", "idle": 31.0, "queue_duration": 1.0}
{"timestamp": 1758092429.5117967, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 1, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 25.51961660385132}
{"timestamp": 1758092560.2393386, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 10.552264928817749}
{"timestamp": 1758092636.47771, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 1, "duration": 14.758696794509888}
{"timestamp": 1758092769.1510046, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 1, "active_runners": 0, "expected_runners": 1, "duration": 12.549342393875122}
{"timestamp": 1758092729.0, "event": "runner_installed", "flavor": "test-to0fn0jw", "duration": 96.0}
{"timestamp": 1758092786.0, "event": "runner_start", "flavor": "test-to0fn0jw", "workflow": "Workflow Dispatch Tests", "repo": "canonical/github-runner-operator", "github_event": "workflow_dispatch", "idle": 57.0, "queue_duration": 1.0}
{"timestamp": 1758092788.0, "event": "runner_stop", "flavor": "test-to0fn0jw", "workflow": "Workflow Dispatch Tests", "repo": "canonical/github-runner-operator", "github_event": "workflow_dispatch", "status": "normal", "job_duration": 2.0, "job_conclusion": "success"}
{"timestamp": 1758092816.096409, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 18.17058801651001}
{"timestamp": 1758092945.300224, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 9.033286809921265}
{"timestamp": 1758093074.9684124, "event": "reconciliation", "flavor": "test-to0fn0jw", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 9.5048348903656}

07:11:55 INFO OpenStack servers: []
07:11:58 INFO Model status:

Model                   Controller           Cloud/Region         Version  SLA          Timestamp
test-charm-runner-em2w  github-pr-77d1e-lxd  localhost/localhost  3.6.9    unsupported  07:11:58Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-to0fn0jw           active      1  github-runner-image-builder  latest/edge  110  no       
test-to0fn0jw                                  active      1  github-runner                               0  no       

Unit                                     Workload  Agent  Machine  Public address  Ports  Message
github-runner-image-builder-to0fn0jw/0*  active    idle   0        10.61.209.214          
test-to0fn0jw/0*                         active    idle   1        10.61.209.116          

Machine  State    Address        Inst id        Base          AZ             Message
0        started  10.61.209.214  juju-75c937-0  ubuntu@22.04  github-runner  Running
1        started  10.61.209.116  juju-75c937-1  ubuntu@22.04  github-runner  Running

07:11:58 INFO Juju error logs:

machine-0: 06:29:06 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 06:29:06 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-to0fn0jw-0: 06:29:06 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-1: 06:29:14 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 06:29:14 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-test-to0fn0jw-0: 06:29:15 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-github-runner-image-builder-to0fn0jw-0: 06:30:15 ERROR unit.github-runner-image-builder-to0fn0jw/0.juju-log Pipx command failed, code: 1, out: None, err: None
unit-test-to0fn0jw-0: 06:31:15 ERROR unit.test-to0fn0jw/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-to0fn0jw-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-to0fn0jw-0/charm/./src/charm.py", line 342, in _on_config_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-to0fn0jw-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-to0fn0jw-0: 06:31:18 ERROR unit.test-to0fn0jw/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-to0fn0jw-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-to0fn0jw-0/charm/./src/charm.py", line 313, in _on_start
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-to0fn0jw-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-to0fn0jw-0: 06:32:20 ERROR unit.test-to0fn0jw/0.juju-log image:0: Missing image in image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-to0fn0jw-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-to0fn0jw-0/charm/./src/charm.py", line 477, in _on_image_relation_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-to0fn0jw-0/charm/./src/charm.py", line 514, in _check_image_ready
    raise ImageNotFoundError("No image found in the image integration")
errors.ImageNotFoundError: No image found in the image integration

07:11:58 INFO Forgetting model main...