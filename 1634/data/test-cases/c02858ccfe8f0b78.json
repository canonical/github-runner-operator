{"uid":"c02858ccfe8f0b78","name":"test_runner_normal_lifecycle","fullName":"tests.integration.test_runner_manager_openstack#test_runner_normal_lifecycle","historyId":"05be2296df959236493b35fcbffcaac0","time":{"start":1734518778118,"stop":1734518860963,"duration":82845},"description":"\n    Arrange: RunnerManager with one runner. Clean metric logs.\n    Act:\n        1. Start a test workflow for the runner.\n        2. Run cleanup.\n    Assert:\n        1. The workflow complete successfully.\n        2. The runner should be deleted. The metrics should be recorded.\n    ","descriptionHtml":"<pre><code>Arrange: RunnerManager with one runner. Clean metric logs.\nAct:\n    1. Start a test workflow for the runner.\n    2. Run cleanup.\nAssert:\n    1. The workflow complete successfully.\n    2. The runner should be deleted. The metrics should be recorded.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1734518299194,"stop":1734518299194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1734518299194,"stop":1734518299194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1734518299194,"stop":1734518299194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1734518299194,"stop":1734518299194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app","time":{"start":1734518299194,"stop":1734518299194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1734518299194,"stop":1734518299194,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1734518299195,"stop":1734518299195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1734518299195,"stop":1734518299195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"proxy_config","time":{"start":1734518299195,"stop":1734518299197,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_test_image","time":{"start":1734518299195,"stop":1734518299195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1734518299195,"stop":1734518299195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_path","time":{"start":1734518299195,"stop":1734518299195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1734518299195,"stop":1734518299195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1734518299195,"stop":1734518299195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1734518299195,"stop":1734518299195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1734518299195,"stop":1734518299195,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_label","time":{"start":1734518299197,"stop":1734518299197,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1734518299197,"stop":1734518299197,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1734518299198,"stop":1734518299198,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1734518299198,"stop":1734518299219,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_runner_manager","time":{"start":1734518299219,"stop":1734518299221,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager","time":{"start":1734518299221,"stop":1734518299243,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1734518299221,"stop":1734518299221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_dir_base_path","time":{"start":1734518299221,"stop":1734518299221,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1734518436234,"stop":1734518436732,"duration":498},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1734518436732,"stop":1734518437339,"duration":607},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1734518437340,"stop":1734518439312,"duration":1972},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1734518612664,"stop":1734518612664,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager_with_one_runner","time":{"start":1734518612664,"stop":1734518778116,"duration":165452},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    Arrange: RunnerManager with one runner. Clean metric logs.\n    Act:\n        1. Start a test workflow for the runner.\n        2. Run cleanup.\n    Assert:\n        1. The workflow complete successfully.\n        2. The runner should be deleted. The metrics should be recorded.\n    ","status":"passed","steps":[],"attachments":[{"uid":"7a57c0435d5870a0","name":"log","source":"7a57c0435d5870a0.txt","type":"text/plain","size":9075}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1734518860964,"stop":1734518860964,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1734518983148,"stop":1734518983796,"duration":648},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"runner_manager::finalizer","time":{"start":1734518983797,"stop":1734518983797,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_runner_manager::finalizer","time":{"start":1734518983798,"stop":1734518983798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"log_dir_base_path::0","time":{"start":1734518983798,"stop":1734518983798,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1734518983799,"stop":1734518985455,"duration":1656},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1734518985461,"stop":1734518985461,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1734518985461,"stop":1734518985461,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1734518985461,"stop":1734518985461,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_runner_manager_openstack"},{"name":"host","value":"github-runner"},{"name":"thread","value":"18446-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_runner_manager_openstack"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5db862251bc33f29","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":2,"broken":1,"skipped":0,"passed":9,"unknown":3,"total":15},"items":[{"uid":"b6611f5dd6447b27","reportUrl":"../1628//#testresult/b6611f5dd6447b27","status":"passed","time":{"start":1734456555045,"stop":1734456676572,"duration":121527}},{"uid":"f38f1ece7cd4ba53","reportUrl":"../1626//#testresult/f38f1ece7cd4ba53","status":"passed","time":{"start":1734451504956,"stop":1734451562779,"duration":57823}},{"uid":"33cb2a23882a16d","reportUrl":"../1627//#testresult/33cb2a23882a16d","status":"passed","time":{"start":1734446145795,"stop":1734446190847,"duration":45052}},{"uid":"e39071eb6f9a7a79","reportUrl":"../1624//#testresult/e39071eb6f9a7a79","status":"passed","time":{"start":1734439200080,"stop":1734439252237,"duration":52157}},{"uid":"7dacb8f77870f0a1","reportUrl":"../1618//#testresult/7dacb8f77870f0a1","status":"unknown","time":{}},{"uid":"5c587f2fdab7f892","reportUrl":"../1614//#testresult/5c587f2fdab7f892","status":"failed","statusDetails":"AssertionError: Test arrange failed: Expect one runner","time":{"start":1734358335947,"stop":1734358335947,"duration":0}},{"uid":"5fba3d5111ffcb0","reportUrl":"../1613//#testresult/5fba3d5111ffcb0","status":"unknown","time":{}},{"uid":"bff8ae7789cb1f3","reportUrl":"../1612//#testresult/bff8ae7789cb1f3","status":"passed","time":{"start":1734344727940,"stop":1734344771845,"duration":43905}},{"uid":"5eddc0c458bd0012","reportUrl":"../1609//#testresult/5eddc0c458bd0012","status":"failed","statusDetails":"AssertionError: The expected metrics were not issued\nassert False","time":{"start":1734083834458,"stop":1734084523777,"duration":689319}},{"uid":"1a0dbb4f182c65cc","reportUrl":"../1606//#testresult/1a0dbb4f182c65cc","status":"passed","time":{"start":1734067335007,"stop":1734067377553,"duration":42546}},{"uid":"160ec938b22434e1","reportUrl":"../1605//#testresult/160ec938b22434e1","status":"passed","time":{"start":1733923456397,"stop":1733923517191,"duration":60794}},{"uid":"ab2b50b918adc930","reportUrl":"../1603//#testresult/ab2b50b918adc930","status":"unknown","time":{}},{"uid":"6a757a7afaa24037","reportUrl":"../1593//#testresult/6a757a7afaa24037","status":"passed","time":{"start":1733761819254,"stop":1733761871608,"duration":52354}},{"uid":"2c360da5e7663eff","reportUrl":"../1571//#testresult/2c360da5e7663eff","status":"broken","statusDetails":"github.GithubException.UnknownObjectException: 404 {\"message\": \"Not Found\", \"documentation_url\": \"https://docs.github.com/rest/git/refs#create-a-reference\", \"status\": \"404\"}","time":{"start":1733332773249,"stop":1733332773249,"duration":0}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"c02858ccfe8f0b78.json","parameterValues":[]}