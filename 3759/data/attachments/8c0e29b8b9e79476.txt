06:55:44 INFO Application log: 
2025-10-14 06:44:50,468 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-10-14 06:44:50,475 - INFO - github_runner_manager.http_server - Starting the server...
2025-10-14 06:44:50,475 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-10-14 06:44:50,475 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-10-14 06:44:50,475 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 353d5fb5-82f6-40c4-8441-d81289546919
2025-10-14 06:44:50,481 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-10-14 06:44:50,486 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-10-14 06:44:50,494 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-10-14 06:44:50,494 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-10-14 06:44:50,494 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:44:50,817 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:44:51,983 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-10-14 06:44:53,010 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:44:54,046 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-10-14 06:44:54,046 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-10-14 06:44:54,046 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-10-14 06:44:54,075 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-10-14 06:44:54,075 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-10-14 06:44:54,075 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-10-14 06:44:54,076 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-10-14 06:44:54,076 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-10-14 06:44:54,076 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-10-14 06:44:54,076 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:44:55,231 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-10-14 06:44:56,154 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:44:56,154 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-10-14 06:44:56,154 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-10-14 06:44:56,154 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:44:57,163 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-10-14 06:44:57,977 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:44:57,977 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-10-14 06:44:57,977 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-10-14 06:44:57,977 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-10-14 06:44:57,977 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-10-14 06:44:57,977 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-10-14 06:44:57,978 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-10-14 06:44:57,978 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-10-14 06:44:57,978 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-10-14 06:44:57,978 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-10-14 06:45:04,992 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:45:04] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:45:04,999 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:45:04] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:45:05,006 - INFO - github_runner_manager.http_server - Attempting to acquire the lock: unlocked
2025-10-14 06:45:05,006 - INFO - github_runner_manager.http_server - Flushing runners...
2025-10-14 06:45:05,024 - INFO - github_runner_manager.http_server - Flushing busy: False
2025-10-14 06:45:05,024 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-10-14 06:45:05,024 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:45:05,358 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:45:06,378 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-10-14 06:45:07,268 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:45:08,285 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-10-14 06:45:08,286 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-10-14 06:45:08,286 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-10-14 06:45:08,314 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-10-14 06:45:08,314 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-10-14 06:45:08,314 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-10-14 06:45:08,314 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-10-14 06:45:08,314 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-10-14 06:45:08,314 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-10-14 06:45:08,315 - INFO - github_runner_manager.manager.runner_manager - runner_manager::flush_runners. mode FlushMode.FLUSH_IDLE
2025-10-14 06:45:08,315 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:45:09,329 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-10-14 06:45:10,172 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:45:10,172 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-10-14 06:45:10,172 - INFO - github_runner_manager.manager.runner_manager - Runners to flush: set()
2025-10-14 06:45:10,172 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: []
2025-10-14 06:45:10,172 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-10-14 06:45:10,172 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: []
2025-10-14 06:45:10,172 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-10-14 06:45:10,172 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: []
2025-10-14 06:45:10,172 - INFO - github_runner_manager.manager.runner_manager - Deleted VMs: []
2025-10-14 06:45:10,172 - INFO - github_runner_manager.http_server - Flushed 0 runners
2025-10-14 06:45:10,173 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:45:10] "[35m[1mPOST /runner/flush?flush-busy=False HTTP/1.1[0m" 204 -
2025-10-14 06:45:27,160 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-10-14 06:45:27,165 - INFO - github_runner_manager.http_server - Starting the server...
2025-10-14 06:45:27,166 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-10-14 06:45:27,166 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-10-14 06:45:27,166 - INFO - github_runner_manager.reconcile_service - Reconcile ID: f4271d5a-e1e5-41f9-8aab-0640e78f1b4f
2025-10-14 06:45:27,184 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-10-14 06:45:27,184 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-10-14 06:45:27,184 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-10-14 06:45:27,185 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-10-14 06:45:27,185 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:45:27,556 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:45:28,644 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-10-14 06:45:29,465 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:45:30,519 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-10-14 06:45:30,519 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-10-14 06:45:30,519 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-10-14 06:45:30,541 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-10-14 06:45:30,542 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-10-14 06:45:30,542 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-10-14 06:45:30,542 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-10-14 06:45:30,542 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-10-14 06:45:30,542 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-10-14 06:45:30,542 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:45:31,597 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-10-14 06:45:32,451 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:45:32,451 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 2
2025-10-14 06:45:32,451 - INFO - github_runner_manager.manager.runner_manager - Creating 2 runners
2025-10-14 06:45:32,978 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-tmdv2w16-0-n-053aa9433a12'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='175023', url=None))
2025-10-14 06:45:32,991 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-tmdv2w16-0-n-1cc590452953'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='175024', url=None))
2025-10-14 06:45:34,060 - ERROR - github_runner_manager.openstack_cloud.openstack_cloud - Failed to create openstack server test-tmdv2w16-0-n-1cc590452953
Traceback (most recent call last):
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 290, in launch_instance
    server = conn.create_server(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/decorator.py", line 235, in fun
    return caller(func, *(extras + args), **kw)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/cloud/_utils.py", line 233, in func_wrapper
    return func(*args, **kwargs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/cloud/_compute.py", line 1075, in create_server
    server = self.compute.create_server(**kwargs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/compute/v2/_proxy.py", line 740, in create_server
    return self._create(_server.Server, **attrs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/proxy.py", line 769, in _create
    return res.create(self, base_path=base_path)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/resource.py", line 1421, in create
    self._translate_response(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/resource.py", line 1189, in _translate_response
    exceptions.raise_from_response(response, error_message=error_message)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/exceptions.py", line 266, in raise_from_response
    raise cls(
openstack.exceptions.ForbiddenException: ForbiddenException: 403: Client Error for url: https://nova.ps7.canonical.com:8774/v2.1/servers, Maximum number of ports exceeded
2025-10-14 06:45:34,062 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-tmdv2w16-0-n-1cc590452953
2025-10-14 06:45:34,088 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-tmdv2w16-0-n-1cc590452953
2025-10-14 06:45:34,088 - WARNING - github_runner_manager.manager.runner_manager - Deleting runner test-tmdv2w16-0-n-1cc590452953 from platform after creation failed
2025-10-14 06:45:34,088 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['175024']
2025-10-14 06:45:34,795 - ERROR - github_runner_manager.openstack_cloud.openstack_cloud - Failed to create openstack server test-tmdv2w16-0-n-053aa9433a12
Traceback (most recent call last):
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 290, in launch_instance
    server = conn.create_server(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/decorator.py", line 235, in fun
    return caller(func, *(extras + args), **kw)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/cloud/_utils.py", line 233, in func_wrapper
    return func(*args, **kwargs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/cloud/_compute.py", line 1075, in create_server
    server = self.compute.create_server(**kwargs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/compute/v2/_proxy.py", line 740, in create_server
    return self._create(_server.Server, **attrs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/proxy.py", line 769, in _create
    return res.create(self, base_path=base_path)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/resource.py", line 1421, in create
    self._translate_response(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/resource.py", line 1189, in _translate_response
    exceptions.raise_from_response(response, error_message=error_message)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/exceptions.py", line 266, in raise_from_response
    raise cls(
openstack.exceptions.ForbiddenException: ForbiddenException: 403: Client Error for url: https://nova.ps7.canonical.com:8774/v2.1/servers, Maximum number of ports exceeded
2025-10-14 06:45:34,797 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-tmdv2w16-0-n-053aa9433a12
2025-10-14 06:45:35,012 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-tmdv2w16-0-n-053aa9433a12
2025-10-14 06:45:35,012 - WARNING - github_runner_manager.manager.runner_manager - Deleting runner test-tmdv2w16-0-n-053aa9433a12 from platform after creation failed
2025-10-14 06:45:35,012 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['175023']
2025-10-14 06:45:35,115 - ERROR - github_runner_manager.manager.runner_manager - Failed to spawn a runner.
multiprocessing.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 290, in launch_instance
    server = conn.create_server(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/decorator.py", line 235, in fun
    return caller(func, *(extras + args), **kw)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/cloud/_utils.py", line 233, in func_wrapper
    return func(*args, **kwargs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/cloud/_compute.py", line 1075, in create_server
    server = self.compute.create_server(**kwargs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/compute/v2/_proxy.py", line 740, in create_server
    return self._create(_server.Server, **attrs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/proxy.py", line 769, in _create
    return res.create(self, base_path=base_path)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/resource.py", line 1421, in create
    self._translate_response(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/resource.py", line 1189, in _translate_response
    exceptions.raise_from_response(response, error_message=error_message)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/exceptions.py", line 266, in raise_from_response
    raise cls(
openstack.exceptions.ForbiddenException: ForbiddenException: 403: Client Error for url: https://nova.ps7.canonical.com:8774/v2.1/servers, Maximum number of ports exceeded

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 110, in create_runner
    instance = self._openstack_cloud.launch_instance(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 180, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 327, in launch_instance
    raise OpenStackError(f"Failed to create openstack server {instance_id}") from err
github_runner_manager.errors.OpenStackError: Failed to create openstack server test-tmdv2w16-0-n-1cc590452953

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/manager/runner_manager.py", line 539, in _create_runner
    args.cloud_runner_manager.create_runner(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 117, in create_runner
    raise RunnerCreateError(
github_runner_manager.errors.RunnerCreateError: Failed to create RunnerIdentity(instance_id=InstanceID('test-tmdv2w16-0-n-1cc590452953'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='175024', url=None)) openstack runner
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/manager/runner_manager.py", line 236, in _spawn_runners_using_multiprocessing
    instance_id = next(jobs)
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 873, in next
    raise value
github_runner_manager.errors.RunnerCreateError: Failed to create RunnerIdentity(instance_id=InstanceID('test-tmdv2w16-0-n-1cc590452953'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='175024', url=None)) openstack runner
2025-10-14 06:45:35,471 - ERROR - github_runner_manager.manager.runner_manager - Failed to spawn a runner.
multiprocessing.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 290, in launch_instance
    server = conn.create_server(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/decorator.py", line 235, in fun
    return caller(func, *(extras + args), **kw)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/cloud/_utils.py", line 233, in func_wrapper
    return func(*args, **kwargs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/cloud/_compute.py", line 1075, in create_server
    server = self.compute.create_server(**kwargs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/compute/v2/_proxy.py", line 740, in create_server
    return self._create(_server.Server, **attrs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/proxy.py", line 769, in _create
    return res.create(self, base_path=base_path)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/resource.py", line 1421, in create
    self._translate_response(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/resource.py", line 1189, in _translate_response
    exceptions.raise_from_response(response, error_message=error_message)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/openstack/exceptions.py", line 266, in raise_from_response
    raise cls(
openstack.exceptions.ForbiddenException: ForbiddenException: 403: Client Error for url: https://nova.ps7.canonical.com:8774/v2.1/servers, Maximum number of ports exceeded

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 110, in create_runner
    instance = self._openstack_cloud.launch_instance(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 180, in exception_handling_wrapper
    return func(*args, **kwargs)
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_cloud.py", line 327, in launch_instance
    raise OpenStackError(f"Failed to create openstack server {instance_id}") from err
github_runner_manager.errors.OpenStackError: Failed to create openstack server test-tmdv2w16-0-n-053aa9433a12

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/manager/runner_manager.py", line 539, in _create_runner
    args.cloud_runner_manager.create_runner(
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/openstack_cloud/openstack_runner_manager.py", line 117, in create_runner
    raise RunnerCreateError(
github_runner_manager.errors.RunnerCreateError: Failed to create RunnerIdentity(instance_id=InstanceID('test-tmdv2w16-0-n-053aa9433a12'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='175023', url=None)) openstack runner
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/pipx/venvs/github-runner-manager/lib/python3.10/site-packages/github_runner_manager/manager/runner_manager.py", line 236, in _spawn_runners_using_multiprocessing
    instance_id = next(jobs)
  File "/usr/lib/python3.10/multiprocessing/pool.py", line 873, in next
    raise value
github_runner_manager.errors.RunnerCreateError: Failed to create RunnerIdentity(instance_id=InstanceID('test-tmdv2w16-0-n-053aa9433a12'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='175023', url=None)) openstack runner
2025-10-14 06:45:35,476 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:45:36,561 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-10-14 06:45:37,311 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:45:37,311 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-10-14 06:45:37,311 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-10-14 06:45:37,312 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-10-14 06:45:37,312 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-10-14 06:45:37,312 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-10-14 06:45:37,312 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-10-14 06:45:37,313 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-10-14 06:45:37,313 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 2
2025-10-14 06:45:37,313 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-10-14 06:45:41,752 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:45:41] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:47:37,396 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-10-14 06:47:37,396 - INFO - github_runner_manager.reconcile_service - Reconcile ID: ce5666d3-a899-45b8-bcd4-f6f7d7a8f5cc
2025-10-14 06:47:37,414 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-10-14 06:47:37,414 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-10-14 06:47:37,414 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:47:37,813 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:47:38,795 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-10-14 06:47:39,594 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:47:40,655 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-10-14 06:47:40,656 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-10-14 06:47:40,656 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-10-14 06:47:40,684 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-10-14 06:47:40,685 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-10-14 06:47:40,685 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-10-14 06:47:40,685 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-10-14 06:47:40,685 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-10-14 06:47:40,685 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-10-14 06:47:40,685 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:47:41,619 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-10-14 06:47:42,394 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:47:42,394 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 2
2025-10-14 06:47:42,394 - INFO - github_runner_manager.manager.runner_manager - Creating 2 runners
2025-10-14 06:47:42,878 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='175026', url=None))
2025-10-14 06:47:42,882 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Creating openstack server with RunnerIdentity(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name=<Platform.GITHUB: 'github'>, runner_id='175025', url=None))
2025-10-14 06:47:44,330 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-tmdv2w16-0-n-bf3ea9c8b483 created successfully
2025-10-14 06:47:44,376 - INFO - github_runner_manager.openstack_cloud.openstack_runner_manager - Runner test-tmdv2w16-0-n-b421acdb3e1c created successfully
2025-10-14 06:47:44,383 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:47:45,406 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:47:46,200 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:47:46,200 - INFO - github_runner_manager.manager.runner_scaler - Runner test-tmdv2w16-0-n-bf3ea9c8b483: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-10-14 06:47:46,200 - INFO - github_runner_manager.manager.runner_scaler - Runner test-tmdv2w16-0-n-b421acdb3e1c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-10-14 06:47:46,200 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-10-14 06:47:46,200 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-10-14 06:47:46,200 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-10-14 06:47:46,200 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-tmdv2w16-0-n-bf3ea9c8b483', instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>), RunnerInstance(name='test-tmdv2w16-0-n-b421acdb3e1c', instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-10-14 06:47:46,200 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-10-14 06:47:46,200 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-10-14 06:47:46,201 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-10-14 06:47:46,201 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 2
2025-10-14 06:47:46,201 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-10-14 06:48:01,325 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:48:01] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:48:01,332 - INFO - github_runner_manager.http_server - Checking runners...
2025-10-14 06:48:01,349 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:48:01,720 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:48:03,132 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:48:04,004 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:48:04,005 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:48:04] "GET /runner/check HTTP/1.1" 200 -
2025-10-14 06:48:35,362 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:48:35] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:48:35,369 - INFO - github_runner_manager.http_server - Checking runners...
2025-10-14 06:48:35,387 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:48:35,728 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:48:37,120 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:48:38,098 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:48:38,098 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:48:38] "GET /runner/check HTTP/1.1" 200 -
2025-10-14 06:49:09,398 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:49:09] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:49:09,405 - INFO - github_runner_manager.http_server - Checking runners...
2025-10-14 06:49:09,426 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:49:09,764 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:49:35,689 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:49:36,508 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:49:36,509 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:49:36] "GET /runner/check HTTP/1.1" 200 -
2025-10-14 06:49:46,289 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-10-14 06:49:46,290 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 9be547fa-9b59-460d-9114-2ff15c18f3f6
2025-10-14 06:49:46,308 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-10-14 06:49:46,308 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-10-14 06:49:46,308 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:49:46,675 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:49:47,634 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:49:48,460 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:49:49,437 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-10-14 06:49:49,437 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 2 key files, clean up 0 key files
2025-10-14 06:49:49,437 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-10-14 06:49:49,460 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-10-14 06:49:49,460 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-10-14 06:49:49,460 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-10-14 06:49:49,460 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-10-14 06:49:49,460 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-10-14 06:49:49,460 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-10-14 06:49:49,460 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:49:50,465 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:49:51,243 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:49:51,244 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 2 to 2
2025-10-14 06:49:51,244 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-10-14 06:49:51,244 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:49:52,198 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:49:53,118 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:49:53,118 - INFO - github_runner_manager.manager.runner_scaler - Runner test-tmdv2w16-0-n-bf3ea9c8b483: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-10-14 06:49:53,118 - INFO - github_runner_manager.manager.runner_scaler - Runner test-tmdv2w16-0-n-b421acdb3e1c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-10-14 06:49:53,118 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-10-14 06:49:53,118 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-10-14 06:49:53,118 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-10-14 06:49:53,118 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-tmdv2w16-0-n-bf3ea9c8b483', instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>), RunnerInstance(name='test-tmdv2w16-0-n-b421acdb3e1c', instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-10-14 06:49:53,118 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-10-14 06:49:53,118 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-10-14 06:49:53,118 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-10-14 06:49:53,118 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-10-14 06:49:53,119 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-10-14 06:50:07,517 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:50:07] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:50:07,525 - INFO - github_runner_manager.http_server - Checking runners...
2025-10-14 06:50:07,543 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:50:07,915 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:50:08,889 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:50:10,115 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:50:10,116 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:50:10] "GET /runner/check HTTP/1.1" 200 -
2025-10-14 06:50:41,551 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:50:41] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:50:41,558 - INFO - github_runner_manager.http_server - Checking runners...
2025-10-14 06:50:41,580 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:50:41,948 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:50:42,949 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:50:43,749 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:50:43,750 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:50:43] "GET /runner/check HTTP/1.1" 200 -
2025-10-14 06:51:15,591 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:51:15] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:51:15,598 - INFO - github_runner_manager.http_server - Checking runners...
2025-10-14 06:51:15,616 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:51:15,960 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:51:17,010 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:51:17,856 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:51:17,856 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:51:17] "GET /runner/check HTTP/1.1" 200 -
2025-10-14 06:51:49,618 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:51:49] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:51:49,626 - INFO - github_runner_manager.http_server - Checking runners...
2025-10-14 06:51:49,649 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:51:49,983 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:51:51,045 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:51:51,857 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:51:51,858 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:51:51] "GET /runner/check HTTP/1.1" 200 -
2025-10-14 06:51:53,129 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-10-14 06:51:53,130 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 38b647e2-7e0a-4c20-98a4-401c8385aada
2025-10-14 06:51:53,147 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 2. max_quantity: 0.
2025-10-14 06:51:53,147 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-10-14 06:51:53,147 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:51:53,495 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:51:54,627 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:51:55,610 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:51:56,643 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-10-14 06:51:56,644 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 2 key files, clean up 0 key files
2025-10-14 06:51:56,644 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-10-14 06:51:56,678 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-10-14 06:51:56,678 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-10-14 06:51:56,678 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-10-14 06:51:56,678 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-10-14 06:51:56,678 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-10-14 06:51:56,678 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-10-14 06:51:56,678 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:51:57,719 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:51:58,586 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:51:58,587 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 2 to 2
2025-10-14 06:51:58,587 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-10-14 06:51:58,587 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:51:59,615 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:52:00,461 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:52:00,461 - INFO - github_runner_manager.manager.runner_scaler - Runner test-tmdv2w16-0-n-bf3ea9c8b483: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-10-14 06:52:00,461 - INFO - github_runner_manager.manager.runner_scaler - Runner test-tmdv2w16-0-n-b421acdb3e1c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNKNOWN
2025-10-14 06:52:00,461 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-10-14 06:52:00,461 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-10-14 06:52:00,461 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-10-14 06:52:00,461 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-tmdv2w16-0-n-bf3ea9c8b483', instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>), RunnerInstance(name='test-tmdv2w16-0-n-b421acdb3e1c', instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), cloud_state=<VMState.CREATED: '1'>)]
2025-10-14 06:52:00,461 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-10-14 06:52:00,461 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-10-14 06:52:00,461 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-10-14 06:52:00,461 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-10-14 06:52:00,461 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-10-14 06:52:23,729 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:52:23] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:52:23,737 - INFO - github_runner_manager.http_server - Checking runners...
2025-10-14 06:52:23,805 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:52:24,142 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:52:25,155 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:52:25,966 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.CREATED: '1'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:52:25,967 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:52:25] "GET /runner/check HTTP/1.1" 200 -
2025-10-14 06:52:57,712 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:52:57] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:52:57,719 - INFO - github_runner_manager.http_server - Checking runners...
2025-10-14 06:52:57,740 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:52:58,097 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:52:59,276 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:53:00,082 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:53:00,082 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:53:00] "GET /runner/check HTTP/1.1" 200 -
2025-10-14 06:53:01,737 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:53:01] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:53:01,744 - INFO - github_runner_manager.http_server - Checking runners...
2025-10-14 06:53:01,762 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:53:02,101 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:53:03,195 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:53:04,121 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:53:04,122 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:53:04] "GET /runner/check HTTP/1.1" 200 -
2025-10-14 06:53:06,538 - INFO - root - Starting GitHub runner manager service version: 0.6.2
2025-10-14 06:53:06,543 - INFO - github_runner_manager.http_server - Starting the server...
2025-10-14 06:53:06,543 - INFO - github_runner_manager.reconcile_service - Starting the reconcile service...
 * Serving Flask app 'github_runner_manager.http_server'
 * Debug mode: off
2025-10-14 06:53:06,544 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-10-14 06:53:06,544 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 04a5a931-f5a6-4b1c-a02b-b7f45fd8d40f
2025-10-14 06:53:06,562 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-10-14 06:53:06,562 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-10-14 06:53:06,562 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:53:06,562 - INFO - werkzeug - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:55555
2025-10-14 06:53:06,562 - INFO - werkzeug - [33mPress CTRL+C to quit[0m
2025-10-14 06:53:06,899 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:53:07,931 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:53:08,776 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:53:09,753 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-10-14 06:53:09,753 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 2 key files, clean up 0 key files
2025-10-14 06:53:09,753 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-10-14 06:53:09,781 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-10-14 06:53:09,781 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-10-14 06:53:09,781 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-10-14 06:53:09,781 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-10-14 06:53:09,781 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-10-14 06:53:09,782 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-10-14 06:53:09,782 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:53:10,807 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:53:11,539 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:53:11,539 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 2 to 0
2025-10-14 06:53:11,539 - INFO - github_runner_manager.manager.runner_manager - runner_manager::delete_runners Deleting 2 runners
2025-10-14 06:53:11,539 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:53:12,653 - INFO - github_runner_manager.manager.runner_manager - VMs: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:53:13,476 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=False, runner_in_platform=True), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=True, busy=False, deletable=False, runner_in_platform=True)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:53:13,476 - INFO - github_runner_manager.manager.runner_manager - Runners to clean up: set()
2025-10-14 06:53:13,476 - INFO - github_runner_manager.manager.runner_manager - Runners to scale down: {'175026', '175025'}
2025-10-14 06:53:13,476 - INFO - github_runner_manager.manager.runner_manager - Deleting platform runners: ['175026', '175025']
2025-10-14 06:53:13,476 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: ['175026', '175025']
2025-10-14 06:53:13,954 - INFO - github_runner_manager.manager.runner_manager - Deleted runners: ['175026', '175025']
2025-10-14 06:53:13,954 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: [InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483')]
2025-10-14 06:53:13,954 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-tmdv2w16-0-n-b421acdb3e1c
2025-10-14 06:53:13,954 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting openstack server with test-tmdv2w16-0-n-bf3ea9c8b483
2025-10-14 06:53:14,752 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-10-14 06:53:14,811 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-10-14 06:53:15,073 - INFO - paramiko.transport - Connected (version 2.0, client OpenSSH_9.6p1)
2025-10-14 06:53:15,129 - INFO - paramiko.transport - Authentication (publickey) successful!
2025-10-14 06:53:15,446 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/runner-installed.timestamp on instance 10.151.122.217, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/runner-installed.timestamp': No such file or directory

2025-10-14 06:53:15,446 - WARNING - github_runner_manager.metrics.runner - Failed to pull file runner-installed.timestamp metrics for test-tmdv2w16-0-n-bf3ea9c8b483: Unable to get file size of /home/ubuntu/metrics-exchange/runner-installed.timestamp.
2025-10-14 06:53:15,491 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.151.122.217, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-10-14 06:53:15,491 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-tmdv2w16-0-n-bf3ea9c8b483: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-10-14 06:53:15,526 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.151.122.217, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-10-14 06:53:15,526 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-tmdv2w16-0-n-bf3ea9c8b483: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-10-14 06:53:15,526 - WARNING - github_runner_manager.metrics.runner - No metrics pulled for test-tmdv2w16-0-n-bf3ea9c8b483
2025-10-14 06:53:15,650 - INFO - paramiko.transport.sftp - [chan 2] Opened sftp connection (server version 3)
2025-10-14 06:53:15,665 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json on instance 10.151.122.164, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/pre-job-metrics.json': No such file or directory

2025-10-14 06:53:15,665 - WARNING - github_runner_manager.metrics.runner - Failed to pull file pre-job-metrics.json metrics for test-tmdv2w16-0-n-b421acdb3e1c: Unable to get file size of /home/ubuntu/metrics-exchange/pre-job-metrics.json.
2025-10-14 06:53:15,710 - WARNING - github_runner_manager.metrics.runner - Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json on instance 10.151.122.164, exit code: 1, stdout: , stderr: stat: cannot statx '/home/ubuntu/metrics-exchange/post-job-metrics.json': No such file or directory

2025-10-14 06:53:15,711 - WARNING - github_runner_manager.metrics.runner - Failed to pull file post-job-metrics.json metrics for test-tmdv2w16-0-n-b421acdb3e1c: Unable to get file size of /home/ubuntu/metrics-exchange/post-job-metrics.json.
2025-10-14 06:53:15,711 - INFO - paramiko.transport.sftp - [chan 2] sftp session closed.
2025-10-14 06:53:15,711 - INFO - github_runner_manager.manager.runner_manager - Deleting VMs: [InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483')]
2025-10-14 06:53:15,712 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-tmdv2w16-0-n-bf3ea9c8b483
2025-10-14 06:53:15,715 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting server test-tmdv2w16-0-n-b421acdb3e1c
2025-10-14 06:53:16,285 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-tmdv2w16-0-n-b421acdb3e1c (true delete: True)
2025-10-14 06:53:16,285 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-tmdv2w16-0-n-b421acdb3e1c
2025-10-14 06:53:16,301 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted server test-tmdv2w16-0-n-bf3ea9c8b483 (true delete: True)
2025-10-14 06:53:16,301 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleting key: test-tmdv2w16-0-n-bf3ea9c8b483
2025-10-14 06:53:16,306 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-tmdv2w16-0-n-b421acdb3e1c
2025-10-14 06:53:16,323 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Deleted key: test-tmdv2w16-0-n-bf3ea9c8b483
2025-10-14 06:53:16,323 - INFO - github_runner_manager.manager.runner_manager - deleted VMs: [InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483')]
2025-10-14 06:53:16,324 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:53:17,339 - INFO - github_runner_manager.manager.runner_manager - list vms response: [VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc))]
2025-10-14 06:53:18,184 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False)], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:53:18,184 - INFO - github_runner_manager.manager.runner_scaler - Runner test-tmdv2w16-0-n-bf3ea9c8b483: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-10-14 06:53:18,184 - INFO - github_runner_manager.manager.runner_scaler - Runner test-tmdv2w16-0-n-b421acdb3e1c: state=PlatformRunnerState.OFFLINE, health=HealthState.UNHEALTHY
2025-10-14 06:53:18,184 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-10-14 06:53:18,184 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-10-14 06:53:18,184 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-10-14 06:53:18,184 - INFO - github_runner_manager.manager.runner_scaler - Found 2 unhealthy runners: [RunnerInstance(name='test-tmdv2w16-0-n-bf3ea9c8b483', instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-bf3ea9c8b483'), metadata=RunnerMetadata(platform_name='github', runner_id='175025', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 44, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>), RunnerInstance(name='test-tmdv2w16-0-n-b421acdb3e1c', instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), platform_state=<PlatformRunnerState.OFFLINE: '3'>, platform_health=PlatformRunnerHealth(identity=VM(instance_id=InstanceID('test-tmdv2w16-0-n-b421acdb3e1c'), metadata=RunnerMetadata(platform_name='github', runner_id='175026', url=None), state=<VMState.ACTIVE: '2'>, created_at=datetime.datetime(2025, 10, 14, 6, 47, 45, tzinfo=datetime.timezone.utc)), online=False, busy=False, deletable=True, runner_in_platform=False), cloud_state=<VMState.ACTIVE: '2'>)]
2025-10-14 06:53:18,185 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-10-14 06:53:18,185 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-10-14 06:53:18,185 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-10-14 06:53:18,185 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: -2
2025-10-14 06:53:18,185 - INFO - github_runner_manager.reconcile_service - End reconciliation
2025-10-14 06:53:21,121 - INFO - werkzeug - 127.0.0.1 - - [14/Oct/2025 06:53:21] "[35m[1mGET /health HTTP/1.1[0m" 204 -
2025-10-14 06:55:18,237 - INFO - github_runner_manager.reconcile_service - Start reconciliation
2025-10-14 06:55:18,237 - INFO - github_runner_manager.reconcile_service - Reconcile ID: 607e1751-bbf4-4a8b-b2fa-3506adc8b92b
2025-10-14 06:55:18,255 - INFO - github_runner_manager.manager.runner_scaler - Start reconcile. base_quantity 0. max_quantity: 0.
2025-10-14 06:55:18,255 - INFO - github_runner_manager.manager.runner_manager - runner_manager::cleanup
2025-10-14 06:55:18,255 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:55:18,610 - WARNING - github_runner_manager.openstack_cloud.openstack_cloud - The maximum compute API version 2.96 is greater than the supported version 2.91. Using the maximum supported version.
2025-10-14 06:55:19,544 - INFO - github_runner_manager.manager.runner_manager - VMs: []
2025-10-14 06:55:20,455 - INFO - github_runner_manager.manager.runner_manager - Runner health: RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:55:21,426 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up SSH key files
2025-10-14 06:55:21,426 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Found 0 key files, clean up 0 key files
2025-10-14 06:55:21,426 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Cleaning up openstack keypairs
2025-10-14 06:55:21,451 - INFO - github_runner_manager.manager.runner_manager - Cleaning up platform runners: []
2025-10-14 06:55:21,451 - INFO - github_runner_manager.platform.github_provider - Delete runners from GitHub provider: []
2025-10-14 06:55:21,451 - INFO - github_runner_manager.manager.runner_manager - Cleaned up platform runners: []
2025-10-14 06:55:21,451 - INFO - github_runner_manager.manager.runner_manager - Extracting metrics from VMs: []
2025-10-14 06:55:21,451 - INFO - github_runner_manager.manager.runner_manager - Cleaning up VMs: []
2025-10-14 06:55:21,451 - INFO - github_runner_manager.manager.runner_manager - Cleaned up VMs: []
2025-10-14 06:55:21,451 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:55:22,402 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-10-14 06:55:23,266 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:55:23,266 - INFO - github_runner_manager.manager.runner_scaler - Reconcile runners from 0 to 0
2025-10-14 06:55:23,266 - INFO - github_runner_manager.manager.runner_scaler - No changes to the number of runners.
2025-10-14 06:55:23,266 - INFO - github_runner_manager.openstack_cloud.openstack_cloud - Getting all openstack servers managed by the charm
2025-10-14 06:55:24,117 - INFO - github_runner_manager.manager.runner_manager - list vms response: []
2025-10-14 06:55:24,926 - INFO - github_runner_manager.manager.runner_manager - runner health response RunnersHealthResponse(requested_runners=[], failed_requested_runners=[], non_requested_runners=[])
2025-10-14 06:55:24,926 - INFO - github_runner_manager.manager.runner_scaler - Found 0 busy runners: []
2025-10-14 06:55:24,926 - INFO - github_runner_manager.manager.runner_scaler - Found 0 idle runners: []
2025-10-14 06:55:24,926 - INFO - github_runner_manager.manager.runner_scaler - Found 0 offline runners that are healthy: []
2025-10-14 06:55:24,926 - INFO - github_runner_manager.manager.runner_scaler - Found 0 unhealthy runners: []
2025-10-14 06:55:24,926 - INFO - github_runner_manager.manager.runner_scaler - Current available runners (idle + healthy offline): set()
2025-10-14 06:55:24,926 - INFO - github_runner_manager.manager.runner_scaler - Current active runners: set()
2025-10-14 06:55:24,926 - INFO - github_runner_manager.manager.runner_scaler - Finished reconciliation.
2025-10-14 06:55:24,926 - INFO - github_runner_manager.reconcile_service - Change in number of runner after reconcile: 0
2025-10-14 06:55:24,927 - INFO - github_runner_manager.reconcile_service - End reconciliation

06:55:45 INFO Reactive log: 
cat: '/var/log/reactive_runner/*.log': No such file or directory

06:55:46 INFO Metrics log: 
{"timestamp": 1760424297.9781215, "event": "reconciliation", "flavor": "test-tmdv2w16", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 7.482930421829224}
{"timestamp": 1760424337.3123891, "event": "reconciliation", "flavor": "test-tmdv2w16", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 2, "duration": 10.12701678276062}
{"timestamp": 1760424466.200938, "event": "reconciliation", "flavor": "test-tmdv2w16", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 2, "duration": 8.786263465881348}
{"timestamp": 1760424593.118675, "event": "reconciliation", "flavor": "test-tmdv2w16", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 2, "duration": 6.810084104537964}
{"timestamp": 1760424720.4615955, "event": "reconciliation", "flavor": "test-tmdv2w16", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 2, "duration": 7.31369423866272}
{"timestamp": 1760424777.0, "event": "runner_installed", "flavor": "test-tmdv2w16", "duration": 312.0}
{"timestamp": 1760424798.1851578, "event": "reconciliation", "flavor": "test-tmdv2w16", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 11.62252140045166}
{"timestamp": 1760424924.9266572, "event": "reconciliation", "flavor": "test-tmdv2w16", "crashed_runners": 0, "idle_runners": 0, "active_runners": 0, "expected_runners": 0, "duration": 6.671095132827759}

06:55:46 INFO OpenStack servers: []
06:55:48 INFO Model status:

Model                   Controller           Cloud/Region         Version  SLA          Timestamp
test-charm-runner-yzeq  github-pr-587b7-lxd  localhost/localhost  3.6.9    unsupported  06:55:48Z

App                                   Version  Status  Scale  Charm                        Channel      Rev  Exposed  Message
github-runner-image-builder-tmdv2w16           active      1  github-runner-image-builder  latest/edge  126  no       
test-tmdv2w16                                  active      1  github-runner                               0  no       

Unit                                     Workload  Agent  Machine  Public address  Ports  Message
github-runner-image-builder-tmdv2w16/0*  active    idle   0        10.22.123.251          
test-tmdv2w16/0*                         active    idle   1        10.22.123.111          

Machine  State    Address        Inst id        Base          AZ             Message
0        started  10.22.123.251  juju-f19176-0  ubuntu@22.04  github-runner  Running
1        started  10.22.123.111  juju-f19176-1  ubuntu@22.04  github-runner  Running

06:55:48 INFO Juju error logs:

machine-1: 06:27:39 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-1: 06:27:39 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-test-tmdv2w16-0: 06:27:39 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
machine-0: 06:27:39 ERROR juju.worker.dependency "kvm-container-provisioner" manifold worker returned unexpected error: container types not yet available
machine-0: 06:27:39 ERROR juju.worker.dependency "lxd-container-provisioner" manifold worker returned unexpected error: container types not yet available
unit-github-runner-image-builder-tmdv2w16-0: 06:27:39 ERROR juju.worker.meterstatus error running "meter-status-changed": charm missing from disk
unit-test-tmdv2w16-0: 06:28:28 ERROR unit.test-tmdv2w16/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-tmdv2w16-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-tmdv2w16-0/charm/./src/charm.py", line 342, in _on_config_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-tmdv2w16-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-github-runner-image-builder-tmdv2w16-0: 06:28:28 ERROR unit.github-runner-image-builder-tmdv2w16/0.juju-log Pipx command failed, code: 1, out: None, err: None
unit-test-tmdv2w16-0: 06:28:29 ERROR unit.test-tmdv2w16/0.juju-log Missing image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-tmdv2w16-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-tmdv2w16-0/charm/./src/charm.py", line 313, in _on_start
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-tmdv2w16-0/charm/./src/charm.py", line 512, in _check_image_ready
    raise ImageIntegrationMissingError("No image integration found")
errors.ImageIntegrationMissingError: No image integration found
unit-test-tmdv2w16-0: 06:29:44 ERROR unit.test-tmdv2w16/0.juju-log image:0: Missing image in image integration.
Traceback (most recent call last):
  File "/var/lib/juju/agents/unit-test-tmdv2w16-0/charm/./src/charm.py", line 118, in func_with_catch_errors
    func(self, event)
  File "/var/lib/juju/agents/unit-test-tmdv2w16-0/charm/./src/charm.py", line 477, in _on_image_relation_changed
    self._check_image_ready()
  File "/var/lib/juju/agents/unit-test-tmdv2w16-0/charm/./src/charm.py", line 514, in _check_image_ready
    raise ImageNotFoundError("No image found in the image integration")
errors.ImageNotFoundError: No image found in the image integration

06:55:48 INFO Forgetting model main...