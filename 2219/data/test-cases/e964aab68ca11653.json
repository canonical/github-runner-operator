{"uid":"e964aab68ca11653","name":"test_charm_issues_runner_installed_metric","fullName":"tests.integration.test_charm_metrics_success#test_charm_issues_runner_installed_metric","historyId":"e17a87a5edf7f3fc2e4a150d14c3656f","time":{"start":1743064931391,"stop":1743065213295,"duration":281904},"description":"\n    arrange: A charm integrated with grafana-agent using the cos-agent integration.\n    act: Config the charm to contain one runner.\n    assert: The RunnerInstalled metric is logged.\n    ","descriptionHtml":"<pre><code>arrange: A charm integrated with grafana-agent using the cos-agent integration.\nact: Config the charm to contain one runner.\nassert: The RunnerInstalled metric is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1743063929382,"stop":1743063929382,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1743063929382,"stop":1743063929382,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1743063929383,"stop":1743063929895,"duration":512},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1743063929895,"stop":1743063929895,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1743063929896,"stop":1743063929896,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1743063929896,"stop":1743063929896,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1743063929896,"stop":1743063929896,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1743063929896,"stop":1743063929896,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1743063929896,"stop":1743064930353,"duration":1000457},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1743063929896,"stop":1743063929896,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1743063929897,"stop":1743063929897,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1743063929897,"stop":1743063929897,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1743063929897,"stop":1743063929897,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1743063929897,"stop":1743063929897,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1743063929897,"stop":1743063929897,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1743063929897,"stop":1743063929897,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1743063929897,"stop":1743063929897,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1743063929898,"stop":1743063929898,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1743063929898,"stop":1743063929898,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1743063929898,"stop":1743063929898,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1743063929898,"stop":1743063929908,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1743063929898,"stop":1743063929898,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1743063929898,"stop":1743063929898,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1743063929909,"stop":1743063929938,"duration":29},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1743063929938,"stop":1743064172351,"duration":242413},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1743064172351,"stop":1743064930353,"duration":758002},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric","time":{"start":1743064930353,"stop":1743064930354,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1743064930354,"stop":1743064930354,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1743064930354,"stop":1743064931389,"duration":1035},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1743064931389,"stop":1743064931390,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A charm integrated with grafana-agent using the cos-agent integration.\n    act: Config the charm to contain one runner.\n    assert: The RunnerInstalled metric is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"f63291a1153128ac","name":"log","source":"f63291a1153128ac.txt","type":"text/plain","size":6782}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1743065213299,"stop":1743065213300,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app::finalizer","time":{"start":1743065213299,"stop":1743065213299,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_for_metric::finalizer","time":{"start":1743065533363,"stop":1743065533364,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1743065533365,"stop":1743065533837,"duration":472},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1743065533838,"stop":1743065534825,"duration":987},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1743065534832,"stop":1743065535318,"duration":486},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1743065535319,"stop":1743065535319,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1743065535320,"stop":1743065535320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1743065535320,"stop":1743065535320,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_metrics_success"},{"name":"host","value":"github-runner"},{"name":"thread","value":"14284-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_metrics_success"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"54de4384d0941c54","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":7,"broken":11,"skipped":0,"passed":26,"unknown":7,"total":51},"items":[{"uid":"7c23932bcad61754","reportUrl":"../2216//#testresult/7c23932bcad61754","status":"passed","time":{"start":1743020097018,"stop":1743020367897,"duration":270879}},{"uid":"c6b1d68c3029e2b5","reportUrl":"../2205//#testresult/c6b1d68c3029e2b5","status":"passed","time":{"start":1742971530307,"stop":1742971852010,"duration":321703}},{"uid":"c9b726b4717938a9","reportUrl":"../2202//#testresult/c9b726b4717938a9","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-tna4x686/0 [idle] waiting: Waiting for image over integration.\n  github-runner-image-builder-tna4x686/0 [executing] active: Building image.","time":{"start":1742927164961,"stop":1742927164961,"duration":0}},{"uid":"ed39dc841c0d745b","reportUrl":"../2196//#testresult/ed39dc841c0d745b","status":"passed","time":{"start":1742889091628,"stop":1742889337236,"duration":245608}},{"uid":"88bcfe7af9440e67","reportUrl":"../2182//#testresult/88bcfe7af9440e67","status":"passed","time":{"start":1742798569851,"stop":1742798849056,"duration":279205}},{"uid":"579220185afc0f3b","reportUrl":"../2179//#testresult/579220185afc0f3b","status":"passed","time":{"start":1742755392162,"stop":1742755682117,"duration":289955}},{"uid":"14a37d6f14123cb3","reportUrl":"../2178//#testresult/14a37d6f14123cb3","status":"passed","time":{"start":1742712149831,"stop":1742712414936,"duration":265105}},{"uid":"7502cdb7f517e676","reportUrl":"../2177//#testresult/7502cdb7f517e676","status":"passed","time":{"start":1742668884878,"stop":1742669163849,"duration":278971}},{"uid":"cd13b4f73a049590","reportUrl":"../2176//#testresult/cd13b4f73a049590","status":"passed","time":{"start":1742625636880,"stop":1742625904731,"duration":267851}},{"uid":"625441ded9d7b666","reportUrl":"../2175//#testresult/625441ded9d7b666","status":"passed","time":{"start":1742582821536,"stop":1742583120591,"duration":299055}},{"uid":"c596beb9f3d284b8","reportUrl":"../2165//#testresult/c596beb9f3d284b8","status":"passed","time":{"start":1742542776869,"stop":1742543244848,"duration":467979}},{"uid":"d56e5266a93a739b","reportUrl":"../2156//#testresult/d56e5266a93a739b","status":"passed","time":{"start":1742496212544,"stop":1742496482729,"duration":270185}},{"uid":"401cea7ad2da54bc","reportUrl":"../1727//#testresult/401cea7ad2da54bc","status":"unknown","time":{}},{"uid":"c3b0e9e776129408","reportUrl":"../1725//#testresult/c3b0e9e776129408","status":"unknown","time":{}},{"uid":"8952df371859e28e","reportUrl":"../1724//#testresult/8952df371859e28e","status":"unknown","time":{}},{"uid":"fab7d93534c177a","reportUrl":"../1723//#testresult/fab7d93534c177a","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-dtyee19h/0 [idle] blocked: Invalid token.","time":{"start":1736630475756,"stop":1736630475756,"duration":0}},{"uid":"7e22d602bb995b2e","reportUrl":"../1722//#testresult/7e22d602bb995b2e","status":"passed","time":{"start":1736598445138,"stop":1736598683766,"duration":238628}},{"uid":"108ee49b0fb4a61c","reportUrl":"../1718//#testresult/108ee49b0fb4a61c","status":"unknown","time":{}},{"uid":"b7b16f936f02c668","reportUrl":"../1717//#testresult/b7b16f936f02c668","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-z2joq3mp/0 [idle] blocked: Invalid token.","time":{"start":1736457238457,"stop":1736457238457,"duration":0}},{"uid":"cb26b462097be966","reportUrl":"../1714//#testresult/cb26b462097be966","status":"failed","statusDetails":"AssertionError: runner_installed event has not been logged\nassert 'runner_installed' in {'reconciliation'}","time":{"start":1736406864692,"stop":1736407286656,"duration":421964}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"e964aab68ca11653.json","parameterValues":[]}