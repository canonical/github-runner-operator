{"uid":"8eef418a5e1caa6","name":"test_ssh_debug","fullName":"tests.integration.test_debug_ssh#test_ssh_debug","historyId":"4f16d0ceae44b92b8c4e82e7e2774aa1","time":{"start":1754678801749,"stop":1754679326776,"duration":525027},"description":"\n    arrange: given an integrated GitHub-Runner charm and tmate-ssh-server charm.\n    act: when canonical/action-tmate is triggered.\n    assert: the ssh connection info from action-log and tmate-ssh-server matches.\n    ","descriptionHtml":"<pre><code>arrange: given an integrated GitHub-Runner charm and tmate-ssh-server charm.\nact: when canonical/action-tmate is triggered.\nassert: the ssh connection info from action-log and tmate-ssh-server matches.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"pytestconfig","time":{"start":1754677563993,"stop":1754677563993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1754677563993,"stop":1754677563993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1754677563993,"stop":1754677564692,"duration":699},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1754677563993,"stop":1754677563993,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1754677564693,"stop":1754677564693,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1754677564693,"stop":1754677564702,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1754677564693,"stop":1754677564693,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1754677564693,"stop":1754677564693,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1754677564703,"stop":1754677564703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1754677564703,"stop":1754677564703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1754677564703,"stop":1754677564703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1754677564703,"stop":1754677564703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1754677564703,"stop":1754677564703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1754677564703,"stop":1754677564703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1754677564703,"stop":1754677564703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1754677564703,"stop":1754677564703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1754677564704,"stop":1754677564704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1754677564704,"stop":1754677564704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1754677564704,"stop":1754677564704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1754677564704,"stop":1754677564704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1754677564704,"stop":1754677564705,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1754677564704,"stop":1754677564704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1754677564704,"stop":1754677564704,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1754677564705,"stop":1754677564705,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1754677564705,"stop":1754677564719,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1754677564705,"stop":1754677564705,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1754677564720,"stop":1754677564739,"duration":19},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1754677564739,"stop":1754677566866,"duration":2127},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1754677566867,"stop":1754678661734,"duration":1094867},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_no_wait_tmate","time":{"start":1754678661735,"stop":1754678661747,"duration":12},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1754678661747,"stop":1754678662138,"duration":391},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1754678662138,"stop":1754678662883,"duration":745},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1754678662884,"stop":1754678665153,"duration":2269},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmate_ssh_server_app","time":{"start":1754678665154,"stop":1754678801695,"duration":136541},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmate_ssh_server_unit_ip","time":{"start":1754678801695,"stop":1754678801745,"duration":50},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1754678801746,"stop":1754678801746,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1754678801747,"stop":1754678801747,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: given an integrated GitHub-Runner charm and tmate-ssh-server charm.\n    act: when canonical/action-tmate is triggered.\n    assert: the ssh connection info from action-log and tmate-ssh-server matches.\n    ","status":"passed","steps":[],"attachments":[{"uid":"ff1bc6ac4debfeb6","name":"log","source":"ff1bc6ac4debfeb6.txt","type":"text/plain","size":34995}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1754679326782,"stop":1754679326782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1754679326783,"stop":1754679327455,"duration":672},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1754679327457,"stop":1754679327458,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1754679327459,"stop":1754679327571,"duration":112},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1754679327572,"stop":1754679328392,"duration":820},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1754679328404,"stop":1754679329732,"duration":1328},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1754679329734,"stop":1754679329734,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1754679329734,"stop":1754679329734,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1754679329734,"stop":1754679329734,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_debug_ssh"},{"name":"host","value":"github-runner"},{"name":"thread","value":"12070-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_debug_ssh"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"49506417705137df","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":30,"broken":39,"skipped":0,"passed":107,"unknown":15,"total":191},"items":[{"uid":"4534ba5cdd690743","reportUrl":"../3336//#testresult/4534ba5cdd690743","status":"failed","statusDetails":"AssertionError: Tmate ssh server IP not found in action logs.\nassert '10.65.55.124' in \"\\ufeff2025-08-08T06:52:08.3490326Z Current runner version: '2.327.1'\\n2025-08-08T06:52:08.3500612Z Runner name: 'test-fbykhf72-0-n-b519f8d5ebba'\\n2025-08-08T06:52:08.3501818Z Runner group name: 'Default'\\n2025-08-08T06:52:08.3502966Z Machine name: 'github-runner'\\n2025-08-08T06:52:08.3508262Z ##[group]GITHUB_TOKEN Permissions\\n2025-08-08T06:52:08.3511040Z Actions: write\\n2025-08-08T06:52:08.3511733Z Attestations: write\\n2025-08-08T06:52:08.3512468Z Checks: write\\n2025-08-08T06:52:08.3513169Z Contents: write\\n2025-08-08T06:52:08.3513760Z Deployments: write\\n2025-08-08T06:52:08.3514482Z Discussions: write\\n2025-08-08T06:52:08.3515114Z Issues: write\\n2025-08-08T06:52:08.3515680Z Metadata: read\\n2025-08-08T06:52:08.3517818Z Models: read\\n2025-08-08T06:52:08.3518557Z Packages: write\\n2025-08-08T06:52:08.3519203Z Pages: write\\n2025-08-08T06:52:08.3519852Z PullRequests: write\\n2025-08-08T06:52:08.3520541Z RepositoryProjects: write\\n2025-08-08T06:52:08.3521199Z SecurityEvents: write\\n2025-08-08T06:52:08.3521894Z Statuses: write\\n2025-08-08T06:52:08.3522805Z ##[endgroup]\\n2025-08-08T06:52:08.3525713Z Secret source: Actions\\n2025-08-08T06:52:08.3526529Z Prepare workflow directory\\n2025-08... dependency tree...\\n2025-08-08T06:52:23.3108010Z Reading state information...\\n2025-08-08T06:52:23.5801575Z openssh-client is already the newest version (1:9.6p1-3ubuntu13.13).\\n2025-08-08T06:52:23.5802882Z xz-utils is already the newest version (5.6.1+really5.4.5-1ubuntu0.2).\\n2025-08-08T06:52:23.5803899Z 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\\n2025-08-08T06:52:23.6147885Z Reading package lists...\\n2025-08-08T06:52:23.8736404Z Building dependency tree...\\n2025-08-08T06:52:23.8744575Z Reading state information...\\n2025-08-08T06:52:24.1995348Z tmate is already the newest version (2.4.0-2build3).\\n2025-08-08T06:52:24.1999113Z 0 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.\\n2025-08-08T06:52:24.2206765Z Failed to enable unit: Unit file tmate-proxy.service does not exist.\\n2025-08-08T06:52:24.2224267Z tmate-proxy not enabled\\n2025-08-08T06:52:25.1051117Z /home/ubuntu/.ssh/id_rsa already exists.\\n2025-08-08T06:52:25.1070114Z Overwrite (y/n)? ::debug::Generated SSH-Key successfully\\n2025-08-08T06:52:25.5916787Z ##[error]Error: Invalid value for 'tmate-server-host(TMATE_SERVER_HOST)': ''\\n2025-08-08T06:52:25.7145527Z Cleaning up orphan processes\\n\"","time":{"start":1754635730257,"stop":1754635998204,"duration":267947}},{"uid":"f8dbdb3dccb57e1f","reportUrl":"../3328//#testresult/f8dbdb3dccb57e1f","status":"passed","time":{"start":1754592261219,"stop":1754592776659,"duration":515440}},{"uid":"2a741c81c506f0b5","reportUrl":"../3327//#testresult/2a741c81c506f0b5","status":"passed","time":{"start":1754565923373,"stop":1754566435472,"duration":512099}},{"uid":"912837ae9d4442c9","reportUrl":"../3326//#testresult/912837ae9d4442c9","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-qxzngjtz/0","time":{"start":1754525268961,"stop":1754525268961,"duration":0}},{"uid":"c87764ac8eb0c52a","reportUrl":"../3315//#testresult/c87764ac8eb0c52a","status":"unknown","time":{}},{"uid":"d4425466eb571a16","reportUrl":"../3314//#testresult/d4425466eb571a16","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: test-ufnrdylk/0","time":{"start":1754418279428,"stop":1754418279428,"duration":0}},{"uid":"4f7dd280ef186d8a","reportUrl":"../3312//#testresult/4f7dd280ef186d8a","status":"broken","statusDetails":"AttributeError: 'RateLimitOverview' object has no attribute 'core'","time":{"start":1754375271613,"stop":1754375271613,"duration":0}},{"uid":"1980718f1afa7a83","reportUrl":"../3311//#testresult/1980718f1afa7a83","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\n  test-xfkhmqu8/0 [idle] waiting: Waiting for image over integration.\n  github-runner-image-builder-xfkhmqu8/0 [executing] active: Building image.","time":{"start":1754331955981,"stop":1754331955981,"duration":0}},{"uid":"62a47e67c4d59b2c","reportUrl":"../3302//#testresult/62a47e67c4d59b2c","status":"broken","statusDetails":"AttributeError: 'RateLimitOverview' object has no attribute 'core'","time":{"start":1754288919281,"stop":1754288919281,"duration":0}},{"uid":"c351cd5bc31f1951","reportUrl":"../3301//#testresult/c351cd5bc31f1951","status":"broken","statusDetails":"AttributeError: 'RateLimitOverview' object has no attribute 'core'","time":{"start":1754245445692,"stop":1754245445692,"duration":0}},{"uid":"154fbab12862b710","reportUrl":"../3300//#testresult/154fbab12862b710","status":"broken","statusDetails":"AttributeError: 'RateLimitOverview' object has no attribute 'core'","time":{"start":1754202276480,"stop":1754202276480,"duration":0}},{"uid":"390035e9a485b18d","reportUrl":"../3299//#testresult/390035e9a485b18d","status":"broken","statusDetails":"AttributeError: 'RateLimitOverview' object has no attribute 'core'","time":{"start":1754159058887,"stop":1754159058887,"duration":0}},{"uid":"a630cd676241c203","reportUrl":"../3298//#testresult/a630cd676241c203","status":"broken","statusDetails":"AttributeError: 'RateLimitOverview' object has no attribute 'core'","time":{"start":1754115894448,"stop":1754115894448,"duration":0}},{"uid":"f0fc5a569f674fa2","reportUrl":"../3297//#testresult/f0fc5a569f674fa2","status":"broken","statusDetails":"AttributeError: 'RateLimitOverview' object has no attribute 'core'","time":{"start":1754072956818,"stop":1754072956818,"duration":0}},{"uid":"6f4cef635594d10a","reportUrl":"../3296//#testresult/6f4cef635594d10a","status":"broken","statusDetails":"AttributeError: 'RateLimitOverview' object has no attribute 'core'","time":{"start":1754029668676,"stop":1754029668676,"duration":0}},{"uid":"bf15419637e5a6ed","reportUrl":"../3295//#testresult/bf15419637e5a6ed","status":"broken","statusDetails":"AttributeError: 'RateLimitOverview' object has no attribute 'core'","time":{"start":1753986351344,"stop":1753986351344,"duration":0}},{"uid":"f6877737487ec553","reportUrl":"../3294//#testresult/f6877737487ec553","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-hwjrpgs1/0","time":{"start":1753943113823,"stop":1753943113823,"duration":0}},{"uid":"1eba44e4060e36d4","reportUrl":"../3290//#testresult/1eba44e4060e36d4","status":"passed","time":{"start":1753901238554,"stop":1753901756868,"duration":518314}},{"uid":"332bc5396def2deb","reportUrl":"../2853//#testresult/332bc5396def2deb","status":"passed","time":{"start":1749712196589,"stop":1749712982118,"duration":785529}},{"uid":"ee24a9468fd50b61","reportUrl":"../2844//#testresult/ee24a9468fd50b61","status":"passed","time":{"start":1749667156902,"stop":1749667877125,"duration":720223}}]},"tags":["asyncio","openstack"]},"source":"8eef418a5e1caa6.json","parameterValues":[]}