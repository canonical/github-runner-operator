{"uid":"2c818ae09b96ce33","name":"test_flush_runner_and_resource_config","fullName":"tests.integration.test_charm_runner#test_flush_runner_and_resource_config","historyId":"67136ca3912cd0242f3fc7742c7d8c81","time":{"start":1746686934289,"stop":1746687159910,"duration":225621},"description":"\n    arrange: A working application with one runner.\n    act:\n        1. Run Check_runner action. Record the runner name for later.\n        2. Nothing.\n        3. Change the virtual machine resource configuration.\n        4. Run flush_runner action.\n        5. Dispatch a workflow to make runner busy and call flush_runner action.\n\n    assert:\n        1. One runner exists.\n        2. Check the resource matches the configuration.\n        3. The runner is not flushed since by default it flushes idle.\n\n    Test are combined to reduce number of runner spawned.\n    ","descriptionHtml":"<pre><code>arrange: A working application with one runner.\nact:\n    1. Run Check_runner action. Record the runner name for later.\n    2. Nothing.\n    3. Change the virtual machine resource configuration.\n    4. Run flush_runner action.\n    5. Dispatch a workflow to make runner busy and call flush_runner action.\n\nassert:\n    1. One runner exists.\n    2. Check the resource matches the configuration.\n    3. The runner is not flushed since by default it flushes idle.\n\nTest are combined to reduce number of runner spawned.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1746685535062,"stop":1746685535062,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1746685535062,"stop":1746685535062,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1746685535062,"stop":1746685535555,"duration":493},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1746685535555,"stop":1746685535556,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1746685535556,"stop":1746685535556,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1746685535556,"stop":1746686410878,"duration":875322},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1746685535556,"stop":1746685535556,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1746685535556,"stop":1746685535556,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1746685535557,"stop":1746685535557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1746685535557,"stop":1746685535558,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1746685535557,"stop":1746685535557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1746685535557,"stop":1746685535557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1746685535557,"stop":1746685535557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1746685535557,"stop":1746685535557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1746685535558,"stop":1746685535558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1746685535567,"stop":1746685535589,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1746686769866,"stop":1746686770253,"duration":387},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1746686770254,"stop":1746686771025,"duration":771},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1746686771025,"stop":1746686773230,"duration":2205},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1746686773230,"stop":1746686773231,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1746686773230,"stop":1746686773230,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1746686773231,"stop":1746686934288,"duration":161057},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A working application with one runner.\n    act:\n        1. Run Check_runner action. Record the runner name for later.\n        2. Nothing.\n        3. Change the virtual machine resource configuration.\n        4. Run flush_runner action.\n        5. Dispatch a workflow to make runner busy and call flush_runner action.\n\n    assert:\n        1. One runner exists.\n        2. Check the resource matches the configuration.\n        3. The runner is not flushed since by default it flushes idle.\n\n    Test are combined to reduce number of runner spawned.\n    ","status":"passed","steps":[],"attachments":[{"uid":"6de3812700b18be6","name":"log","source":"6de3812700b18be6.txt","type":"text/plain","size":367}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1746687159910,"stop":1746687214296,"duration":54386},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1746687214298,"stop":1746687214298,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1746687480268,"stop":1746687480795,"duration":527},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1746687480865,"stop":1746687481211,"duration":346},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1746687481218,"stop":1746687481607,"duration":389},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1746687481608,"stop":1746687481608,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1746687481608,"stop":1746687481608,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1746687481608,"stop":1746687481608,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_runner"},{"name":"host","value":"github-runner"},{"name":"thread","value":"9322-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_runner"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"87bd8103dfb73b1e","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":18,"broken":13,"skipped":7,"passed":71,"unknown":13,"total":122},"items":[{"uid":"a98c4f9ce400d564","reportUrl":"../2663//#testresult/a98c4f9ce400d564","status":"passed","time":{"start":1746645038856,"stop":1746645193026,"duration":154170}},{"uid":"183be2a8063d9219","reportUrl":"../2597//#testresult/183be2a8063d9219","status":"passed","time":{"start":1746384388620,"stop":1746384712841,"duration":324221}},{"uid":"8a935db62099dff6","reportUrl":"../2594//#testresult/8a935db62099dff6","status":"failed","statusDetails":"AssertionError: assert '0' == '1'\n  \n  - 1\n  + 0","time":{"start":1746254995442,"stop":1746255053839,"duration":58397}},{"uid":"edf7b5dc8bed1c2b","reportUrl":"../2592//#testresult/edf7b5dc8bed1c2b","status":"passed","time":{"start":1746211854348,"stop":1746212097764,"duration":243416}},{"uid":"ee9da373cd4f62fb","reportUrl":"../2573//#testresult/ee9da373cd4f62fb","status":"failed","statusDetails":"AssertionError: assert '0' == '1'\n  \n  - 1\n  + 0","time":{"start":1746168689919,"stop":1746168753367,"duration":63448}},{"uid":"cfe02a5b2ce17f2a","reportUrl":"../2572//#testresult/cfe02a5b2ce17f2a","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1746125330480,"stop":1746125330480,"duration":0}},{"uid":"acc9a9baecb8aad1","reportUrl":"../2571//#testresult/acc9a9baecb8aad1","status":"failed","statusDetails":"AssertionError: assert '0' == '1'\n  \n  - 1\n  + 0","time":{"start":1746082183311,"stop":1746082262138,"duration":78827}},{"uid":"6e2c8b0aa626cc7d","reportUrl":"../2570//#testresult/6e2c8b0aa626cc7d","status":"failed","statusDetails":"AssertionError: assert '0' == '1'\n  \n  - 1\n  + 0","time":{"start":1746047018672,"stop":1746047085058,"duration":66386}},{"uid":"45e72590f63f4613","reportUrl":"../2549//#testresult/45e72590f63f4613","status":"unknown","time":{}},{"uid":"8073b7745a01f33f","reportUrl":"../2541//#testresult/8073b7745a01f33f","status":"passed","time":{"start":1745913955584,"stop":1745914218890,"duration":263306}},{"uid":"3eb2b4b8efc9e994","reportUrl":"../2530//#testresult/3eb2b4b8efc9e994","status":"passed","time":{"start":1745867948784,"stop":1745868187540,"duration":238756}},{"uid":"6f596542beb21c6c","reportUrl":"../2516//#testresult/6f596542beb21c6c","status":"failed","statusDetails":"AssertionError: assert '0' == '1'\n  \n  - 1\n  + 0","time":{"start":1745822968403,"stop":1745822977464,"duration":9061}},{"uid":"defa1b87b930c1da","reportUrl":"../2511//#testresult/defa1b87b930c1da","status":"passed","time":{"start":1745779826502,"stop":1745780090732,"duration":264230}},{"uid":"a0446e5889c28387","reportUrl":"../2510//#testresult/a0446e5889c28387","status":"passed","time":{"start":1745737143038,"stop":1745737337968,"duration":194930}},{"uid":"2f0ab5d5f2a03367","reportUrl":"../2509//#testresult/2f0ab5d5f2a03367","status":"passed","time":{"start":1745693242099,"stop":1745693454025,"duration":211926}},{"uid":"d7dea6addeab1e85","reportUrl":"../2508//#testresult/d7dea6addeab1e85","status":"passed","time":{"start":1745649837235,"stop":1745650108700,"duration":271465}},{"uid":"7e98bea6da0bac64","reportUrl":"../2505//#testresult/7e98bea6da0bac64","status":"passed","time":{"start":1745606834697,"stop":1745607056147,"duration":221450}},{"uid":"7e344bc21da2d1ba","reportUrl":"../2497//#testresult/7e344bc21da2d1ba","status":"passed","time":{"start":1745563568786,"stop":1745563800180,"duration":231394}},{"uid":"73efe589921bfdbe","reportUrl":"../2494//#testresult/73efe589921bfdbe","status":"failed","statusDetails":"AssertionError: assert '0' == '1'\n  \n  - 1\n  + 0","time":{"start":1745520365063,"stop":1745520370103,"duration":5040}},{"uid":"7749c2541e1ca68b","reportUrl":"../2489//#testresult/7749c2541e1ca68b","status":"passed","time":{"start":1745434191248,"stop":1745434421497,"duration":230249}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"2c818ae09b96ce33.json","parameterValues":[]}