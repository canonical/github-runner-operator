{"uid":"17a8e65c1cd0a5be","name":"test_dispatch_workflow_failure","fullName":"tests.integration.test_charm_fork_repo#test_dispatch_workflow_failure","historyId":"aecc2c5bd9e3b57c494b399079c58bd6","time":{"start":1757745755273,"stop":1757745993254,"duration":237981},"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","descriptionHtml":"<pre><code>arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\nact: Trigger a workflow dispatch that fails the repo policy check on a branch\n in the forked repository.\nassert: The workflow that was dispatched failed and the reason is logged.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"tmp_path_factory","time":{"start":1757744758015,"stop":1757744758015,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1757744758015,"stop":1757744758015,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1757744758015,"stop":1757744758015,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1757744758016,"stop":1757744758559,"duration":543},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"https_proxy","time":{"start":1757744758559,"stop":1757744758559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"no_proxy","time":{"start":1757744758559,"stop":1757744758559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"http_proxy","time":{"start":1757744758559,"stop":1757744758559,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1757744758559,"stop":1757744758568,"duration":9},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm_file","time":{"start":1757744758568,"stop":1757744758568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1757744758568,"stop":1757745742039,"duration":983471},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1757744758568,"stop":1757744758568,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_https_proxy","time":{"start":1757744758569,"stop":1757744758569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"random_app_name_suffix","time":{"start":1757744758569,"stop":1757744758569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_http_proxy","time":{"start":1757744758569,"stop":1757744758569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1757744758569,"stop":1757744758569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_no_proxy","time":{"start":1757744758569,"stop":1757744758570,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1757744758569,"stop":1757744758569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1757744758569,"stop":1757744758569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app_suffix","time":{"start":1757744758569,"stop":1757744758569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1757744758570,"stop":1757744758570,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1757744758570,"stop":1757744758570,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1757744758570,"stop":1757744758570,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"network_name","time":{"start":1757744758570,"stop":1757744758570,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_config","time":{"start":1757744758571,"stop":1757744758571,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"flavor_name","time":{"start":1757744758571,"stop":1757744758571,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder_app_name","time":{"start":1757744758571,"stop":1757744758571,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_model_proxy","time":{"start":1757744758571,"stop":1757744758585,"duration":14},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1757744758585,"stop":1757744758612,"duration":27},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder","time":{"start":1757744758612,"stop":1757744760494,"duration":1882},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner","time":{"start":1757744760495,"stop":1757745742039,"duration":981544},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1757745742040,"stop":1757745742676,"duration":636},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1757745742676,"stop":1757745743255,"duration":579},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_repository","time":{"start":1757745743255,"stop":1757745753922,"duration":10667},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_with_forked_repo","time":{"start":1757745753923,"stop":1757745753933,"duration":10},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch","time":{"start":1757745753934,"stop":1757745755270,"duration":1336},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1757745755271,"stop":1757745755271,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1757745755271,"stop":1757745755271,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange:         1. A forked repository.         2. A working application using repo-policy checks with one runner on the forked repository.\n    act: Trigger a workflow dispatch that fails the repo policy check on a branch\n     in the forked repository.\n    assert: The workflow that was dispatched failed and the reason is logged.\n    ","status":"passed","steps":[],"attachments":[{"uid":"90f62cbcfcbd9f0a","name":"log","source":"90f62cbcfcbd9f0a.txt","type":"text/plain","size":13584}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1757745993255,"stop":1757745993255,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"forked_github_branch::0","time":{"start":1757745993255,"stop":1757745993702,"duration":447},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_openstack_runner::finalizer","time":{"start":1757745993703,"stop":1757745993704,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"image_builder::finalizer","time":{"start":1757745993704,"stop":1757745993782,"duration":78},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1757745993782,"stop":1757745994702,"duration":920},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1757745994707,"stop":1757745997885,"duration":3178},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1757745997886,"stop":1757745997886,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1757745997887,"stop":1757745997887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1757745997887,"stop":1757745997887,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_fork_repo"},{"name":"host","value":"github-runner"},{"name":"thread","value":"13106-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_fork_repo"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"7426bda1a4d73249","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":14,"broken":68,"skipped":0,"passed":156,"unknown":14,"total":252},"items":[{"uid":"4d506b08efd2fd86","reportUrl":"../3581//#testresult/4d506b08efd2fd86","status":"passed","time":{"start":1757702845448,"stop":1757703150789,"duration":305341}},{"uid":"f874ce1657448b90","reportUrl":"../3578//#testresult/f874ce1657448b90","status":"passed","time":{"start":1757659659304,"stop":1757659906567,"duration":247263}},{"uid":"c3f522b885a33dc5","reportUrl":"../3572//#testresult/c3f522b885a33dc5","status":"passed","time":{"start":1757616091404,"stop":1757616386406,"duration":295002}},{"uid":"f983d598ae25db85","reportUrl":"../3569//#testresult/f983d598ae25db85","status":"passed","time":{"start":1757575036583,"stop":1757575329646,"duration":293063}},{"uid":"13e046e02631e8c9","reportUrl":"../3567//#testresult/13e046e02631e8c9","status":"passed","time":{"start":1757532981861,"stop":1757533313265,"duration":331404}},{"uid":"15e0e59c045d5c1b","reportUrl":"../3565//#testresult/15e0e59c045d5c1b","status":"passed","time":{"start":1757486701920,"stop":1757486939758,"duration":237838}},{"uid":"5d11b6f6bf2a8c61","reportUrl":"../3564//#testresult/5d11b6f6bf2a8c61","status":"passed","time":{"start":1757443228729,"stop":1757443527497,"duration":298768}},{"uid":"96b930d0c4dad312","reportUrl":"../3559//#testresult/96b930d0c4dad312","status":"passed","time":{"start":1757400415591,"stop":1757400746405,"duration":330814}},{"uid":"b6006beed7c41c49","reportUrl":"../3557//#testresult/b6006beed7c41c49","status":"passed","time":{"start":1757357324472,"stop":1757357662263,"duration":337791}},{"uid":"fda8afa8c463a64f","reportUrl":"../3553//#testresult/fda8afa8c463a64f","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder-oezm9d62/0","time":{"start":1757316500688,"stop":1757316500688,"duration":0}},{"uid":"f8e603c44d6c067e","reportUrl":"../3550//#testresult/f8e603c44d6c067e","status":"passed","time":{"start":1757270545646,"stop":1757270782145,"duration":236499}},{"uid":"c8f59ba1ea148a78","reportUrl":"../3549//#testresult/c8f59ba1ea148a78","status":"unknown","time":{}},{"uid":"164daaa5a22118cd","reportUrl":"../3547//#testresult/164daaa5a22118cd","status":"passed","time":{"start":1757141268477,"stop":1757141563499,"duration":295022}},{"uid":"6757cd0082cfa9fe","reportUrl":"../3546//#testresult/6757cd0082cfa9fe","status":"passed","time":{"start":1757098026122,"stop":1757098260302,"duration":234180}},{"uid":"ea9d4a61e15fbf0","reportUrl":"../3536//#testresult/ea9d4a61e15fbf0","status":"passed","time":{"start":1756970530317,"stop":1756970811057,"duration":280740}},{"uid":"395c5ccdebbf5fee","reportUrl":"../3522//#testresult/395c5ccdebbf5fee","status":"passed","time":{"start":1756795934285,"stop":1756796167423,"duration":233138}},{"uid":"926543dbd3de1ff2","reportUrl":"../3518//#testresult/926543dbd3de1ff2","status":"passed","time":{"start":1756752032681,"stop":1756752270706,"duration":238025}},{"uid":"91ca7e46a979cb02","reportUrl":"../3515//#testresult/91ca7e46a979cb02","status":"passed","time":{"start":1756712465167,"stop":1756712705906,"duration":240739}},{"uid":"5ca1e6f387036e6f","reportUrl":"../3512//#testresult/5ca1e6f387036e6f","status":"passed","time":{"start":1756667312006,"stop":1756667544742,"duration":232736}},{"uid":"fd212fc8aecc4329","reportUrl":"../3511//#testresult/fd212fc8aecc4329","status":"passed","time":{"start":1756622518185,"stop":1756622753618,"duration":235433}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"17a8e65c1cd0a5be.json","parameterValues":[]}