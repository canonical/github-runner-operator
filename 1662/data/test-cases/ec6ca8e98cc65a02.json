{"uid":"ec6ca8e98cc65a02","name":"test_flush_runner_and_resource_config","fullName":"tests.integration.test_charm_runner#test_flush_runner_and_resource_config","historyId":"67136ca3912cd0242f3fc7742c7d8c81","time":{"start":1734636331654,"stop":1734636623568,"duration":291914},"description":"\n    arrange: A working application with one runner.\n    act:\n        1. Run Check_runner action. Record the runner name for later.\n        2. Nothing.\n        3. Change the virtual machine resource configuration.\n        4. Run flush_runner action.\n        5. Dispatch a workflow to make runner busy and call flush_runner action.\n\n    assert:\n        1. One runner exists.\n        2. Check the resource matches the configuration.\n        3. The runner is not flushed since by default it flushes idle.\n\n    Test are combined to reduce number of runner spawned.\n    ","descriptionHtml":"<pre><code>arrange: A working application with one runner.\nact:\n    1. Run Check_runner action. Record the runner name for later.\n    2. Nothing.\n    3. Change the virtual machine resource configuration.\n    4. Run flush_runner action.\n    5. Dispatch a workflow to make runner busy and call flush_runner action.\n\nassert:\n    1. One runner exists.\n    2. Check the resource matches the configuration.\n    3. The runner is not flushed since by default it flushes idle.\n\nTest are combined to reduce number of runner spawned.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1734635257201,"stop":1734635257201,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1734635257202,"stop":1734635257202,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1734635257202,"stop":1734635257629,"duration":427},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"model","time":{"start":1734635257629,"stop":1734635257629,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"basic_app","time":{"start":1734635257629,"stop":1734635632612,"duration":374983},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"token","time":{"start":1734635257630,"stop":1734635257630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1734635257630,"stop":1734635257630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app_name","time":{"start":1734635257630,"stop":1734635257630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"path","time":{"start":1734635257630,"stop":1734635257630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_clouds_yaml","time":{"start":1734635257630,"stop":1734635257630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"existing_app","time":{"start":1734635257630,"stop":1734635257630,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_clouds_yaml","time":{"start":1734635257631,"stop":1734635257631,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"clouds_yaml_contents","time":{"start":1734635257631,"stop":1734635257631,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"private_endpoint_config","time":{"start":1734635257631,"stop":1734635257631,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection","time":{"start":1734635632613,"stop":1734635632655,"duration":42},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_client","time":{"start":1734635920584,"stop":1734635920969,"duration":385},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"github_repository","time":{"start":1734635920970,"stop":1734635921530,"duration":560},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch","time":{"start":1734635921531,"stop":1734635923384,"duration":1853},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1734635923384,"stop":1734635923385,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"instance_helper","time":{"start":1734635923385,"stop":1734635923385,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"app","time":{"start":1734635923385,"stop":1734636331653,"duration":408268},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"\n    arrange: A working application with one runner.\n    act:\n        1. Run Check_runner action. Record the runner name for later.\n        2. Nothing.\n        3. Change the virtual machine resource configuration.\n        4. Run flush_runner action.\n        5. Dispatch a workflow to make runner busy and call flush_runner action.\n\n    assert:\n        1. One runner exists.\n        2. Check the resource matches the configuration.\n        3. The runner is not flushed since by default it flushes idle.\n\n    Test are combined to reduce number of runner spawned.\n    ","status":"passed","steps":[],"attachments":[{"uid":"50cc39eabd3eb2cb","name":"log","source":"50cc39eabd3eb2cb.txt","type":"text/plain","size":877}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"app::finalizer","time":{"start":1734636623569,"stop":1734636690273,"duration":66704},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1734636690274,"stop":1734636690274,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"test_github_branch::finalizer","time":{"start":1734637099103,"stop":1734637099709,"duration":606},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"openstack_connection::0","time":{"start":1734637099710,"stop":1734637100423,"duration":713},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1734637100427,"stop":1734637100774,"duration":347},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1734637100775,"stop":1734637100775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1734637100775,"stop":1734637100775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1734637100775,"stop":1734637100775,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"tag","value":"openstack"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_charm_runner"},{"name":"host","value":"github-runner"},{"name":"thread","value":"16167-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_charm_runner"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a83ff2dd70f0a888","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":3,"broken":1,"skipped":0,"passed":8,"unknown":3,"total":15},"items":[{"uid":"506bb78e9eba493d","reportUrl":"../1651//#testresult/506bb78e9eba493d","status":"failed","statusDetails":"AssertionError: assert '0' == '1'\n  \n  - 1\n  + 0","time":{"start":1734613032937,"stop":1734613107360,"duration":74423}},{"uid":"69c47d60acd6edb5","reportUrl":"../1642//#testresult/69c47d60acd6edb5","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: github-runner-image-builder/0","time":{"start":1734543188297,"stop":1734543188297,"duration":0}},{"uid":"95cd6560237fd636","reportUrl":"../1635//#testresult/95cd6560237fd636","status":"passed","time":{"start":1734524178734,"stop":1734524455655,"duration":276921}},{"uid":"27ebf451e9953fa1","reportUrl":"../1634//#testresult/27ebf451e9953fa1","status":"passed","time":{"start":1734517948077,"stop":1734518166533,"duration":218456}},{"uid":"9483f45f9957be19","reportUrl":"../1628//#testresult/9483f45f9957be19","status":"passed","time":{"start":1734457081855,"stop":1734457331483,"duration":249628}},{"uid":"fadd61e599431fe9","reportUrl":"../1626//#testresult/fadd61e599431fe9","status":"passed","time":{"start":1734450584536,"stop":1734450809992,"duration":225456}},{"uid":"84f021592f55c2b6","reportUrl":"../1627//#testresult/84f021592f55c2b6","status":"passed","time":{"start":1734445598576,"stop":1734445861470,"duration":262894}},{"uid":"192af912827244bb","reportUrl":"../1624//#testresult/192af912827244bb","status":"passed","time":{"start":1734437334077,"stop":1734437610933,"duration":276856}},{"uid":"5bf50a5e6a341ad3","reportUrl":"../1618//#testresult/5bf50a5e6a341ad3","status":"unknown","time":{}},{"uid":"4a36bd86663f0f65","reportUrl":"../1614//#testresult/4a36bd86663f0f65","status":"unknown","time":{}},{"uid":"c76d8ba45f65791b","reportUrl":"../1613//#testresult/c76d8ba45f65791b","status":"unknown","time":{}},{"uid":"c794c1e2db3ea330","reportUrl":"../1612//#testresult/c794c1e2db3ea330","status":"passed","time":{"start":1734342869742,"stop":1734343129447,"duration":259705}},{"uid":"8a40bb401c7399ce","reportUrl":"../1606//#testresult/8a40bb401c7399ce","status":"failed","statusDetails":"AssertionError: assert '0' == '1'\n  \n  - 1\n  + 0","time":{"start":1734069502333,"stop":1734069566696,"duration":64363}},{"uid":"a3c193339a09a15d","reportUrl":"../1593//#testresult/a3c193339a09a15d","status":"failed","statusDetails":"AssertionError: assert '0' == '1'\n  \n  - 1\n  + 0","time":{"start":1733765928332,"stop":1733765936387,"duration":8055}}]},"tags":["asyncio","abort_on_fail","openstack"]},"source":"ec6ca8e98cc65a02.json","parameterValues":[]}